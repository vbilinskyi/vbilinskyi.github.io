!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=69)}([function(e,t){e.exports=React},function(e,t,n){"use strict";function r(e,t){return e===t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,s=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,s=0;s<r;s++)if(!e(t[s],n[s]))return!1;return!0}(t,n,arguments)||(s=e.apply(null,arguments)),n=arguments,s}}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=0,i=r.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),l=e.apply(void 0,[function(){return a++,i.apply(null,arguments)}].concat(n)),u=s(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return u.resultFunc=i,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}t.__esModule=!0,t.defaultMemoize=s,t.createSelectorCreator=o,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var a=t.createSelector=o(s)},function(e,t,n){"use strict";var r=n(72),s={};s[n(43)("toStringTag")]="z",s+""!="[object z]"&&n(45)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},,,function(e,t,n){e.exports=n(102)()},,,function(e,t,n){"use strict";e.exports=function(e,t,n,r,s,o,a,i){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,s,o,a,i],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},,,function(e,t){e.exports=ReactDOM},function(e,t,n){e.exports=n(100)()},function(e,t,n){"use strict";n.r(t);var r=n(14);n.d(t,"createStore",function(){return r.b});var s=n(47);n.d(t,"combineReducers",function(){return s.a});var o=n(49);n.d(t,"bindActionCreators",function(){return o.a});var a=n(50);n.d(t,"applyMiddleware",function(){return a.a});var i=n(23);n.d(t,"compose",function(){return i.a});n(48)},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n(27),s=n(33),o=n.n(s),a={INIT:"@@redux/INIT"};function i(e,t,n){var s;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,u=[],d=u,p=!1;function h(){d===u&&(d=u.slice())}function f(){return l}function m(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return h(),d.push(e),function(){if(t){t=!1,h();var n=d.indexOf(e);d.splice(n,1)}}}function g(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++)t[n]();return e}return g({type:a.INIT}),(s={dispatch:g,subscribe:m,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:a.INIT})}})[o.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[o.a]=function(){return this},e},s}},function(e,t,n){var r,s;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(s="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=s),!0,e.exports=o(),!!0){var a=window.Cookies,i=window.Cookies=o();i.noConflict=function(){return window.Cookies=a,i}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,s,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var i=new Date;i.setMilliseconds(i.getMilliseconds()+864e5*o.expires),o.expires=i}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(s),/^[\{\[]/.test(a)&&(s=a)}catch(e){}s=n.write?n.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in o)o[l]&&(c+="; "+l,!0!==o[l]&&(c+="="+o[l]));return document.cookie=t+"="+s+c}t||(a={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var h=u[p].split("="),f=h.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var m=h[0].replace(d,decodeURIComponent);if(f=n.read?n.read(f,m):n(f,m)||f.replace(d,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===m){a=f;break}t||(a[m]=f)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(88)()},function(e,t,n){"use strict";var r=n(98),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function c(e){return r.isMemo(e)?a:i[e.$$typeof]||s}i[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var s=h(n);s&&s!==f&&e(t,s,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var i=c(t),m=c(n),g=0;g<a.length;++g){var b=a[g];if(!(o[b]||r&&r[b]||m&&m[b]||i&&i[b])){var y=p(n,b);try{l(t,b,y)}catch(e){}}}return t}return t}},,function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(104),s=n(52),o=n(106),a=n(21),i=[].sort,c=[1,2,3];r(r.P+r.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!n(108)(i)),"Array",{sort:function(e){return void 0===e?i.call(o(this)):i.call(o(this),s(e))}})},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],s=t.slice(0,-1);return function(){return s.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";e.exports=n(111)},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var s=n&&!0===n.clone;return s&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,s,o){var a=n.slice();return s.forEach(function(s,i){void 0===a[i]?a[i]=t(s,o):e(s)?a[i]=r(n[i],s,o):-1===n.indexOf(s)&&a.push(t(s,o))}),a}function r(s,o,a){var i=Array.isArray(o),c=a||{arrayMerge:n},l=c.arrayMerge||n;return i?Array.isArray(s)?l(s,o,a):t(o,a):function(n,s,o){var a={};return e(n)&&Object.keys(n).forEach(function(e){a[e]=t(n[e],o)}),Object.keys(s).forEach(function(i){e(s[i])&&n[i]?a[i]=r(n[i],s[i],o):a[i]=t(s[i],o)}),a}(s,o,a)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()}),s=n(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),o=s.svg,a=s.xlink,i={};i[o.name]=o.uri,i[a.name]=a.uri;var c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(r(i,t||{}))+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)})}).call(this,n(17))},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var n=e(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var s=n&&!0===n.clone;return s&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,s,o){var a=n.slice();return s.forEach(function(s,i){void 0===a[i]?a[i]=t(s,o):e(s)?a[i]=r(n[i],s,o):-1===n.indexOf(s)&&a.push(t(s,o))}),a}function r(s,o,a){var i=Array.isArray(o),c=a||{arrayMerge:n},l=c.arrayMerge||n;return i?Array.isArray(s)?l(s,o,a):t(o,a):function(n,s,o){var a={};return e(n)&&Object.keys(n).forEach(function(e){a[e]=t(n[e],o)}),Object.keys(s).forEach(function(i){e(s[i])&&n[i]?a[i]=r(n[i],s[i],o):a[i]=t(s[i],o)}),a}(s,o,a)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()});var r=e(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),s=r.svg,o=r.xlink,a={};a[s.name]=s.uri,a[o.name]=o.uri;var i,c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(n(a,t||{}))+">"+e+"</svg>"},l=r.svg,u=r.xlink,d={attrs:(i={style:["position: absolute","width: 0","height: 0"].join("; ")},i[l.name]=l.uri,i[u.name]=u.uri,i)},p=function(e){this.config=n(d,e||{}),this.symbols=[]};p.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},p.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},p.prototype.find=function(e){return this.symbols.filter(function(t){return t.id===e})[0]||null},p.prototype.has=function(e){return null!==this.find(e)},p.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map(function(e){return e.stringify()}).join("");return c(t,e)},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){this.symbols.forEach(function(e){return e.destroy()})};var h=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};h.prototype.stringify=function(){return this.content},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var f=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},m=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return f(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(h),g={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},b=function(e){return Array.prototype.slice.call(e,0)},y=navigator.userAgent,v={isChrome:/chrome/i.test(y),isFirefox:/firefox/i.test(y),isIE:/msie/i.test(y)||/trident/i.test(y),isEdge:/edge/i.test(y)},E=function(e){var t=[];return b(e.querySelectorAll("style")).forEach(function(e){e.textContent+="",t.push(e)}),t},_=function(e){return(e||window.location.href).split("#")[0]},S=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",function(t,n,r){!function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)}(e,{oldUrl:r,newUrl:n})})}])},w=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),b(e.querySelectorAll("symbol")).forEach(function(e){b(e.querySelectorAll(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}),e};var k=r.xlink.uri,C="xlink:href",O=/[{}|\\\^\[\]`"<>]/g;function R(e){return e.replace(O,function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()})}var T,A=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],P=A.map(function(e){return"["+e+"]"}).join(","),N=function(e,t,n,r){var s=R(n),o=R(r);(function(e,t){return b(e).reduce(function(e,n){if(!n.attributes)return e;var r=b(n.attributes),s=t?r.filter(t):r;return e.concat(s)},[])})(e.querySelectorAll(P),function(e){var t=e.localName,n=e.value;return-1!==A.indexOf(t)&&-1!==n.indexOf("url("+s)}).forEach(function(e){return e.value=e.value.replace(s,o)}),function(e,t,n){b(e).forEach(function(e){var r=e.getAttribute(C);if(r&&0===r.indexOf(t)){var s=r.replace(t,n);e.setAttributeNS(k,C,s)}})}(t,s,o)},I={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},x=function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(g,t));var s=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map(function(e){e(n)}),(e["*"]||[]).map(function(e){e(t,n)})}}}();this._emitter=s,this.node=null;var o=this.config;if(o.autoConfigure&&this._autoConfigure(t),o.syncUrlsWithBaseTag){var a=document.getElementsByTagName("base")[0].getAttribute("href");s.on(I.MOUNT,function(){return r.updateUrls("#",a)})}var i=this._handleLocationChange.bind(this);this._handleLocationChange=i,o.listenLocationChangeEvent&&window.addEventListener(o.locationChangeEvent,i),o.locationChangeAngularEmitter&&S(o.locationChangeEvent),s.on(I.MOUNT,function(e){o.moveGradientsOutsideSymbol&&w(e)}),s.on(I.SYMBOL_MOUNT,function(e){o.moveGradientsOutsideSymbol&&w(e.parentNode),(v.isIE||v.isEdge)&&E(e)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=v.isFirefox)},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(I.SYMBOL_MOUNT,t.node)),n},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach(function(e){e.mount(n.node),t._emitter.emit(I.SYMBOL_MOUNT,e.node)}),b(r.querySelectorAll("symbol")).forEach(function(e){var t=m.createFromExistingNode(e);t.node=e,n.add(t)}),this._emitter.emit(I.MOUNT,r),r},t.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach(function(e){return e.destroy()}),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(I.MOUNT,r),r},t.prototype.render=function(){return f(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return N(this.node,n,_(e)+"#",_(t)+"#"),!0},Object.defineProperties(t.prototype,r),t}(p),L=e(function(e){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
e.exports=function(){var e,t=[],n=document,r=n.documentElement.doScroll,s=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return s||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),s=1;e=t.shift();)e()}),function(e){s?setTimeout(e,0):t.push(e)}}()});!!window.__SVG_SPRITE__?T=window.__SVG_SPRITE__:(T=new x({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=T);var j=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?T.attach(e):T.mount(document.body,!0)};return document.body?j():L(j),T})}).call(this,n(17))},function(e,t,n){"use strict";var r=n(55),s="object"==typeof self&&self&&self.Object===Object&&self,o=(r.a||s||Function("return this")()).Symbol,a=Object.prototype,i=a.hasOwnProperty,c=a.toString,l=o?o.toStringTag:void 0;var u=function(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var s=c.call(e);return r&&(t?e[l]=n:delete e[l]),s},d=Object.prototype.toString;var p=function(e){return d.call(e)},h="[object Null]",f="[object Undefined]",m=o?o.toStringTag:void 0;var g=function(e){return null==e?void 0===e?f:h:m&&m in Object(e)?u(e):p(e)};var b=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var y=function(e){return null!=e&&"object"==typeof e},v="[object Object]",E=Function.prototype,_=Object.prototype,S=E.toString,w=_.hasOwnProperty,k=S.call(Object);t.a=function(e){if(!y(e)||g(e)!=v)return!1;var t=b(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==k}},function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function s(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(e,n){function r(){var e=o;s(e)&&e.a.parentNode&&n(e.g)}var o=e;t(e.b,r),t(e.c,r),s(e)}function a(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var i=null,c=null,l=null,u=null;function d(){return null===u&&(u=!!document.fonts),u}function p(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}l=""!==e.style.font}return l}function h(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var s=this,a=e||"BESbswy",l=0,u=t||3e3,p=(new Date).getTime();return new Promise(function(e,t){if(d()&&!function(){if(null===c)if(d()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var f=new Promise(function(e,t){!function n(){(new Date).getTime()-p>=u?t():document.fonts.load(h(s,'"'+s.family+'"'),a).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}()}),m=new Promise(function(e,t){l=setTimeout(t,u)});Promise.race([m,f]).then(function(){clearTimeout(l),e(s)},function(){t(s)})}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function c(){var t;(t=-1!=g&&-1!=b||-1!=g&&-1!=y||-1!=b&&-1!=y)&&((t=g!=b&&g!=y&&b!=y)||(null===i&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),i=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=i&&(g==v&&b==v&&y==v||g==E&&b==E&&y==E||g==_&&b==_&&y==_)),t=!t),t&&(S.parentNode&&S.parentNode.removeChild(S),clearTimeout(l),e(s))}var d=new n(a),f=new n(a),m=new n(a),g=-1,b=-1,y=-1,v=-1,E=-1,_=-1,S=document.createElement("div");S.dir="ltr",r(d,h(s,"sans-serif")),r(f,h(s,"serif")),r(m,h(s,"monospace")),S.appendChild(d.a),S.appendChild(f.a),S.appendChild(m.a),document.body.appendChild(S),v=d.a.offsetWidth,E=f.a.offsetWidth,_=m.a.offsetWidth,function e(){if((new Date).getTime()-p>=u)S.parentNode&&S.parentNode.removeChild(S),t(s);else{var n=document.hidden;!0!==n&&void 0!==n||(g=d.a.offsetWidth,b=f.a.offsetWidth,y=m.a.offsetWidth,c()),l=setTimeout(e,50)}}(),o(d,function(e){g=e,c()}),r(d,h(s,'"'+s.family+'",sans-serif')),o(f,function(e){b=e,c()}),r(f,h(s,'"'+s.family+'",serif')),o(m,function(e){y=e,c()}),r(m,h(s,'"'+s.family+'",monospace'))})})},e.exports=a}()},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(21)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";e.exports=n(97)},function(e,t,n){e.exports=n(84)},function(e,t,n){var r=n(96);e.exports=f,e.exports.parse=o,e.exports.compile=function(e,t){return c(o(e,t))},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=h;var s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,i="",c=t&&t.delimiter||"/";null!=(n=s.exec(e));){var d=n[0],p=n[1],h=n.index;if(i+=e.slice(a,h),a=h+d.length,p)i+=p[1];else{var f=e[a],m=n[2],g=n[3],b=n[4],y=n[5],v=n[6],E=n[7];i&&(r.push(i),i="");var _=null!=m&&null!=f&&f!==m,S="+"===v||"*"===v,w="?"===v||"*"===v,k=n[2]||c,C=b||y;r.push({name:g||o++,prefix:m||"",delimiter:k,optional:w,repeat:S,partial:_,asterisk:!!E,pattern:C?u(C):E?".*":"[^"+l(k)+"]+?"})}}return a<e.length&&(i+=e.substr(a)),i&&r.push(i),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function i(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,s){for(var o="",c=n||{},l=(s||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var d=e[u];if("string"!=typeof d){var p,h=c[d.name];if(null==h){if(d.optional){d.partial&&(o+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(r(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=l(h[f]),!t[u].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===f?d.prefix:d.delimiter)+p}}else{if(p=d.asterisk?i(h):l(h),!t[u].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');o+=d.prefix+p}}else o+=d}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var s=(n=n||{}).strict,o=!1!==n.end,a="",i=0;i<e.length;i++){var c=e[i];if("string"==typeof c)a+=l(c);else{var u=l(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+u+h+")*"),a+=h=c.optional?c.partial?u+"("+h+")?":"(?:"+u+"("+h+"))?":u+"("+h+")"}}var f=l(n.delimiter||"/"),m=a.slice(-f.length)===f;return s||(a=(m?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=o?"$":s&&m?"":"(?="+f+"|$)",d(new RegExp("^"+a,p(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],s=0;s<e.length;s++)r.push(f(e[s],t,n).source);return d(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,s=Array.isArray(t),o=Array.isArray(n);if(s&&o){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(s!=o)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;var i=t instanceof Date,c=n instanceof Date;if(i&&c)return t.getTime()==n.getTime();if(i!=c)return!1;var l=t instanceof RegExp,u=n instanceof RegExp;if(l&&u)return t.toString()==n.toString();if(l!=u)return!1;for(r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=0;r<a.length;r++)if(!e(t[a[r]],n[a[r]]))return!1;return!0}return!1}},function(e,t){t.NAMESPACE="YandexZen",t.ASYNC_CALLBACKS_NAMESPACE="yandexZenAsyncCallbacks",t.ASYNC_RENDER_CALLBACKS_NAMESPACE="yandexZenAsyncWidgetRenderCallbacks",t.DEFAULT_CACHE_STORE="default-zen-store"},,,,,,,function(e,t,n){var r=n(74)("wks"),s=n(44),o=n(16).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:s)("Symbol."+e))}).store=r},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(16),s=n(46),o=n(82),a=n(44)("src"),i=Function.toString,c=(""+i).split("toString");n(29).inspectSource=function(e){return i.call(e)},(e.exports=function(e,t,n,i){var l="function"==typeof n;l&&(o(n,"name")||s(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||s(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:i?e[t]?e[t]=n:s(e,t,n):(delete e[t],s(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||i.call(this)})},function(e,t,n){var r=n(76),s=n(81);e.exports=n(31)?function(e,t,n){return r.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(14);n(27),n(48);function s(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var a=t[o];0,"function"==typeof e[a]&&(n[a]=e[a])}var i,c=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:r.a.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}(n)}catch(e){i=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(i)throw i;for(var r=!1,o={},a=0;a<c.length;a++){var l=c[a],u=n[l],d=e[l],p=u(d,t);if(void 0===p){var h=s(l,t);throw new Error(h)}o[l]=p,r=r||p!==d}return r?o:e}}},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function s(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),s={},o=0;o<n.length;o++){var a=n[o],i=e[a];"function"==typeof i&&(s[a]=r(i,t))}return s}n.d(t,"a",function(){return s})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(23),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,o,a){var i,c=e(n,o,a),l=c.dispatch,u={getState:c.getState,dispatch:function(e){return l(e)}};return i=t.map(function(e){return e(u)}),l=r.a.apply(void 0,i)(c.dispatch),s({},c,{dispatch:l})}}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var s=function(){};s.thatReturns=r,s.thatReturnsFalse=r(!1),s.thatReturnsTrue=r(!0),s.thatReturnsNull=r(null),s.thatReturnsThis=function(){return this},s.thatReturnsArgument=function(e){return e},e.exports=s},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};s(n(0));var r=s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(17))},function(e,t){e.exports={getPartnerMetrikaCounterIds:({partner:e}={})=>{switch(e){case"omniwi":return 46113984;case"helium":return 46191072;case"osmium":return 46215975;default:return 44046119}},commonMetrikaCounterId:51446871,nativeFeedMetrikaCounterId:52453471}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(0)),s=o(n(87));function o(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||s.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(s){return"function"==typeof s?s(n,r,e):t(s)}}}}t.__esModule=!0;var s=r();s.withExtraArgument=r,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update(),t.default=r},function(e){e.exports={"lib-prefix":"zen-ui",colors:{blue:"#07f","blue-pair":"#f0f7ff","blue-light":"#d2ebff","blue-light-pair":"#214a6e",yellow:"#fc0","yellow-pair":"#241c00","yellow-light":"#fff8d9",red:"#f00000","red-pair":"#fcecec","red-light":"#ffd5d5","red-light-pair":"#f11111",green:"#00c000","green-pair":"#ebfaeb","gray-warm":"#f3f1ed","gray-warm-pair":"#4b4a49","gray-42":"#424242","gray-666":"#666","gray-a1":"#a1a1a1",border:"rgba(0, 0, 0, 0.2)","border-light":"rgba(255, 255, 255, 0.17)",disabled:"rgba(0, 0, 0, 0.08)","page-fade":"rgba(0, 0, 0, 0.12)","page-background":"#fcfcfc","disabled-text":"#a1a1a1",placeholder:"#a1a1a1","disabled-back":"#e8e8e8","checkbox-back":"#f3f1ed","checkbox-back-hover":"#f1eeea","checkbox-back-checked":"#d2ebff","checkbox-back-checked-hover":"#c7e6ff","checkbox-tick":"#0476ff","button-placeholder-color-from":"#f3f1ed","button-placeholder-color-to":"#eceae6","datepicker-calendar-week-day-color":"#757575","datepicker-calendar-day-hover":"#e4e7e7","datepicker-calendar-day-selected":"#ffeba0","datepicker-calendar-day-selected-hover":"#fff5d0"}}},,,,,,,,,function(e,t,n){n(70),n(177),e.exports=n(176)},function(e,t,n){"use strict";n.r(t);n(71)},function(e,t){"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}))},function(e,t,n){var r=n(73),s=n(43)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(29),s=n(16),o=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(75)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,n){var r=n(77),s=n(78),o=n(80),a=Object.defineProperty;t.f=n(31)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),s)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(30);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(31)&&!n(21)(function(){return 7!=Object.defineProperty(n(79)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(30),s=n(16).document,o=r(s)&&r(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},function(e,t,n){var r=n(30);e.exports=function(e,t){if(!r(e))return e;var n,s;if(t&&"function"==typeof(n=e.toString)&&!r(s=n.call(e)))return s;if("function"==typeof(n=e.valueOf)&&!r(s=n.call(e)))return s;if(!t&&"function"==typeof(n=e.toString)&&!r(s=n.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(13).compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var s,o=function(e){return e&&e.__esModule?e:{default:e}}(n(86));s="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=(0,o.default)(s);t.default=a}).call(this,n(17),n(85)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),s=(a(r),a(n(18))),o=a(n(91));a(n(92));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=1073741823;t.default=function(e,t){var n,a,d="__create-react-context-"+(0,o.default)()+"__",p=function(e){function n(){var t,r;i(this,n);for(var s=arguments.length,o=Array(s),a=0;a<s;a++)o[a]=arguments[a];return t=r=c(this,e.call.apply(e,[this].concat(o))),r.emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(r.props.value),c(r,t)}return l(n,e),n.prototype.getChildContext=function(){var e;return(e={})[d]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,s=void 0;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)?(s="function"==typeof t?t(n,r):u,0!=(s|=0)&&this.emitter.set(e.value,s)):s=0}},n.prototype.render=function(){return this.props.children},n}(r.Component);p.childContextTypes=((n={})[d]=s.default.object.isRequired,n);var h=function(t){function n(){var e,r;i(this,n);for(var s=arguments.length,o=Array(s),a=0;a<s;a++)o[a]=arguments[a];return e=r=c(this,t.call.apply(t,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},c(r,e)}return l(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?u:t},n.prototype.componentDidMount=function(){this.context[d]&&this.context[d].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?u:e},n.prototype.componentWillUnmount=function(){this.context[d]&&this.context[d].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[d]?this.context[d].get():e},n.prototype.render=function(){return function(e){return Array.isArray(e)?e[0]:e}(this.props.children)(this.state.value)},n}(r.Component);return h.contextTypes=((a={})[d]=s.default.object,a),{Provider:p,Consumer:h}},e.exports=t.default},function(e,t,n){"use strict";var r=n(51),s=n(89),o=n(90);e.exports=function(){function e(e,t,n,r,a,i){i!==o&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,s,o,a,i,c){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,s,o,a,i,c],d=0;(l=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(17))},function(e,t,n){"use strict";var r=n(51);e.exports=r},function(e,t,n){e.exports=n(94)()},function(e,t,n){"use strict";var r=n(95);function s(){}function o(){}o.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,o,a){if(a!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:s};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case d:case p:case a:case c:case i:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case l:return e;default:return t}}case g:case m:case o:return t}}}function y(e){return b(e)===p}t.typeOf=b,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=s,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=i,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===i||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h)},t.isAsyncMode=function(e){return y(e)||b(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===m},t.isPortal=function(e){return b(e)===o},t.isProfiler=function(e){return b(e)===c},t.isStrictMode=function(e){return b(e)===i},t.isSuspense=function(e){return b(e)===f}},function(e,t,n){"use strict";e.exports=n(99)},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case d:case p:case a:case c:case i:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case l:return e;default:return t}}case g:case m:case o:return t}}}function y(e){return b(e)===p}t.typeOf=b,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=s,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=i,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===i||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h)},t.isAsyncMode=function(e){return y(e)||b(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===m},t.isPortal=function(e){return b(e)===o},t.isProfiler=function(e){return b(e)===c},t.isStrictMode=function(e){return b(e)===i},t.isSuspense=function(e){return b(e)===f}},function(e,t,n){"use strict";var r=n(101);function s(){}function o(){}o.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,o,a){if(a!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:s};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(103);function s(){}function o(){}o.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,o,a){if(a!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:s};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r=n(16),s=n(29),o=n(46),a=n(45),i=n(105),c=function(e,t,n){var l,u,d,p,h=e&c.F,f=e&c.G,m=e&c.S,g=e&c.P,b=e&c.B,y=f?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,v=f?s:s[t]||(s[t]={}),E=v.prototype||(v.prototype={});for(l in f&&(n=t),n)d=((u=!h&&y&&void 0!==y[l])?y:n)[l],p=b&&u?i(d,r):g&&"function"==typeof d?i(Function.call,d):d,y&&a(y,l,d,e&c.U),v[l]!=d&&o(v,l,p),g&&E[l]!=d&&(E[l]=d)};r.core=s,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(52);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,s){return e.call(t,n,r,s)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(107);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(21);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=l(n(0)),o=l(n(18)),a=l(n(112)),i=l(n(116)),c=n(54);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}c.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,c.transitionTimeout)("Appear"),(0,c.transitionTimeout)("Enter"),(0,c.transitionTimeout)("Leave");var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=u(this,e.call.apply(e,[this].concat(a))),r._wrapChild=function(e){return s.default.createElement(i.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return s.default.createElement(a.default,r({},this.props,{childFactory:this._wrapChild}))},t}(s.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=c(n(113)),o=c(n(0)),a=c(n(18)),i=(c(n(114)),n(115));function c(e){return e&&e.__esModule?e:{default:e}}a.default.any,a.default.func,a.default.node;var l=function(e){function t(n,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,s));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,i.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,i.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,i.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},o.childRefs=Object.create(null),o.state={children:(0,i.getChildMapping)(n.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,i.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,i.mergeChildMappings)(n,t)}),t){var s=n&&n.hasOwnProperty(r);!t[r]||s||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var a=t&&t.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var a="string"!=typeof r.ref,i=e.props.childFactory(r),c=function(t){e.childRefs[n]=t};i===r&&a&&(c=(0,s.default)(r.ref,c)),t.push(o.default.cloneElement(i,{key:n,ref:c}))}};for(var a in this.state.children)n(a);var i=r({},this.props);return delete i.transitionLeave,delete i.transitionName,delete i.transitionAppear,delete i.transitionEnter,delete i.childFactory,delete i.transitionLeaveTimeout,delete i.transitionEnterTimeout,delete i.transitionAppearTimeout,delete i.component,o.default.createElement(this.props.component,i,t)},t}(o.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},s=[];for(var o in e)t.hasOwnProperty(o)?s.length&&(r[o]=s,s=[]):s.push(o);var a=void 0,i={};for(var c in t){if(r.hasOwnProperty(c))for(a=0;a<r[c].length;a++){var l=r[c][a];i[r[c][a]]=n(l)}i[c]=n(c)}for(a=0;a<s.length;a++)i[s[a]]=n(s[a]);return i};var r=n(0)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=p(n(117)),o=p(n(119)),a=p(n(120)),i=n(121),c=p(n(0)),l=p(n(18)),u=n(11),d=n(54);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=[];i.transitionEnd&&f.push(i.transitionEnd),i.animationEnd&&f.push(i.animationEnd);l.default.node,d.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,o=Array(s),a=0;a<s;a++)o[a]=arguments[a];return n=r=h(this,e.call.apply(e,[this].concat(o))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,u.findDOMNode)(this);if(r){var a=this.props.name[e]||this.props.name+"-"+e,c=this.props.name[e+"Active"]||a+"-active",l=null,d=void 0;(0,s.default)(r,a),this.queueClassAndNode(c,r);var p=function(e){e&&e.target!==r||(clearTimeout(l),d&&d(),(0,o.default)(r,a),(0,o.default)(r,c),d&&d(),t&&t())};n?(l=setTimeout(p,n),this.transitionTimeouts.push(l)):i.transitionEnd&&(d=function(e,t){return f.length?f.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){f.length&&f.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,p))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,a.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,s.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,c.default.cloneElement(c.default.Children.only(this.props.children),e)},t}(c.default.Component);m.displayName="CSSTransitionGroupChild",m.propTypes={},t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e)||(e.className=e.className+" "+t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(118));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(53));var s,o="clearTimeout",a=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},i=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};r.default&&["","webkit","moz","o","ms"].some(function(e){var t=i(e,"request");if(t in window)return o=i(e,"cancel"),a=function(e){return window[t](e)}});var c=(new Date).getTime();(s=function(e){return a(e)}).cancel=function(e){window[o]&&"function"==typeof window[o]&&window[o](e)},t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r="transform",s=void 0,o=void 0,a=void 0,i=void 0,c=void 0,l=void 0,u=void 0,d=void 0,p=void 0,h=void 0,f=void 0;if(function(e){return e&&e.__esModule?e:{default:e}}(n(53)).default){var m=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,s=void 0,o="",a=0;a<n.length;a++){var i=n[a];if(i+"TransitionProperty"in e){o="-"+i.toLowerCase(),r=t[i]("TransitionEnd"),s=t[i]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!s&&"animationName"in e&&(s="animationend");return e=null,{animationEnd:s,transitionEnd:r,prefix:o}}();s=m.prefix,t.transitionEnd=o=m.transitionEnd,t.animationEnd=a=m.animationEnd,t.transform=r=s+"-"+r,t.transitionProperty=i=s+"-transition-property",t.transitionDuration=c=s+"-transition-duration",t.transitionDelay=u=s+"-transition-delay",t.transitionTiming=l=s+"-transition-timing-function",t.animationName=d=s+"-animation-name",t.animationDuration=p=s+"-animation-duration",t.animationTiming=h=s+"-animation-delay",t.animationDelay=f=s+"-animation-timing-function"}t.transform=r,t.transitionProperty=i,t.transitionTiming=l,t.transitionDelay=u,t.transitionDuration=c,t.transitionEnd=o,t.animationName=d,t.animationDuration=p,t.animationTiming=h,t.animationDelay=f,t.animationEnd=a,t.default={transform:r,end:o,property:i,timing:l,delay:u,duration:c}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n(144)()},function(e,t,n){"use strict";var r=n(145);function s(){}function o(){}o.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,o,a){if(a!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:s};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),o=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return{type:"@@router/CALL_HISTORY_METHOD",payload:{method:e,args:n}}}},a=o("push"),i=(o("replace"),o("go"),o("goBack"));o("goForward");function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l=function(e){return function(t){return function(t){return function(n){if("@@router/CALL_HISTORY_METHOD"!==n.type)return t(n);var r=n.payload,s=r.method,o=r.args;e[s].apply(e,c(o))}}}};function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){return"/"===e.charAt(0)}function p(e,t){for(var n=t,r=n+1,s=e.length;r<s;n+=1,r+=1)e[n]=e[r];e.pop()}var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],s=e&&d(e),o=t&&d(t),a=s||o;if(e&&d(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var i=void 0;if(r.length){var c=r[r.length-1];i="."===c||".."===c||""===c}else i=!1;for(var l=0,u=r.length;u>=0;u--){var h=r[u];"."===h?p(r,u):".."===h?(p(r,u),l++):l&&(p(r,u),l--)}if(!a)for(;l--;l)r.unshift("..");!a||""===r[0]||r[0]&&d(r[0])||r.unshift("");var f=r.join("/");return i&&"/"!==f.substr(-1)&&(f+="/"),f},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var m=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var r=void 0===t?"undefined":f(t);if(r!==(void 0===n?"undefined":f(n)))return!1;if("object"===r){var s=t.valueOf(),o=n.valueOf();if(s!==t||o!==n)return e(s,o);var a=Object.keys(t),i=Object.keys(n);return a.length===i.length&&a.every(function(r){return e(t[r],n[r])})}return!1},g=!0,b="Invariant failed";var y=function(e,t){if(!e)throw g?new Error(b):new Error(b+": "+(t||""))};function v(e){return"/"===e.charAt(0)?e:"/"+e}function E(e){return"/"===e.charAt(0)?e.substr(1):e}function _(e,t){return function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e}function S(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function w(e){var t=e.pathname,n=e.search,r=e.hash,s=t||"/";return n&&"?"!==n&&(s+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(s+="#"===r.charAt(0)?r:"#"+r),s}function k(e,t,n,r){var s;"string"==typeof e?(s=function(e){var t=e||"/",n="",r="",s=t.indexOf("#");-1!==s&&(r=t.substr(s),t=t.substr(0,s));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(s=u({},e)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),r?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=h(s.pathname,r.pathname)):s.pathname=r.pathname:s.pathname||(s.pathname="/"),s}function C(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&m(e.state,t.state)}function O(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,s){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,s):s(!0):s(!1!==o)}else s(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}var R=!("undefined"==typeof window||!window.document||!window.document.createElement);function T(e,t){t(window.confirm(e))}var A="popstate",P="hashchange";function N(){try{return window.history.state||{}}catch(e){return{}}}function I(e){void 0===e&&(e={}),R||y(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),s=e,o=s.forceRefresh,a=void 0!==o&&o,i=s.getUserConfirmation,c=void 0===i?T:i,l=s.keyLength,d=void 0===l?6:l,p=e.basename?S(v(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,s=window.location,o=s.pathname+s.search+s.hash;return p&&(o=_(o,p)),k(o,r,n)}function f(){return Math.random().toString(36).substr(2,d)}var m=O();function g(e){u(B,e),B.length=t.length,m.notifyListeners(B.location,B.action)}function b(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||I(h(e.state))}function E(){I(h(N()))}var C=!1;function I(e){if(C)C=!1,g();else{m.confirmTransitionTo(e,"POP",c,function(t){t?g({action:"POP",location:e}):function(e){var t=B.location,n=L.indexOf(t.key);-1===n&&(n=0);var r=L.indexOf(e.key);-1===r&&(r=0);var s=n-r;s&&(C=!0,D(s))}(e)})}}var x=h(N()),L=[x.key];function j(e){return p+w(e)}function D(e){t.go(e)}var M=0;function U(e){1===(M+=e)&&1===e?(window.addEventListener(A,b),r&&window.addEventListener(P,E)):0===M&&(window.removeEventListener(A,b),r&&window.removeEventListener(P,E))}var F=!1;var B={length:t.length,action:"POP",location:x,createHref:j,push:function(e,r){var s=k(e,r,f(),B.location);m.confirmTransitionTo(s,"PUSH",c,function(e){if(e){var r=j(s),o=s.key,i=s.state;if(n)if(t.pushState({key:o,state:i},null,r),a)window.location.href=r;else{var c=L.indexOf(B.location.key),l=L.slice(0,-1===c?0:c+1);l.push(s.key),L=l,g({action:"PUSH",location:s})}else window.location.href=r}})},replace:function(e,r){var s=k(e,r,f(),B.location);m.confirmTransitionTo(s,"REPLACE",c,function(e){if(e){var r=j(s),o=s.key,i=s.state;if(n)if(t.replaceState({key:o,state:i},null,r),a)window.location.replace(r);else{var c=L.indexOf(B.location.key);-1!==c&&(L[c]=s.key),g({action:"REPLACE",location:s})}else window.location.replace(r)}})},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),t()}},listen:function(e){var t=m.appendListener(e);return U(1),function(){U(-1),t()}}};return B}var x="hashchange",L={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+E(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:E,decodePath:v},slash:{encodePath:v,decodePath:v}};function j(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function D(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)}function M(e){void 0===e&&(e={}),R||y(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,s=void 0===r?T:r,o=n.hashType,a=void 0===o?"slash":o,i=e.basename?S(v(e.basename)):"",c=L[a],l=c.encodePath,d=c.decodePath;function p(){var e=d(j());return i&&(e=_(e,i)),k(e)}var h=O();function f(e){u(B,e),B.length=t.length,h.notifyListeners(B.location,B.action)}var m=!1,g=null;function b(){var e=j(),t=l(e);if(e!==t)D(t);else{var n=p(),r=B.location;if(!m&&C(r,n))return;if(g===w(n))return;g=null,function(e){if(m)m=!1,f();else{h.confirmTransitionTo(e,"POP",s,function(t){t?f({action:"POP",location:e}):function(e){var t=B.location,n=N.lastIndexOf(w(t));-1===n&&(n=0);var r=N.lastIndexOf(w(e));-1===r&&(r=0);var s=n-r;s&&(m=!0,I(s))}(e)})}}(n)}}var E=j(),A=l(E);E!==A&&D(A);var P=p(),N=[w(P)];function I(e){t.go(e)}var M=0;function U(e){1===(M+=e)&&1===e?window.addEventListener(x,b):0===M&&window.removeEventListener(x,b)}var F=!1;var B={length:t.length,action:"POP",location:P,createHref:function(e){return"#"+l(i+w(e))},push:function(e,t){var n=k(e,void 0,void 0,B.location);h.confirmTransitionTo(n,"PUSH",s,function(e){if(e){var t=w(n),r=l(i+t);if(j()!==r){g=t,function(e){window.location.hash=e}(r);var s=N.lastIndexOf(w(B.location)),o=N.slice(0,-1===s?0:s+1);o.push(t),N=o,f({action:"PUSH",location:n})}else f()}})},replace:function(e,t){var n=k(e,void 0,void 0,B.location);h.confirmTransitionTo(n,"REPLACE",s,function(e){if(e){var t=w(n),r=l(i+t);j()!==r&&(g=t,D(r));var s=N.indexOf(w(B.location));-1!==s&&(N[s]=t),f({action:"REPLACE",location:n})}})},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),t()}},listen:function(e){var t=h.appendListener(e);return U(1),function(){U(-1),t()}}};return B}function U(e,t,n){return Math.min(Math.max(e,t),n)}function F(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,s=void 0===r?["/"]:r,o=t.initialIndex,a=void 0===o?0:o,i=t.keyLength,c=void 0===i?6:i,l=O();function d(e){u(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function p(){return Math.random().toString(36).substr(2,c)}var h=U(a,0,s.length-1),f=s.map(function(e){return k(e,void 0,"string"==typeof e?p():e.key||p())}),m=w;function g(e){var t=U(b.index+e,0,b.entries.length-1),r=b.entries[t];l.confirmTransitionTo(r,"POP",n,function(e){e?d({action:"POP",location:r,index:t}):d()})}var b={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:m,push:function(e,t){var r=k(e,t,p(),b.location);l.confirmTransitionTo(r,"PUSH",n,function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),d({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,t){var r=k(e,t,p(),b.location);l.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(b.entries[b.index]=r,d({action:"REPLACE",location:r}))})},go:g,goBack:function(){g(-1)},goForward:function(){g(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}const{hasOwnProperty:B}=Object.prototype,z=e=>Array.isArray(e)?e.slice():Object.assign({},e),H=e=>e&&"object"==typeof e,W=(e,t)=>{if(Array.isArray(e)){const n=Number(t),r=e.slice(0,n).concat(e.slice(n+1));return e.length!==r.length?r:null}{const n=Object.assign({},e);return delete n[t],B.call(e,t)!==B.call(n,t)?n:null}},$=e=>{const t=Number(e);if(!(String(t)===String(e)&&isFinite(t)&&t>=0&&Math.floor(t)===t))throw new Error(`Key '${e}' is not an array index.`)},q=e=>{const t="string"==typeof e?e.split("."):e;if(!Array.isArray(t))throw new Error("Expected the path to be a string or array.");if(0===t.length)throw new Error("Expected the path to have at least one item.");return t},G=(e,t)=>{const n=q(t);let r=e;for(let e=0;e<n.length;e++){const t=n[e];if(!H(r)||!B.call(r,t))return;r=r[t]}return r},V=(e,t,n)=>{if(!H(e))throw new Error("Value is not an object.");const r=q(t),s=z(e);let o=s,a=!1;for(let e=0;e<r.length;e++){const t=r[e],s=e===r.length-1;if(Array.isArray(o)&&$(t),s){const e=B.call(o,t),r=e?o[t]:void 0,s=o[t]="function"==typeof n?n(r):n;e&&Object.is(r,s)||(a=!0)}else if(B.call(o,t)){if(!H(o[t]))throw new Error("Value is not an object.");o=o[t]=z(o[t])}else o=o[t]={},a=!0}return a?s:e};var K={get:G,set:V,del:(e,t)=>{if(!H(e))throw new Error("Value is not an object.");const n=q(t);if(1===n.length){const t=n[0];return W(e,t)||e}const r=z(e);let s=r,o=!1;for(let e=0;e<n.length-1;e++){const t=n[e],r=e===n.length-2;if(Array.isArray(s)&&$(t),!B.call(s,t))break;if(!H(s[t]))throw new Error("Value is not an object.");if(r){const r=n[e+1];(s[t]=W(s[t],r))&&(o=!0)}else s=s[t]=z(s[t])}return o?r:e},modify:(e,t,n)=>V(e,t,n(G(e,t)))},Z=n(1),Y=n(57),Q=n.n(Y);function J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n(93);var X=n(34),ee=n.n(X),te=n(32);function ne(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}var re=n(19),se=n.n(re),oe=function(e){var t=Q()();return t.Provider.displayName=e+".Provider",t.Consumer.displayName=e+".Consumer",t}("Router"),ae=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}J(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return s.a.createElement(oe.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(s.a.Component);s.a.Component;s.a.Component;var ie={},ce=1e4,le=0;function ue(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(ie[e])return ie[e];var t=ee.a.compile(e);return le<ce&&(ie[e]=t,le++),t}(e)(t,{pretty:!0})}var de={},pe=1e4,he=0;function fe(e,t){void 0===t&&(t={}),"string"==typeof t&&(t={path:t});var n=t,r=n.path,s=n.exact,o=void 0!==s&&s,a=n.strict,i=void 0!==a&&a,c=n.sensitive,l=void 0!==c&&c;return[].concat(r).reduce(function(t,n){if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=de[n]||(de[n]={});if(r[e])return r[e];var s=[],o={regexp:ee()(e,s,t),keys:s};return he<pe&&(r[e]=o,he++),o}(n,{end:o,strict:i,sensitive:l}),s=r.regexp,a=r.keys,c=s.exec(e);if(!c)return null;var u=c[0],d=c.slice(1),p=e===u;return o&&!p?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:p,params:a.reduce(function(e,t,n){return e[t.name]=d[n],e},{})}},null)}s.a.Component;function me(e){return"/"===e.charAt(0)?e:"/"+e}function ge(e,t){if(!e)return t;var n=me(e);return 0!==t.pathname.indexOf(n)?t:u({},t,{pathname:t.pathname.substr(n.length)})}function be(e){return"string"==typeof e?e:w(e)}function ye(e){return function(){y(!1)}}function ve(){}s.a.Component;s.a.Component;let Ee,_e,Se,we,ke,Ce,Oe,Re;(function(e){e.Pending="pending",e.Error="error",e.Success="success"})(Ee||(Ee={})),function(e){e.Normal="normal",e.Header="header",e.PinnedCarousel="pinned-carousel"}(_e||(_e={})),function(e){e.Normal="normal",e.Navbar="navbar",e.AdfoxSmartBanner="adfox-smart-banner",e.BlockFeedBanner="block-feed-banner"}(Se||(Se={})),function(e){e.Top="top",e.Bottom="bottom"}(we||(we={})),function(e){e.Black="black",e.White="white"}(ke||(ke={})),function(e){e.App="app",e.More="more",e.Error="error",e.Load="load"}(Ce||(Ce={})),function(e){e.NARRATIVE="narrative",e.PROMO="promo",e.SPECIAL="special"}(Oe||(Oe={})),function(e){e.Feed="feed",e.Category="category",e.Categories="categories",e.Profile="profile",e.SwitchableSubs="switchable_subs",e.Suggest="suggest",e.Blocked="blocked",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.Preferences="preferences",e.Language="language",e.SendAppLinkSms="send_app_link_sms",e.CommentsCounter="comments_counter",e.CommentsInfos="comments_infos"}(Re||(Re={}));let Te,Ae,Pe,Ne,Ie,xe,Le,je,De,Me,Ue,Fe,Be,ze;!function(e){e.Blur="blur",e.Fade="fade"}(Te||(Te={})),function(e){e.Pinned="pinned",e.Feed="feed",e.PinnedLib="pinned-lib"}(Ae||(Ae={})),function(e){e.Yabro1="yabro-1",e.Generic="generic"}(Pe||(Pe={})),function(e){e.Placeholder="Placeholder",e.Zen="Zen"}(Ne||(Ne={})),function(e){e.light="white",e.dark="black",e.lightBg="white-background"}(Ie||(Ie={})),function(e){e.NAV_TOP_FIXED="top-fix",e.NAV_BOTTOM_FIXED="bottom-fix",e.NAV_TOP_FREE="top-free"}(xe||(xe={})),function(e){e.Coccoc="coccoc",e.Default="default"}(Le||(Le={})),function(e){e.A1="1a",e.A2="2a",e.B2="2b",e.OLD="old"}(je||(je={})),function(e){e.CookieChanged="COOKIE_CHANGED",e.HistoryChanged="HISTORY_CHANGED",e.isCustoPageVisibleChanged="IS_CUSTO_PAGE_VISIBLE_CHANGED"}(De||(De={})),function(e){e[e.NotPassed=0]="NotPassed",e[e.Passed=1]="Passed",e[e.Skipped=2]="Skipped"}(Me||(Me={})),function(e){e.Suggest="catalog_suggest",e.Carousel="catalog_carousel",e.Category="catalog_category",e.Subs="subscriptions",e.Blocked="profile_blocked",e.Onboarding="onboarding_popup",e.Similar="feed",e.Feed="feed",e.LeftColumn="left_column"}(Ue||(Ue={})),function(e){e.Suggest="suggest",e.Carousel="list_of_categories",e.Category="category",e.Subs="subscriptions",e.Blocked="blocked",e.Onboarding="onboarding_popup",e.Similar="similar",e.Feed="layout",e.Subscribers="user_subscribers",e.LeftColumn="left_column"}(Fe||(Fe={})),function(e){e.Narrative="narrative",e.Native="native",e.Main="main",e.Channel="channel",e.Interest="interest",e.Activity="activity",e.Subscriptions="subscriptions"}(Be||(Be={})),function(e){e.Feed="feed",e.Ok="ok",e.Banned="banned",e.NotFound="not_found"}(ze||(ze={}));const He=e=>e.sources,We=(e,t)=>{if(e)return e.map(e=>{let{id:n}=e,r=ne(e,["id"]);return Object.assign({},r,t[n])})},$e=e=>Object(Z.createSelector)(e,He,We),qe=$e(e=>e.categories.data?e.categories.data.sources:void 0),Ge=$e(e=>e.search.search.data),Ve=$e(e=>e.onboarding.data),Ke=$e((e,t)=>{const n=e.category[t];if(!n)return;const{data:r}=n;return r?r.sources:void 0}),Ze=Object(Z.createSelector)((e,t)=>t,(e,t)=>e.sources[t.id],(e,t)=>{if(!e)throw Error("No source in feed item!");return Object.assign({},e,t)}),Ye=Object(Z.createSelector)(e=>e.channel,e=>e.sources,(e,t)=>{if(e.status===ze.Feed)return null;const n=e.source&&e.source.id;return Object.assign({},e.source,t[n])}),Qe=e=>"/"===e[0]?e.slice(1):e;var Je=n(56);const Xe=e=>!!e&&["activityDesktop","activityTablet","activityMobile"].includes(e);n(2);const et={},tt=(e,{invalidate:t=!1,crossorigin:n=!1,useCredentials:r=!1}={})=>{if(et[e]&&!t)return et[e].promise;const s=document.createElement("script");s.src=e,s.async=!0,n&&(s.crossOrigin=r?"use-credentials":"anonymous");const o=new Promise((t,n)=>{s.onload=(()=>{et[e].loaded=!0,t()}),s.onerror=(t=>{et[e].error=t,n(t)})});return et[e]&&document.head&&document.head.removeChild(et[e].script),document.head&&document.head.appendChild(s),et[e]={script:s,promise:o,loaded:!1,error:null},o};tt.isRequested=(e=>Boolean(et[e])),tt.isLoaded=(e=>Boolean(et[e]&&et[e].loaded)),tt.isFailed=(e=>Boolean(et[e]&&et[e].error));const nt=e=>new Promise(t=>{setTimeout(t,e)}),rt=[1e3,3e3,15e3],st={clickmap:!1,trackLinks:!1,accurateTrackBounce:!0},ot={reachGoal:()=>{}},at={},it=async e=>{const t=`yaCounter${e.id}`;return window[t]&&"function"==typeof window[t].reachGoal?(at[e.id]=window[t],window[t]):(at[e.id]||(at[e.id]=(async e=>{try{const t=(e=0)=>tt("https://mc.yandex.ru/metrika/tag.js",{invalidate:!0}).catch(n=>{if(rt[e])return nt(rt[e]).then(()=>t(e+1));throw n});return await t(),window.Ya&&window.Ya.Metrika2?new window.Ya.Metrika2(Object.assign({},st,e)):(console.warn("withMetrikaGoal: window.Ya.Metrika2 not found"),ot)}catch(e){return console.warn("withMetrikaGoal: metrika load error:",e),ot}})(e)),at[e.id])};let ct;!function(e){e.SITE_DESKTOP="site_desktop",e.SITE_MOBILE="site_mobile",e.LIB="zen_lib",e.MODAL_LIB="zen_modal_lib",e.YABRO="desktop_browser_rezen",e.YABRO_MORDA="desktop_browser_with_morda",e.OPERA="opera_ntp",e.ZEN_APP="zen_app",e.ZEN_APP_IOS="zen_app_ios",e.SAMSUNG="samsung_mobile",e.VIBER="viber",e.LITEBRO="litebro"}(ct||(ct={}));const lt="/subscriptions",ut="/top",dt="/profile/feedback",pt="/user/:uid(\\d*)",ht="/user/:uid(\\d*)/subscriptions",ft="/user/edit";class mt{constructor(e){this._data=e}exists(e){return this._data.hasOwnProperty(e)}isExp(e){return this.exists(e)&&Boolean(this._data[e].exp)}getAllExps(){return Object.keys(this._data).filter(e=>K.get(this._data,[e,"exp"]))}findExps(e){return Object.keys(this._data).filter(t=>K.get(this._data,[t,"exp"])&&t.match(e))}}let gt,bt;"undefined"!=typeof document&&(void 0!==document.hidden?(bt="visibilityState",gt="visibilitychange"):void 0!==document.mozHidden?(bt="mozVisibilityState",gt="mozvisibilitychange"):void 0!==document.msHidden?(bt="msVisibilityState",gt="msvisibilitychange"):void 0!==document.webkitHidden&&(bt="webkitVisibilityState",gt="webkitvisibilitychange"));const yt=()=>!bt||"visible"===document[bt],vt=yt,Et=e=>{if(!gt)return()=>{};const t=gt;let n=vt(),r=!1;const s=()=>{if(!r){const t=vt();n!==t&&(n=t,e(t))}};return document.addEventListener(t,s),()=>{r=!0,document.removeEventListener(t,s)}},_t=({timeout:e=800,shouldResetOnVisibilityChange:t=!1,onShow:n,onDeepwatch:s,isVisible:o})=>{const[a,i]=Object(r.useState)(yt),c=o&&a,l=Object(r.useRef)(0),u=Object(r.useRef)(!1),d=Object(r.useRef)(!1),p=Object(r.useRef)(null),h=Object(r.useCallback)(()=>{u.current||(n&&n(),u.current=!0)},[n]),f=Object(r.useCallback)(()=>{d.current||(s&&s(Date.now()-l.current),d.current=!0)},[s]),m=Object(r.useCallback)(()=>{null!==p.current&&(clearTimeout(p.current),Date.now()>l.current+e&&h(),p.current=null)},[h,e]),g=Object(r.useCallback)(()=>{c?null===p.current&&(p.current=setTimeout(h,e),l.current=Date.now()):m()},[c,h,e,m]);(e=>{Object(r.useEffect)(e,[])})(()=>(g(),Et(e=>{i(e)}))),Object(r.useEffect)(()=>{t&&(u.current=!1,d.current=!1)},[t,a]),Object(r.useEffect)(g),Object(r.useEffect)(()=>{if(c)return()=>{u&&f()}},[c,f]),Object(r.useEffect)(()=>m,[])},St=e=>{const{children:t}=e;return(({timeout:e=800,shouldResetOnVisibilityChange:t=!1,sendShow:n=!0,sendDeepwatch:s=!1,loggerParams:o={},logger:a,onShow:i,onDeepwatch:c,isVisible:l})=>{const u=Object(r.useCallback)(()=>{a&&n&&a.log("show",o),i&&i()},[a,o,n,i]),d=Object(r.useCallback)(e=>{const t={local:{__t__:(~~(e/1e3)).toString()}};a&&s&&a.log("deepwatch",t),c&&c(e)},[a,s,c]);_t({timeout:e,shouldResetOnVisibilityChange:t,onShow:u,onDeepwatch:d,isVisible:l})})(e),void 0===t?null:t},wt=e=>e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`),kt=e=>(t={})=>Object.keys(e).reduce((n,r)=>Object.assign({},n,{[r]:e[r](t[wt(r)])}),{}),Ct=(e,t)=>n=>t.includes(n)?n:e,Ot=(e={})=>t=>"object"==typeof t?t:e,Rt=(e,t)=>(n=t)=>t=>typeof t===e?t:n,Tt=Rt("number",0),At=Rt("boolean",!1),Pt=Rt("string",""),Nt=e=>e;let It,xt,Lt;!function(e){e.Default="default",e.A="a",e.B="b",e.C="c",e.D="d"}(It||(It={})),function(e){e.Default="default",e.A="a",e.B="b",e.C="c",e.D="d"}(xt||(xt={})),function(e){e.Default="default",e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f"}(Lt||(Lt={}));const jt=kt({rezenSiteMobileSimilar:Nt(kt({viewType:Ct(je.OLD,[je.A1,je.A2,je.B2,je.OLD])})),rezenPcode:Nt(kt({version:Tt()})),rezenSmsPopup:Nt(kt({isEnabled:At(),isForceShow:At(),forceShowExpires:Tt(21),afterSuccessTimeout:Tt(3e3),afterErrorTimeout:Tt(2e3),pastTimeAfterLastSawFeed:Tt(2592e6),tabletUrl:Pt("https://redirect.appmetrica.yandex.com/serve/890899778634799153"),isHeaderIconEnabled:At(),headerIconVisibilityCooldown:Tt(18e6),headerButtonTextVariant:Ct(It.Default,[It.A,It.B,It.C,It.D]),popupTextVariant:Ct(Lt.Default,[Lt.A,Lt.B,Lt.C,Lt.D,Lt.E,Lt.F]),popupButtonTextVariant:Ct(xt.Default,[xt.A,xt.B,xt.C,xt.D])})),interfaceBranding:Ct(Le.Default,[Le.Coccoc,Le.Default]),rezenBlockFeedBanner:Nt(kt({isEnabled:At(),rowsBeforeBlock:Tt(3),isWithoutClose:At(),isWithoutReturn:At(),isClickableBackground:At(),closeExpire:Tt(1),closeExpireClick:Tt(14),textVariant:Ct("a",["a","b"]),url:Pt("https://redirect.appmetrica.yandex.com/serve/314246221256507436")})),rezenPromoBadgeLink:Pt(""),socialProfile:Nt(kt({onboardingEnabled:At(),onboardingTimeout:Tt(500),profileEnabled:At(),zenkitNotificaitons:At()})),rezenInterestsOnboardingSiteDesktop:Nt(kt({isIceForceShow:At()})),rezenAdvertisersLink:Pt(""),rezenExtendFeedback:Nt(kt({isPopup:At(),showLoggerTimeout:Tt(800)})),rezenAdfoxFullscreen:Nt(kt({isEnabled:At(),isForceShow:At(),closeExpires:Tt(14),targetNames:Ot()})),rezenAdfoxSmart:Nt(kt({isEnabled:At(),isForceShow:At(),closeExpires:Tt(7),targetNames:Ot()})),rezenAppButton:Nt(kt({isEnabled:At(),isYellow:At(),url:Pt("https://redirect.appmetrica.yandex.com/serve/1179076386090959125"),closeTimeout:Tt()})),notifiers:Nt(kt({theme:Ct(ke.Black,[ke.Black,ke.White])})),rezenEnableAllChannelsLink:At(),rezenRefclidSessionTimeout:Tt(),newLogoEnabled:At(),rezenSiteDesktopNotifier:Nt(kt({isEnable:At(),apiHost:Pt("https://cloud-api.yandex.ru/zen_gnc/"),baseUrl:Pt("https://yandex.ru/global-notifications"),serviceDatabaseId:Pt(".pub.notifier@notification_services"),iframeVersion:Pt("stable"),loaderVersion:Pt("v0.0.2")})),zenlibBrowserBase:Pt(),commentsBundleUrlTmpl:Pt("https://yastatic.net/s3/zen-lib/45.4.2/comments/comments.{commentsBundleUrl}.{lang}.bundle.js"),isVideoSubscribeCardViewCircle:At(),videoSubscribeShowForSeconds:Tt(5),samsungMobileRenderHeaderFixed:At(),commentInCard:Nt(kt({enabled:At(),removeSnippet:At(),hotBubble:At()})),showEmptyCarouselSearchLink:At(!0),disableMobileNavbar:At(!1),disabledCommentsMessageEnabled:At(),disabledCommentsMessageMinMargins:At(),rezenRenderQueue:Nt(kt({isEnabled:At()})),enableCardChannelLink:At(!1),subscriptionsFeedEnabled:At(!1),cookieOfTheDay:Pt("bltsr")}),Dt=Object(Z.createSelector)(({params:e})=>e.clientDefinition,jt),Mt=Object(Z.createSelector)(({params:e})=>e.experimentsData,e=>new mt(e)),Ut=e=>e("ab:rezen_unified:bottom")?xe.NAV_BOTTOM_FIXED:e("ab:rezen_unified:top_fixed")?xe.NAV_TOP_FIXED:!!e("ab:rezen_unified:top_hiding")&&xe.NAV_TOP_FREE,Ft=e=>e("ab:rezen_cards25:rezen_cards25_a")?"a":e("ab:rezen_cards25:rezen_cards25_b")?"b":e("ab:rezen_cards25:rezen_cards25_c")?"c":null,Bt=/^rezen_default_lazy_loading_option_(\d+)_(\d+)_(\d+)_(\d+)$/,zt=e=>{const t=e(Bt)[0];if(!t)return;const n=Bt.exec(t);return n?`${n[1]}px ${n[2]}px ${n[3]}px ${n[4]}px`:void 0},Ht=["top_fixed","top_hiding","bottom"],Wt=Object(Z.createSelector)(Mt,Dt,(e,t)=>{const n=((e,t)=>({isFeedEnabled:t("rezen_domains_page_lib"),isZenOneEnabled:!t("ab:desktop_zen_one:default"),isYandexStaffZenOneExp:t("ab:desktop_zen_one_staff:desktop_zen_one_staff_enabled"),navbarPosition:Ut(t),isWideImagesExp:t("rezen_direct_use_wide_images"),isDirectLabelCut:t("direct_label_cut"),showPromoLink:t("ab:rezen_new_header:enabled"),visibilityThreshold:t("ab:rezen_item_visibility_threshold:50")?.5:void 0,isExtendFeedbackExp:t("ab:extend_feedback:extend_feedback"),isOfficialComplains:t("rezen_official_complaints"),shouldRefreshFeed:t("ab:rezen_more_button_behavior:rezen_more_button_refresh_feed"),shouldResetScrollOnUnload:t("should_reset_scroll_on_unload"),shouldScrollOnOpenCard:t("should_scroll_on_open_card"),cards25:Ft(t),comtrColor:t("zen_comtr_color")?"color":"white",isImageLazyLoadEnabled:t("lazy_images")||t("ab:rezen_lazy_images:enable")||t("zen_lib_lazy_images"),isTeethEnabled:t("site_desktop_turkey_morda_teeth"),isZenUnifiedEnabled:Ht.some(e=>t(`ab:rezen_unified:${e}`)),isZenkitMenuEnabled:t("ab:rezen_new_menu:rezen_new_menu"),isZenOneOtherCountries:t("ab:mobile_zen_one_other_countries:mobile_zen_one_other_countries"),isSocialProfileEnabled:t("new_profile"),isLiteRtbEnabled:t("ab:rezen_lite_rtb_version:rezen_lite_rtb_version_enabled"),linkHoverEnabled:t("ab:rezen_channel_links:rezen_channel_links"),hasModal:t("ab:rezen_video_modal:enable"),isAutoplayExp:t("ab:rezen_mobile_video_autoplay_wifi:enable"),layoutRight:!t("ab:rezen_video_recommends_bottom:enable"),canDisableVideo:t("ab:rezen_no_videos:enable"),disableMetrikaExp:t("rezen_disable_metrika"),imageRootMargin:zt(e),isRtbFitted:t("zen_lib_rtb"),isAdsense:t("ab:site_desktop_adsense:site_desktop_adsense")||t("ab:opera_ntp_adsense:opera_ntp_adsense"),isLetterSpacingExp:t("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),isBigLetterSpacingExp:t("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing"),isCommentCountersEnabled:t("ab:rezen_comments_counter:rezen_comments_counter")||t("zen_comments"),isTouchCommentCountersEnabled:t("ab:rezen_comments_counter_touch:rezen_comments_counter_touch"),isDesktopVideoModalCommentsEnabled:t("ab:social_desktop_video_modal_comments:social_desktop_video_modal_comments"),isCommentsDislikeEnabled:t("ab:social_dislike_comments:social_dislike_comments")||t("ab:social_dislike_comments:social_dislike_comments_sort"),isInterestsDesktop:t("ab:site_desktop_interests:site_desktop_interests_enabled")||t("ab:site_desktop_interests_staff:site_desktop_interests_staff_enabled"),isInterestsMobile:t("ab:site_mobile_interests:site_mobile_interests_enabled")||t("ab:site_mobile_interests_staff:site_mobile_interests_staff_enabled"),isInterestsZenApp:t("ab:zenkit_interests:zenkit_interests_enabled")||t("ab:zenkit_interests_staff:zenkit_interests_staff_enabled"),isInterestsZenAppIos:t("ab:ios_native_interests:ios_native_interests_enabled")||t("ab:ios_native_interests_staff:ios_native_interests_staff_enabled"),isInsectEnabled:t("ab:rezen_enable_insect:rezen_enable_insect"),isErrorCounterEnabled:t("error_counter_enabled")}))(e.findExps.bind(e),e.isExp.bind(e));return Object.assign({},n,t)});const $t=e=>{const t=e.match(/^(([^:\/?#]+:)?(?:\/\/((?:([^\/?#:]*):([^\/?#:]*)@)?([^\/?#:]*)(?::([^\/?#:]*))?)))?([^?#]*)(\?[^#]*)?(#.*)?$/);if(t)return{hash:t[10]||"",host:t[3]||"",hostname:t[6]||"",pathname:t[8]||(t[1]?"/":""),protocol:t[2]||"",search:t[9]||""}},qt=["/","/narrative","/native","/id/:channelId","/:channelName","/t/:interestName",pt,ht,"/user/:uid(\\d*)/followers"],Gt=e=>{if(!e)return console.warn(`UNDEFINED_FEED_ID for link: "${e}"`),"undefined_feed";const t=$t(decodeURI(e));if(!t)return"";const n=qt.reduce((e,n)=>e||fe(t.pathname,{path:n,exact:!0}),null);if(!n)return"undefined_feed";if(n.params)return(e=>{if(!e)return"undefined_feed";const{channelId:t,channelName:n,interestName:r,userId:s}=e;return t||n||r?`source_${t||n||r}`:s?(e=>`user_${e}`)(s):"undefined_feed"})(n.params);switch(n.path){case"/":return"main";case"/narrative":return"narrative";case"/native":return"native";default:return console.warn(`UNDEFINED_FEED_ID for link: "${e}"`),"undefined_feed"}},Vt=e=>e.params.integration,Kt=e=>e.params.product,Zt=(e,t)=>t===ct.SITE_DESKTOP||t===ct.SITE_MOBILE,Yt=e=>e.channel.status===ze.Ok,Qt=(Object(Z.createSelector)(({links:e})=>e.login_tmpl,({router:e})=>e&&e.location.pathname,(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(Qe(t))):null),Object(Z.createSelector)(({links:e})=>e.logout_tmpl,({router:e})=>e&&e.location.pathname,(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(Qe(t))):null),e=>e.params&&e.params.feedType===Be.Narrative),Jt=e=>e.params&&e.params.feedType===Be.Native,Xt=Object(Z.createSelector)(Jt,Qt,Yt,({router:e})=>e&&"/"===e.location.pathname,(...e)=>e.some(Boolean)),en=(Object(Z.createSelector)(({context:e})=>e.partner,e=>{return(e=>{if("undefined"==typeof window)return()=>{};const t=it({id:e});return async e=>{(await t).reachGoal(e)}})(Object(Je.getPartnerMetrikaCounterIds)(e))}),Object(Z.createSelector)(Vt,Kt,(e,t)=>Zt(0,t)),Object(Z.createSelector)(e=>e.params.libType,Xe)),tn=(Object(Z.createSelector)(Qt,Jt,Yt,en,(e,t,n,r)=>!(e||t||n||r)),Object(Z.createSelector)(Vt,Kt,Wt,(e,t,{shouldResetScrollOnUnload:n})=>Zt(0,t)&&n),Object(Z.createSelector)(({iface:e})=>e.isOpenCardScrollEnabled,Wt,en,(e,{shouldScrollOnOpenCard:t,cards25:n},r)=>e&&t&&"b"!==n&&"c"!==n&&!r),Object(Z.createSelector)(({params:e})=>e.teethType,Wt,(e,{comtrColor:t})=>e||t),Object(Z.createSelector)(e=>e.params.teethType,Wt,(e,{isTeethEnabled:t})=>!!e||t),({params:e})=>e.zenFeatures.color_theme),nn=Object(Z.createSelector)(Wt,({isZenUnifiedEnabled:e,isZenkitMenuEnabled:t})=>e||t),rn=Object(Z.createSelector)(Wt,({isZenOneOtherCountries:e})=>e),sn=Object(Z.createSelector)(Wt,({disableMobileNavbar:e})=>e),on=Object(Z.createSelector)(nn,rn,(e,t)=>Boolean(e||t)),an=(Object(Z.createSelector)(Yt,Qt,Jt,on,Xt,e=>e.params&&e.params.feedType===Be.Subscriptions,(e,t,n,r,s,o)=>!e&&!t&&!n&&(!r||s)&&!o),Object(Z.createSelector)(Vt,e=>!!e&&["ya_search_app_ios"].includes(e))),cn=Object(Z.createSelector)(on,Qt,Jt,Ye,an,sn,(e,t,n,r,s,o)=>e&&!t&&!n&&!r&&!s&&!o),ln=Object(Z.createSelector)(Kt,Wt,(e,{isInterestsDesktop:t,isInterestsMobile:n,isInterestsZenApp:r,isInterestsZenAppIos:s})=>{switch(e){case ct.SITE_DESKTOP:case ct.MODAL_LIB:return t;case ct.SITE_MOBILE:return n;case ct.ZEN_APP:return r;case ct.ZEN_APP_IOS:return s;default:return!1}}),un=Object(Z.createSelector)(Wt,({socialProfile:e})=>{const{onboardingEnabled:t,onboardingTimeout:n,profileEnabled:r,zenkitNotificaitons:s}=e;return{onboardingEnabled:t,profileEnabled:r,onboardingTimeout:n,zenkitNotificaitons:s}}),dn=Object(Z.createSelector)(Wt,un,({isSocialProfileEnabled:e},t)=>e||t.profileEnabled),pn=(Object(Z.createSelector)(e=>e.auth&&e.auth.info,e=>Boolean(e&&e.isAuthorized)),Object(Z.createSelector)(e=>e.auth&&e.auth.info,e=>!!e&&(e.uid?(e=>ue(pt,{uid:e}))(e.uid):"")));Object(Z.createSelector)(Wt,({iface:e})=>e.blockFeedBannerVisible,({iface:e})=>e.isAdfoxSmartVisible,cn,({isZenUnifiedEnabled:e,isZenOneOtherCountries:t},n,r,s)=>n?Se.BlockFeedBanner:r?Se.AdfoxSmartBanner:s&&(e||t)?Se.Navbar:Se.Normal),Object(Z.createSelector)(Qt,Jt,e=>e.channel,e=>e.params.currentUrl,(e,t,n,r)=>e?"narrative":t?"native":n.status===ze.Ok&&r?Gt(r):"main");let hn,fn,mn,gn;!function(e){e.ONE_COLUMN="one_column",e.TWO_COLUMNS="two_column",e.TWO_COLUMN_SMALL_CARDS="two_column_small_cards",e.THREE_COLUMNS="three_column",e.THREE_COLUMNS_FIRST_BIG="three_column_first_big",e.THREE_COLUMNS_SMALL_CARDS="three_column_small_cards",e.THREE_COLUMNS_INFINITY="three_column_infinity"}(hn||(hn={})),function(e){e.CARD_PLACEHOLDER="card-placeholder",e.FEATURING_CAROUSEL="carousel_card",e.COMMENT="comment",e.DIRECT="ad",e.DOC="card",e.FEATURING_PROMO="featuring_promo",e.GIF="gif",e.HINT_EULA="hint_eula",e.HINT_PERSONAL="hint_personal",e.ICEBOARDING_GRID="iceboarding-grid",e.NARRATIVE="story",e.PERSONAL_CAROUSEL="personal_carousel",e.CONTENT_CAROUSEL="content_personal_carousel",e.PLACEHOLDER="placeholder",e.POST="post",e.PROFILE_ACTIVITY_ONBOARDING="profile-activity-onboarding",e.SIMILAR_INTERESTS="similar_interests",e.SIMILAR="similar",e.USER_QUESTION="user-feedback-question",e.AUTH="auth",e.DELIMITER="delimiter",e.CARD_FILLER="card_filler"}(fn||(fn={})),function(e){e.SMALL="small",e.BIG="big",e.FREE="free",e.MEDIUM="medium"}(mn||(mn={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(gn||(gn={}));fn.SIMILAR,fn.USER_QUESTION;const bn=[fn.DOC,fn.POST,fn.DIRECT,fn.GIF,fn.NARRATIVE,fn.FEATURING_PROMO,fn.CARD_PLACEHOLDER,fn.COMMENT,fn.PROFILE_ACTIVITY_ONBOARDING,fn.CARD_FILLER],yn={columnCount:1,initialDisplayedRowsNumber:6,rowDisplayStep:8,layoutableTypes:[...bn,fn.HINT_EULA,fn.ICEBOARDING_GRID,fn.SIMILAR],availableSizes:{[fn.DOC]:[mn.SMALL],[fn.DIRECT]:[mn.SMALL],[fn.HINT_EULA]:[mn.SMALL],[fn.HINT_PERSONAL]:[mn.SMALL],[fn.ICEBOARDING_GRID]:[mn.SMALL],[fn.SIMILAR]:[mn.SMALL],[fn.GIF]:[mn.SMALL],[fn.NARRATIVE]:[mn.SMALL],[fn.USER_QUESTION]:[mn.SMALL],[fn.FEATURING_PROMO]:[mn.SMALL],[fn.FEATURING_CAROUSEL]:[mn.SMALL],[fn.CONTENT_CAROUSEL]:[mn.SMALL],[fn.COMMENT]:[mn.SMALL],[fn.PROFILE_ACTIVITY_ONBOARDING]:[mn.SMALL],[fn.CARD_PLACEHOLDER]:[mn.SMALL]}},vn={columnCount:2,initialDisplayedRowsNumber:6,rowDisplayStep:9,layoutableTypes:bn,availableSizes:{[fn.DOC]:[mn.SMALL,mn.BIG],[fn.POST]:[mn.SMALL],[fn.DIRECT]:[mn.SMALL,mn.BIG],[fn.HINT_EULA]:[mn.FREE],[fn.HINT_PERSONAL]:[mn.FREE],[fn.ICEBOARDING_GRID]:[mn.FREE],[fn.SIMILAR]:[mn.FREE],[fn.GIF]:[mn.SMALL,mn.BIG],[fn.NARRATIVE]:[mn.SMALL],[fn.CARD_PLACEHOLDER]:[mn.SMALL,mn.BIG],[fn.PLACEHOLDER]:[mn.FREE],[fn.USER_QUESTION]:[mn.FREE],[fn.SIMILAR_INTERESTS]:[mn.FREE],[fn.FEATURING_PROMO]:[mn.SMALL],[fn.FEATURING_CAROUSEL]:[mn.FREE],[fn.PERSONAL_CAROUSEL]:[mn.FREE],[fn.CONTENT_CAROUSEL]:[mn.FREE],[fn.COMMENT]:[mn.SMALL],[fn.PROFILE_ACTIVITY_ONBOARDING]:[mn.SMALL]}},En={columnCount:2,initialDisplayedRowsNumber:6,rowDisplayStep:9,layoutableTypes:bn,availableSizes:{[fn.DOC]:[mn.SMALL],[fn.DIRECT]:[mn.SMALL],[fn.HINT_EULA]:[mn.SMALL],[fn.HINT_PERSONAL]:[mn.SMALL],[fn.ICEBOARDING_GRID]:[mn.SMALL],[fn.SIMILAR]:[mn.SMALL],[fn.GIF]:[mn.SMALL],[fn.NARRATIVE]:[mn.SMALL],[fn.USER_QUESTION]:[mn.SMALL],[fn.COMMENT]:[mn.SMALL],[fn.PROFILE_ACTIVITY_ONBOARDING]:[mn.SMALL],[fn.FEATURING_PROMO]:[mn.SMALL],[fn.FEATURING_CAROUSEL]:[mn.FREE],[fn.PERSONAL_CAROUSEL]:[mn.FREE],[fn.CONTENT_CAROUSEL]:[mn.FREE]}},_n={columnCount:3,initialDisplayedRowsNumber:6,rowDisplayStep:9,layoutableTypes:bn,availableSizes:{[fn.DOC]:[mn.SMALL,mn.BIG],[fn.POST]:[mn.SMALL],[fn.DIRECT]:[mn.SMALL,mn.BIG],[fn.HINT_EULA]:[mn.FREE],[fn.HINT_PERSONAL]:[mn.FREE],[fn.ICEBOARDING_GRID]:[mn.FREE],[fn.SIMILAR]:[mn.FREE],[fn.GIF]:[mn.SMALL,mn.BIG],[fn.NARRATIVE]:[mn.SMALL],[fn.CARD_PLACEHOLDER]:[mn.SMALL,mn.BIG],[fn.PLACEHOLDER]:[mn.FREE],[fn.USER_QUESTION]:[mn.FREE],[fn.SIMILAR_INTERESTS]:[mn.FREE],[fn.FEATURING_PROMO]:[mn.SMALL],[fn.FEATURING_CAROUSEL]:[mn.FREE],[fn.PERSONAL_CAROUSEL]:[mn.FREE],[fn.CONTENT_CAROUSEL]:[mn.FREE],[fn.COMMENT]:[mn.SMALL],[fn.PROFILE_ACTIVITY_ONBOARDING]:[mn.SMALL],[fn.DELIMITER]:[mn.FREE],[fn.CARD_FILLER]:[mn.SMALL,mn.BIG]}},Sn={[hn.ONE_COLUMN]:yn,[hn.TWO_COLUMNS]:vn,[hn.TWO_COLUMN_SMALL_CARDS]:En,[hn.THREE_COLUMNS]:_n,[hn.THREE_COLUMNS_FIRST_BIG]:_n,[hn.THREE_COLUMNS_SMALL_CARDS]:_n,[hn.THREE_COLUMNS_INFINITY]:_n};let wn;!function(e){e[e.Desktop=0]="Desktop",e[e.Mobile=1]="Mobile",e[e.SamsungMobile=2]="SamsungMobile"}(wn||(wn={}));const kn=e=>e.feed,Cn=(e,t)=>{if(e.feed&&e.feed.items[t])return e.feed.items[t]},On=e=>{switch(e){case mn.SMALL:return 1;case mn.BIG:return 2;case mn.FREE:return 3;default:return console.error(`Item size is wrong: ${e}`),1}},Rn=(()=>{let e=void 0;return t=>{const{items:n,itemsOrder:r}=kn(t);if(e&&e.itemsOrder===r)return e.result;const s=r.map(e=>{const t=n[e];return t.type===fn.DOC||t.type===fn.POST||t.type===fn.GIF||t.type===fn.NARRATIVE?{id:t.id,type:t.type,ad:t.ad,commentsDocumentId:t.commentsDocumentId,hasImage:Boolean(t.image)}:{id:t.id,type:t.type,ad:void 0,commentsDocumentId:void 0,hasImage:void 0}});return e={itemsOrder:r,result:s},s}})(),Tn=(Object(Z.createSelector)((e,t)=>e.feed.itemsOrder.indexOf(t),e=>e),Object(Z.createSelector)(kn,e=>{const{gridType:t}=e;return Sn[t].columnCount})),An=Object(Z.createSelector)(Rn,e=>e.feed.gridType,Tn,(e,t,n)=>{const r=[],s={},{layoutableTypes:o}=Sn[t];let a=-1;return e.forEach(e=>{const i=o.includes(e.type);i&&a++;const c=i?((e,t)=>{switch(t){case hn.ONE_COLUMN:return mn.SMALL;case hn.TWO_COLUMNS:{const t=e%4;return 0===t||1===t?mn.SMALL:mn.BIG}case hn.TWO_COLUMN_SMALL_CARDS:return mn.SMALL;case hn.THREE_COLUMNS:case hn.THREE_COLUMNS_INFINITY:return[3,6].includes(e%7)?mn.BIG:mn.SMALL;case hn.THREE_COLUMNS_FIRST_BIG:return[0,3].includes(e%7)?mn.BIG:mn.SMALL;case hn.THREE_COLUMNS_SMALL_CARDS:return mn.SMALL;default:return console.error(`No grid type configuration for ${t}`),mn.SMALL}})(a,t):mn.FREE,l=Sn[t].availableSizes[e.type];l&&l.includes(c)||console.warn("Invalid item size:",c,e.type,e.id);const u=On(c);let d=r[r.length-1];d||(d=[],r.push(d));const p=d.reduce((e,t)=>e+On(t.size),0),h=Object.assign({},e,{size:c,row:-1});p+u<=n?d.push(h):r.push([h]),h.row=r.length-1,s[e.id]=h}),{elements:s,rows:r}}),Pn=Object(Z.createSelector)(Rn,e=>e.filter(({type:e})=>e===fn.PLACEHOLDER||e===fn.CARD_PLACEHOLDER).map(({id:e})=>e)),Nn=(Object(Z.createSelector)(Pn,(e,t)=>t,(e,t)=>e.indexOf(t)),Object(Z.createSelector)(Kt,e=>e.params.isAdaptiveDesign,(e,t)=>e&&[ct.YABRO,ct.YABRO_MORDA].includes(e)?Pe.Yabro1:t?Pe.Generic:null)),In=(e,t)=>Cn(e,t).parentId,xn=(Object(Z.createSelector)(In,(e,t)=>{const n=An(e),r=In(e,t),s=n.elements[r].row;return n.rows[s]},Tn,(e,t,n)=>{const r=t[0].id,s=t[t.length-1].id;if(1===n)return gn.Center;switch(e){case r:return gn.Left;case s:return gn.Right;default:return gn.Center}}),Object(Z.createSelector)(tn,e=>!1),Object(Z.createSelector)(Tn,Nn,Wt,(e,t,{isAdsense:n})=>({columnCount:e,rubberyType:t,isAdsense:n,isMordaDesktop:Boolean(!1),isRedesign:Boolean(!1)})),Object(Z.createSelector)(({feed:e})=>e.displayedRowsNumber,({feed:e})=>e.countRowsBeforeBlock,(e,t)=>e===t),Object(Z.createSelector)(An,()=>{},(e,t)=>{const n=t?4:2;let r=0;for(let t=0;r<e.rows.length&&t<n;r++)e.rows[r].hasPlaceholder||t++;return r}),(e,t)=>Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e)),Ln={log:()=>{}},jn=(e,t,n,r)=>{if(!e||!t)return console.warn(new Error("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:"),e,t),Ln;return{log:(s,{local:o={},global:a={},rename:i={},info:c}={})=>{const l=t[i[s]||s];return l?r.oldLogBulkEvent({event:xn(l,o),bulkParams:xn(e,a),statMeta:n,info:c}):(console.warn("Invalid `statEvent`: %s. Request not sent.",s),Ln)}}},Dn=Object(Z.createSelectorCreator)(Z.defaultMemoize,(e,t)=>Object.keys(e).filter(n=>e[n]===t[n]).length===Object.keys(t).length),Mn=e=>Dn(e=>e,(e,t)=>t,e),Un=e=>{const t=Mn((t,n)=>{return{log:(r,s={})=>n.log(r,Object.assign({},s,{[e]:Object.assign({},s[e],t)}))}});return e=>n=>t(e,n)},Fn=Un("local"),Bn=(Un("global"),Un("rename"),(e="")=>{const t=Mn((t,n)=>{return{log:(t,r={})=>{const s=r.local||{},o=s.__els__||"";return n.log(t,Object.assign({},r,{local:Object.assign({},s,{__els__:o?`${e}.${o}`:e})}))}}});return n=>t(e,n)}),zn=e=>t=>n=>r=>{const s=K.get(r,"payload.id"),o=t.getState(),a=((e,t)=>{const n={};if(t){const{elements:r}=An(e);n.rowIndex=r&&r[t]&&r[t].row,n.cardId=r&&r[t]&&r[t].id}return n})(o,s),{zenApi:i}=e;if("statEvent"in r&&r.statEvent){const{statEvent:e}=r,t=Cn(o,s),{statEvents:n,bulkParams:c}=t,{log:l}=jn(c,n,a,i);l(e,r.loggerParams)}if("bulkStat"in r&&r.bulkStat){const{statEvents:e,statEvent:t,bulkParams:n}=r.bulkStat,s=e[t];i.oldLogBulkEvent({event:s,bulkParams:n,statMeta:a})}return n(r)},Hn="USER_BLOCKED_REQUEST",Wn="USER_SUBSCRIPTIONS_REQUEST";let $n;!function(e){e.Subscribed="subscribed",e.Unsubscribed="unsubscribed",e.Blocked="blocked",e.Unblocked="unblocked"}($n||($n={}));const qn={SOURCE_BLOCK:$n.Blocked,SOURCE_UNBLOCK:$n.Unblocked,SOURCE_SUBSCRIBE:$n.Subscribed,SOURCE_UNSUBSCRIBE:$n.Unsubscribed},Gn=e=>()=>t=>n=>{const{type:r,payload:s}=n,{outputBus:o}=e;if(qn[r]&&s){const{id:e}=s;o.emit("sourceChange",{id:e,type:qn[r]})}return t(n)};var Vn=n(50),Kn=n(58),Zn=n.n(Kn);const Yn=e=>(...t)=>n=>(...r)=>{let s=[],o=s,a=0;return Object(Vn.a)(()=>e=>t=>{const n="function"==typeof t;let r;n&&a++;try{r=e(t)}finally{n&&a--}if(0===a){const e=s=o;for(let t=0;t<e.length;t++)e[t]()}return r},Zn.a.withExtraArgument(e),...t)((e=>(...t)=>{const n=e(...t),r=()=>{o===s&&(o=s.slice())};return Object.assign({},n,{subscribe:e=>{if("function"!=typeof e)throw new Error("Expected the listener to be a function.");let t=!0;return r(),o.push(e),function(){if(!t)return;t=!1,r();const n=o.indexOf(e);o.splice(n,1)}}})})(n))(...r)},Qn=Yn();Qn.withExtraArgument=Yn;n(83);var Jn=n(47);const Xn=(...e)=>(t,n)=>e.reduce((e,t)=>t(e,n),t),er=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},tr=e=>e||"DEFAULT_ID",nr=(e,t)=>e({id:tr(t)},{type:"@@asyncScope/INIT"}),rr=({actionType:e,dataReducer:t})=>{const n=(e=>{let t,n;return(...r)=>t&&er(t,r)?n:(t=r,n=e(...r))})((e,t,n)=>({id:e,status:t,data:n})),r=(e=>(t=Ee.Pending,n,r)=>{if(r!==(n.payload&&n.payload.id))return t;switch(n.type){case e:return n.payload.status;default:return t}})(e);return(e,s)=>{const o=((e="DEFAULT_ID")=>e)(e&&e.id);return n(o,r(e&&e.status,s,o),t(e&&e.data,s,o))}},sr=({reducer:e,selector:t})=>(n,r,...s)=>{const o=tr(r);return t(n,o,...s)||nr(e,o)},or=e=>{let{type:t,request:n,selector:r}=e;const s=({isForced:e,isSilent:s=!1})=>(o,...a)=>async(i,c,l)=>{const u=tr(o),d=c(),p=r(d,u,...a);return!e&&p&&p.status===Ee.Success?p.data:(!s&&i((({type:e,id:t="DEFAULT_ID"})=>({type:e,payload:{id:t,timestamp:Date.now(),status:Ee.Pending}}))({type:t,id:u})),n(l,u,...a).then(e=>{i((({type:e,value:t,id:n="DEFAULT_ID"})=>({type:e,payload:{id:n,timestamp:Date.now(),status:Ee.Success,value:t}}))({type:t,id:u,value:e}));const n=c(),s=r(n,u,...a);if(s)return s.data},e=>{throw!s&&i((({type:e,id:t="DEFAULT_ID"})=>({type:e,payload:{id:t,timestamp:Date.now(),status:Ee.Error}}))({type:t,id:u})),e}))};return[s({isForced:!1}),s({isForced:!0}),s({isForced:!0,isSilent:!0})]},ar=rr({actionType:"USER_PROFILE_REQUEST",dataReducer:(e=null,t,n)=>{const r=t.payload&&t.payload.id,s=t.__data__&&t.__data__.selfUserId;if(null!==e)switch(t.type){case"SOURCE_SUBSCRIBE":{const t=Object.assign({},e);return n===s?t.subscriptionCount++:n===r&&t.followerCount++,t}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const t=Object.assign({},e);return n===s?t.subscriptionCount--:n===r&&t.followerCount--,t}}if(n!==r)return e;switch(t.type){case"USER_PROFILE_REQUEST":return t.payload.status===Ee.Success?Object.assign({},t.payload.value,{updateTimestamp:t.payload.timestamp}):e;case"USER_PROFILE_ONBOARDING_COMPLETE":if(null!==e)return Object.assign({},e,{privacy:{hideSubscriptions:!1,hideActivity:!1,hideInterests:!1}});case"USER_PROFILE_ONBOARDING_CLOSE":if(null!==e)return Object.assign({},e,{onboardingRequired:!1});case"USER_PROFILE_RESTORE":return t.payload.profile;default:return e}}}),ir=e=>nr(ar,e),cr=rr({actionType:Wn,dataReducer:(e={ids:[],sources:{}},t,n)=>{switch(t.type){case Wn:{if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==Ee.Success)return e;const r=t.payload.value;if(r){const t=r.filter(e=>"subscribed"===e.status);return{ids:t.map(({id:e})=>e),sources:t.reduce((e,t)=>Object.assign({},e,{[t.id]:t}),Object.assign({},e.sources))}}return e}}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case"SOURCE_SUBSCRIBE":{const n=t.payload.id;return-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const n=t.payload.id,r=e.ids.indexOf(n);return-1!==r?Object.assign({},e,{ids:[...e.ids.slice(0,r),...e.ids.slice(r+1)]}):e}}return e}}),lr=e=>nr(cr,e),ur=rr({actionType:Hn,dataReducer:(e={ids:[],sources:{}},t,n)=>{switch(t.type){case Hn:{if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==Ee.Success)return e;const r=t.payload.value;if(r){const t=r.filter(e=>"blocked"===e.status);return{ids:t.map(e=>e.id),sources:t.reduce((e,t)=>Object.assign({},e,{[t.id]:t}),Object.assign({},e.sources))}}return e}}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case"SOURCE_BLOCK":{const n=t.payload.id;return-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case"SOURCE_SUBSCRIBE":case"SOURCE_UNSUBSCRIBE":case"SOURCE_UNBLOCK":{const n=t.payload.id,r=e.ids.indexOf(n);return-1!==r?Object.assign({},e,{ids:[...e.ids.slice(0,r),...e.ids.slice(r+1)]}):e}}return e}}),dr=e=>nr(ur,e),pr=rr({actionType:"USER_FOLLOWERS_REQUEST",dataReducer:(e={ids:[],sources:{}},t,n)=>{if(n===(t.payload&&t.payload.id))switch(t.type){case"USER_FOLLOWERS_REQUEST":{if(t.payload.status!==Ee.Success)return e;const n=t.payload.value;return n?{ids:n.map(({id:e})=>e),sources:n.reduce((e,t)=>Object.assign({},e,{[t.id]:t}),{})}:e}case"SOURCE_SUBSCRIBE":{const n=t.__data__&&t.__data__.selfUserId;return-1===e.ids.indexOf(n)?{ids:[n,...e.ids],sources:Object.assign({},e.sources,{[n]:t.payload})}:e}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const n=t.__data__&&t.__data__.selfUserId,r=e.ids.indexOf(n);return-1!==r?Object.assign({},e,{ids:[...e.ids.slice(0,r),...e.ids.slice(r+1)]}):e}}return e}}),hr=e=>nr(pr,e),fr={id:"",state:{status:"inactive"}},mr=e=>({id:e,state:{status:"inactive"}}),gr=e=>({profile:ir(e),subscriptions:lr(e),blocked:dr(e),followers:hr(e),notifications:mr(e)}),br=Object(Jn.a)({profile:ar,subscriptions:cr,blocked:ur,followers:pr,notifications:(e=fr,t)=>{if((t.payload&&t.payload.id)!==e.id)return e;switch(t.type){case"USER_PROFILE_NOTIFICATIONS_CHANGE":return Object.assign({},e,{state:t.payload.state});default:return e}}}),yr=Xn((e={},t)=>{switch(t.type){case"ADD_USER":{const{userId:n}=t.payload;return e[n]?e:Object.assign({},e,{[n]:gr(n)})}default:return e}},(e={},t)=>{const n={};return Object.keys(e).forEach(r=>{const s=e[r],o=br(s,t);n[r]=o}),n}),vr=sr({reducer:cr,selector:(e,t)=>kr(e,t).subscriptions}),Er=sr({reducer:ur,selector:(e,t)=>kr(e,t).blocked}),_r=sr({reducer:pr,selector:(e,t)=>kr(e,t).followers}),Sr=100,wr={1:340,2:688,3:958},kr=(e,t)=>e.users[t]||gr(t),Cr=(Object(Z.createSelector)(e=>e.sources,e=>Object.keys(e).reduce((t,n)=>{const r=e[n];return("subscribed"===r.status||r.isUnsubscribedInCurrentSession)&&t.push(n),t},[])),Object(Z.createSelector)(e=>e.sources,e=>Object.keys(e).reduce((t,n)=>{const r=e[n];return("blocked"===r.status||r.isUnblockedInCurrentSession)&&t.push(n),t},[])),Object(Z.createSelector)(e=>e.auth,e=>e&&e.info&&e.info.uid||"SELF_USER_ID_FALLBACK")),Or=Object(Z.createSelector)(e=>e.router.location,Cr,(e,t)=>{if(!e)return t;const n=fe(e.pathname,{path:pt});return n&&n.params.uid||t}),Rr=(e,t)=>t===Cr(e),Tr=e=>t=>n=>r=>{const s=t.getState(),o=Cr(s);return n(Object.assign({},r,{__data__:{selfUserId:o,modalRoutes:e.modalRoutes,location:s.router.location}}))},Ar=(e,t,n="page")=>{return Qn.withExtraArgument(t)(...e)};var Pr=n(12),Nr=n.n(Pr),Ir=s.a.createContext(null);var xr=function(e){e()},Lr=function(){return xr},jr=null,Dr={notify:function(){}};var Mr=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=Dr,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=Lr(),t=[],n=[];return{clear:function(){n=jr,t=jr},notify:function(){var r=t=n;e(function(){for(var e=0;e<r.length;e++)r[e]()})},get:function(){return n},subscribe:function(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function(){r&&t!==jr&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Dr)},e}(),Ur=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.store;n.notifySubscribers=n.notifySubscribers.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));var s=new Mr(r);return s.onStateChange=n.notifySubscribers,n.state={store:r,subscription:s},n.previousState=r.getState(),n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.state.subscription.trySubscribe(),this.previousState!==this.props.store.getState()&&this.state.subscription.notifyNestedSubs()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.state.subscription.tryUnsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){if(this.props.store!==e.store){this.state.subscription.tryUnsubscribe();var t=new Mr(this.props.store);t.onStateChange=this.notifySubscribers,this.setState({store:this.props.store,subscription:t})}},n.notifySubscribers=function(){this.state.subscription.notifyNestedSubs()},n.render=function(){var e=this.props.context||Ir;return s.a.createElement(e.Provider,{value:this.state},this.props.children)},t}(r.Component);Ur.propTypes={store:Nr.a.shape({subscribe:Nr.a.func.isRequired,dispatch:Nr.a.func.isRequired,getState:Nr.a.func.isRequired}),context:Nr.a.object,children:Nr.a.any};var Fr=Ur;function Br(){return(Br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zr(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}var Hr=n(8),Wr=n.n(Hr),$r=[],qr=[null,null];function Gr(e,t){var n=e[1];return[t.payload,n+1]}var Vr=function(){return[null,0]},Kr="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function Zr(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,a=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,i=n.methodName,c=void 0===i?"connectAdvanced":i,l=n.renderCountProp,u=void 0===l?void 0:l,d=n.shouldHandleStateChanges,p=void 0===d||d,h=n.storeKey,f=void 0===h?"store":h,m=n.withRef,g=void 0!==m&&m,b=n.forwardRef,y=void 0!==b&&b,v=n.context,E=void 0===v?Ir:v,_=zr(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);Wr()(void 0===u,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),Wr()(!g,"withRef is removed. To access the wrapped instance, use a ref on the connected component");Wr()("store"===f,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var S=E;return function(t){var n=t.displayName||t.name||"Component",o=a(n),i=Br({},_,{getDisplayName:a,methodName:c,renderCountProp:u,shouldHandleStateChanges:p,storeKey:f,displayName:o,wrappedComponentName:n,WrappedComponent:t}),l=_.pure;var d=l?r.useMemo:function(e){return e()};function h(n){var a=Object(r.useMemo)(function(){var e=n.forwardedRef,t=zr(n,["forwardedRef"]);return[n.context,e,t]},[n]),c=a[0],l=a[1],u=a[2],h=Object(r.useMemo)(function(){return c&&c.Consumer&&Object(te.isContextConsumer)(s.a.createElement(c.Consumer,null))?c:S},[c,S]),f=Object(r.useContext)(h),m=Boolean(n.store),g=Boolean(f)&&Boolean(f.store);Wr()(m||g,'Could not find "store" in the context of "'+o+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+o+" in connect options.");var b=n.store||f.store,y=Object(r.useMemo)(function(){return function(t){return e(t.dispatch,i)}(b)},[b]),v=Object(r.useMemo)(function(){if(!p)return qr;var e=new Mr(b,m?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[b,m,f]),E=v[0],_=v[1],w=Object(r.useMemo)(function(){return m?f:Br({},f,{subscription:E})},[m,f,E]),k=Object(r.useReducer)(Gr,$r,Vr),C=k[0][0],O=k[1];if(C&&C.error)throw C.error;var R=Object(r.useRef)(),T=Object(r.useRef)(u),A=Object(r.useRef)(),P=Object(r.useRef)(!1),N=d(function(){return A.current&&u===T.current?A.current:y(b.getState(),u)},[b,C,u]);Kr(function(){T.current=u,R.current=N,P.current=!1,A.current&&(A.current=null,_())}),Kr(function(){if(p){var e=!1,t=null,n=function(){if(!e){var n,r,s=b.getState();try{n=y(s,T.current)}catch(e){r=e,t=e}r||(t=null),n===R.current?P.current||_():(R.current=n,A.current=n,P.current=!0,O({type:"STORE_UPDATED",payload:{latestStoreState:s,error:r}}))}};E.onStateChange=n,E.trySubscribe(),n();return function(){if(e=!0,E.tryUnsubscribe(),t)throw t}}},[b,E,y]);var I=Object(r.useMemo)(function(){return s.a.createElement(t,Br({},N,{ref:l}))},[l,t,N]);return Object(r.useMemo)(function(){return p?s.a.createElement(h.Provider,{value:w},I):I},[h,I,w])}var m=l?s.a.memo(h):h;if(m.WrappedComponent=t,m.displayName=o,y){var g=s.a.forwardRef(function(e,t){return s.a.createElement(m,Br({},e,{forwardedRef:t}))});return g.displayName=o,g.WrappedComponent=t,se()(g,t)}return se()(m,t)}}var Yr=Object.prototype.hasOwnProperty;function Qr(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Jr(e,t){if(Qr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var s=0;s<n.length;s++)if(!Yr.call(t,n[s])||!Qr(e[n[s]],t[n[s]]))return!1;return!0}var Xr=n(49);function es(e){return function(t,n){var r=e(t,n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function ts(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function ns(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=ts(e);var s=r(t,n);return"function"==typeof s&&(r.mapToProps=s,r.dependsOnOwnProps=ts(s),s=r(t,n)),s},r}}var rs=[function(e){return"function"==typeof e?ns(e):void 0},function(e){return e?void 0:es(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?es(function(t){return Object(Xr.a)(e,t)}):void 0}];var ss=[function(e){return"function"==typeof e?ns(e):void 0},function(e){return e?void 0:es(function(){return{}})}];function os(e,t,n){return Br({},n,e,t)}var as=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,s=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,i){var c=e(t,n,i);return a?s&&o(c,r)||(r=c):(a=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return os}}];function is(e,t,n,r){return function(s,o){return n(e(s,o),t(r,o),o)}}function cs(e,t,n,r,s){var o,a,i,c,l,u=s.areStatesEqual,d=s.areOwnPropsEqual,p=s.areStatePropsEqual,h=!1;function f(s,h){var f=!d(h,a),m=!u(s,o);return o=s,a=h,f&&m?(i=e(o,a),t.dependsOnOwnProps&&(c=t(r,a)),l=n(i,c,a)):f?(e.dependsOnOwnProps&&(i=e(o,a)),t.dependsOnOwnProps&&(c=t(r,a)),l=n(i,c,a)):m?function(){var t=e(o,a),r=!p(t,i);return i=t,r&&(l=n(i,c,a)),l}():l}return function(s,u){return h?f(s,u):function(s,u){return i=e(o=s,a=u),c=t(r,a),l=n(i,c,a),h=!0,l}(s,u)}}function ls(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,s=t.initMergeProps,o=zr(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),i=r(e,o),c=s(e,o);return(o.pure?cs:is)(a,i,c,e,o)}function us(e,t,n){for(var r=t.length-1;r>=0;r--){var s=t[r](e);if(s)return s}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function ds(e,t){return e===t}var ps=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Zr:n,s=t.mapStateToPropsFactories,o=void 0===s?ss:s,a=t.mapDispatchToPropsFactories,i=void 0===a?rs:a,c=t.mergePropsFactories,l=void 0===c?as:c,u=t.selectorFactory,d=void 0===u?ls:u;return function(e,t,n,s){void 0===s&&(s={});var a=s,c=a.pure,u=void 0===c||c,p=a.areStatesEqual,h=void 0===p?ds:p,f=a.areOwnPropsEqual,m=void 0===f?Jr:f,g=a.areStatePropsEqual,b=void 0===g?Jr:g,y=a.areMergedPropsEqual,v=void 0===y?Jr:y,E=zr(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=us(e,o,"mapStateToProps"),S=us(t,i,"mapDispatchToProps"),w=us(n,l,"mergeProps");return r(d,Br({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:S,initMergeProps:w,pure:u,areStatesEqual:h,areOwnPropsEqual:m,areStatePropsEqual:b,areMergedPropsEqual:v},E))}}();function hs(){var e=Object(r.useContext)(Ir);return Wr()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}function fs(){return hs().store}function ms(){return fs().dispatch}var gs="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,bs=function(e,t){return e===t};function ys(e,t){void 0===t&&(t=bs),Wr()(e,"You must pass a selector to useSelectors");var n,s=hs(),o=s.store,a=s.subscription,i=Object(r.useReducer)(function(e){return e+1},0)[1],c=Object(r.useMemo)(function(){return new Mr(o,a)},[o,a]),l=Object(r.useRef)(),u=Object(r.useRef)(),d=Object(r.useRef)();try{n=e!==u.current||l.current?e(o.getState()):d.current}catch(e){var p="An error occured while selecting the store state: "+e.message+".";throw l.current&&(p+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\nOriginal stack trace:"),new Error(p)}return gs(function(){u.current=e,d.current=n,l.current=void 0}),gs(function(){function e(){try{var e=u.current(o.getState());if(t(e,d.current))return;d.current=e}catch(e){l.current=e}i({})}return c.onStateChange=e,c.trySubscribe(),e(),function(){return c.tryUnsubscribe()}},[o,c]),n}var vs=n(11),Es=n.n(vs);!function(e){xr=e}(vs.unstable_batchedUpdates);var _s=n(5),Ss=n.n(_s);function ws(e){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ks=function(e){var t=e.getIn,n=e.toJS,r=function(e){var r=n(t(e,["router"]));if(!function(e){return null!=e&&"object"===ws(e)&&t(e,["location"])&&t(e,["action"])}(r))throw'Could not find router reducer in state tree, it must be mounted under "router"';return r},s=function(e){return n(t(r(e),["location"]))};return{getLocation:s,getAction:function(e){return n(t(r(e),["action"]))},getRouter:r,getSearch:function(e){return n(t(r(e),["location","search"]))},getHash:function(e){return n(t(r(e),["location","hash"]))},createMatchSelector:function(e){var t=null,n=null;return function(r){var o=(s(r)||{}).pathname;if(o===t)return n;t=o;var a=fe(o,e);return a&&n&&a.url===n.url||(n=a),n}}}};function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Os(){return(Os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e,t){return!t||"object"!==Cs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function As(e){return(As=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ps(e,t){return(Ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ns=function(e){var t=e.fromJS,n=e.merge;return function(e){var r=t({location:e.location,action:e.action});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s.type,a=s.payload;if("@@router/LOCATION_CHANGE"===o){var i=a.location,c=a.action;return a.isFirstRendering?e:n(e,{location:t(i),action:c})}return e}}};function Is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xs={fromJS:function(e){return e},getIn:function(e,t){if(!e)return e;var n=t.length;if(n){for(var r=e,s=0;s<n&&r;++s)r=r[t[s]];return r}},merge:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Is(e,t,n[t])})}return e}({},e,t)},toJS:function(e){return e}},Ls=function(e){var t=ks(e).getLocation,n=function(e){function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=Ts(this,As(n).call(this,e));var s=e.store,o=e.history,a=e.onLocationChanged;r.inTimeTravelling=!1,r.unsubscribe=s.subscribe(function(){var e=t(s.getState()),n=e.pathname,a=e.search,i=e.hash,c=o.location,l=c.pathname,u=c.search,d=c.hash;l===n&&u===a&&d===i||(r.inTimeTravelling=!0,o.push({pathname:n,search:a,hash:i}))});var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.inTimeTravelling?r.inTimeTravelling=!1:a(e,t,n)};return r.unlisten=o.listen(i),i(o.location,o.action,!0),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ps(e,t)}(n,r.PureComponent),function(e,t,n){t&&Rs(e.prototype,t),n&&Rs(e,n)}(n,[{key:"componentWillUnmount",value:function(){this.unlisten(),this.unsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.children;return s.a.createElement(ae,{history:t},n)}}]),n}();n.propTypes={store:Ss.a.shape({getState:Ss.a.func.isRequired,subscribe:Ss.a.func.isRequired}).isRequired,history:Ss.a.shape({action:Ss.a.string.isRequired,listen:Ss.a.func.isRequired,location:Ss.a.object.isRequired,push:Ss.a.func.isRequired}).isRequired,basename:Ss.a.string,children:Ss.a.oneOfType([Ss.a.func,Ss.a.node]),onLocationChanged:Ss.a.func.isRequired};var o=function(e){var t=e.context||Ir;if(null==t)throw"Please upgrade to react-redux v6";return s.a.createElement(t.Consumer,null,function(t){var r=t.store;return s.a.createElement(n,Os({store:r},e))})};return o.propTypes={context:Ss.a.object},ps(null,function(e){return{onLocationChanged:function(t,n,r){return e(function(e,t){return{type:"@@router/LOCATION_CHANGE",payload:{location:e,action:t,isFirstRendering:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}}(t,n,r))}}})(o)}(xs),js=Ns(xs),Ds=ks(xs);Ds.getLocation,Ds.getAction,Ds.getHash,Ds.getSearch,Ds.createMatchSelector;let Ms,Us,Fs,Bs;!function(e){e.PackShown="packShown",e.BulkEventLogged="bulkEventLogger",e.ApiResponseTtlExpired="apiResponseTtlExpired",e.ApiResponseErrorTtlExpired="apiResponseErrorTtlExpired",e.NotShownPackUpdated="notShownPackUpdated",e.LastShownPackUpdated="lastShownPackUpdated",e.UpdatePreload="updatePreload"}(Ms||(Ms={})),function(e){e.Onboarding="onboarding",e.Export="export",e.More="more",e.Bulk="bulk",e.ClientLogs="client_logs",e.Subs="subs",e.Profile="profile",e.CountryLang="language",e.Blocked="blocked",e.Preferences="preferences",e.Subscribers="subscribers",e.Category="category",e.Categories="categories",e.Suggest="suggest",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.PublisherConfig="publisher_config",e.CommentsCounter="comments_counter",e.CommentsInfos="comments_infos",e.SendAppLinkSms="send_app_link_sms",e.SocialProfile="social_profile",e.SocialActivityFeed="social_activity_feed",e.SocialProfileEdit="social_profile_edit",e.SocialInterestsFeedback="social_interests_feedback",e.ProfileOnboardingShown="profile_onboarding_shown",e.ProfileCompleteOnboarding="profile_complete_onboarding",e.ProfileDeactivate="profile_deactivate",e.ProfileCancelDeactivate="profile_cancel_deactivate",e.AllChannelsLink="all_channels_link",e.CurrentUserInterests="current-user-interests",e.CurrentUserSubscriptions="current-user-subscriptions",e.Teasers="teasers"}(Us||(Us={})),function(e){e.SessionCache="cacheStorage",e.MultiSessionCache="multiCacheStorage"}(Fs||(Fs={})),function(e){e.Network="network",e.CacheBeforeNetwork="cache-before-network",e.CacheAfterNetwork="cache-after-network"}(Bs||(Bs={}));const zs=5e3,Hs={zenFeatures:{},clientExperiments:null,apiResponseValidator:()=>null,links:Object.keys(Us).reduce((e,t)=>(e[t]=null,e),{}),userInfo:{},cache:{type:Fs.SessionCache,namespace:"common",isPrefetchEnabled:!0,useLocalNamespaces:!1},chromeExtensionId:null,feedFilter:void 0},Ws={timeouts:[5e3,1e4,15e3]};n(15);Object(Z.createSelector)(Wt,({context:e})=>{const{isZenkit:t,isIzenkit:n}=e.uatraits||{isIzenkit:!1,isZenkit:!1};return t||n},({rezenAppButton:e},t)=>{const{isEnabled:n,isYellow:r,closeTimeout:s,url:o}=e;return{isEnabled:n&&!t,isYellow:r,closeTimeout:s,url:o}});const $s=e=>({type:"SET_CURRENT_NOTIFIER",payload:e}),qs=e=>()=>(t,n)=>{const r=n(),{currentNotifierButton:s}=r.notifiers;s===e&&t($s(null))},Gs=(qs(Ce.Load),qs(Ce.More),qs(Ce.App),qs(Ce.Error),e=>t=>((e,t)=>({type:"MERGE_STATE_BRANCH",payload:{branchName:e,branchState:t}}))(e,t)),Vs=Gs("links"),Ks=Gs("params"),Zs=Gs("shared"),Ys=Gs("context"),Qs=Gs("auth"),Js=Gs("user"),Xs=Gs("request");class eo{constructor(e){const{bulkParams:t,statEvents:n}=e;t&&n||console.warn("Invalid bulk stat params. `bulkParams`: %s, `statEvents`: %s",t,n),this.params=e}log(e,t){const{statEvents:n,bulkParams:r,meta:s,zenApi:o}=this.params;if(!r||!n)return void console.warn("Invalid bulk stat params. `bulkParams`: %s, `statEvents`: %s. . Request not sent: %s",r,n,e);const a=n[e];if(!a)return void console.warn("Invalid `statEvent`: %s. Request not sent.",e);const i=t&&t.local,c=t&&t.global;o.oldLogBulkEvent({event:i?to(a,i):a,bulkParams:c?to(r,c):r,statMeta:s,info:t&&t.info})}forceSend(){return this.params.zenApi.forceSendBulkEvents()}}function to(e,t){return Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e)}const no=()=>Object(Z.createSelector)((e,t)=>t,e=>e.statParams,e=>e.statEvents,e=>e.bulkParams,e=>e.rowIndex,e=>e.zenApi,e=>e.id,(e,t,n,r,s,o,a)=>{if(e&&t&&t[e]){const{statEvents:n,bulkParams:r}=t[e];return new eo({statEvents:n,bulkParams:r,meta:{rowIndex:s,cardId:a},zenApi:o})}return new eo({statEvents:n,bulkParams:r,meta:{rowIndex:s,cardId:a},zenApi:o})}),ro=()=>Object(Z.createSelector)(e=>e.statEvents,e=>e.bulkParams,e=>e.rowIndex,e=>e.source?e.source.statParams:e.statParams,e=>e.source?e.source.statEvents:e.statEvents,e=>e.source?e.source.bulkParams:e.bulkParams,e=>e.place,e=>e.pageType,(e,t)=>t,(e,t,n,r,s,o,a,i,c)=>{if(i){if(!a)return console.error(new Error("new stats error: no place")),jn();if(s&&o){const e=o.replace("__place_param__",a).replace("__page_type__",i);return jn(e,s,{rowIndex:n},c)}if(e&&t){const r=t.replace("__place_param__",a).replace("__page_type__",i);return jn(r,e,{rowIndex:n},c)}return console.error(new Error(`new stats error: ${i} ${s} ${o} ${e} ${t}`)),jn()}if(r){const e=r[a];return e?jn(e.bulkParams,e.statEvents,{rowIndex:n},c):(console.error(new Error(`place ${a} not found in statParams`)),jn())}return s&&o?jn(o,s,{rowIndex:n},c):e&&t?jn(t,e,{rowIndex:n},c):jn()}),so=()=>Object(Z.createSelector)(e=>e.params.bulk.bulk_params,e=>e.params.bulk.stat_events,(e,t)=>t,(e,t,n)=>jn(e,t,null,n)),oo=so(),ao=(e,t)=>{let n=null;return(...r)=>{null!==n&&clearTimeout(n),n=setTimeout(()=>{n=null,e(...r)},t)}};(()=>{const e=[]})(),ao(e=>e.invalidateCache(),2500);var io=n(59);const co=250;let lo,uo,po=[],ho=[],fo=[],mo=[],go=[],bo=!1;const yo=!1,vo=n.n(io).a.hasSupport;let Eo;function _o(e,t){let n=e.length-1;for(;n>=0;n--)t(e[n])}function So(e,t){const n=[];let r;for(let s=0,o=e.length;s!==o;s++)t(r=e[s])&&n.push(r);return n}let wo=0;function ko(){return`__scrollEv${++wo}__`}const Co={scroll:void 0,scrollBottomEdge:void 0,scrolling:!1,lastScrollChangeTime:void 0,scrollStartPosition:void 0,scrollEndPosition:void 0};let Oo=zo(Co),Ro={},To=!1;const Ao=[];function Po(){const e=zo(Oo);Oo=Fo(e)}const No=(e,t,n)=>{ho.push({scroll:e.scroll,name:e.name||ko(),bottomEdge:e.bottomEdge,data:n,callback:t,_state:e.defaultState||0}),e.precise&&function(e,t){Ao.push([e,t])}(e.scroll-700,e.scroll+700)},Io=()=>{bo=!0},xo=()=>{Po(),bo=!1};function Lo(e,t,n){return n.fromBottom?e<=n.scroll||Boolean(n.bottomEdge&&t<=n.scroll):e>=n.scroll||Boolean(n.bottomEdge&&t>=n.scroll)}function jo(e,t){vo&&(t||(clearTimeout(Eo),Eo=setTimeout(()=>Do(Date.now(),!0),co)));const n=zo(Oo);Oo=Fo(n,t);const{scroll:r,scrollBottomEdge:s}=Oo;!0===Oo.scrolling&&n.scrolling,(!0===Oo.scrolling||t)&&function(e){Mo(e,!1),Uo(e,!1)}(Oo),!1===Oo.scrolling&&!0===n.scrolling&&function(e){Mo(e,!0),Uo(e,!0),_o(go,e=>{clearTimeout(e._timeout),e.callback()}),go=[]}(Oo),function(e,t){_o(po,n=>{const r=Lo(e,t,n);if(r){if(n.onceDebounce&&n._triggeredDebounce)return;Bo(n.name,{data:n.data},n.callback),n._triggered=!0,n._triggeredDebounce=!0}else n.onceDebounce&&n._triggeredDebounce&&(n._triggeredDebounce=!1)}),po=So(po,e=>!(e._triggered&&e.once))}(r,s),function(e,t){_o(ho,n=>{0===n._state&&Lo(e,t,n)&&(Bo(n.name,{state:1,data:n.data},n.callback),Ho(n.name)||(n._state=1)),1!==n._state||Lo(e,t,n)||(Bo(n.name,{state:0,data:n.data},n.callback),Ho(n.name)||(n._state=0))})}(r,s),vo||requestAnimationFrame(Do)}const Do=To?jo:function(e,t=250,n){let r,s;return(...o)=>{const a=n||this,i=Date.now();clearTimeout(s),r&&i<r+t?s=setTimeout(()=>{r=i,e.apply(a,o)},t):(r=i,e.apply(a,o))}}(jo,30);function Mo(e,t){const n=So(fo,e=>Boolean(e.endTrigger)===t),r=(t?e.scrollEndPosition:e.scroll)-e.scrollStartPosition,s=Math.abs(r),o=r>0?1:-1;_o(n,t=>{t.onceDebounce&&Ro[t.name]||s>=t.delta&&(t.direction===o||t.anyDirection)&&(t.overScrollBehavior||e.scroll>0)&&(Bo(t.name,{data:t.data},t.callback),t._triggered=!0,Ro[t.name]=!0)}),fo=So(fo,e=>!(e._triggered&&e.once))}function Uo(e,t){const n=Date.now();_o(mo,r=>{(n-r._lastTriggerTime>=r.timeout||t)&&(Bo(r.name,{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,data:r.data},r.callback),r._lastTriggerTime=n)})}function Fo(e,t){const n=zo(Co),r=yo?lo:window.pageYOffset,s=Date.now();return n.scroll=r,n.scrollBottomEdge=r+(yo?uo:window.innerHeight),n.scroll!==e.scroll?n.lastScrollChangeTime=s:n.lastScrollChangeTime=e.lastScrollChangeTime,n.direction=n.scroll>=e.scroll?1:-1,s-n.lastScrollChangeTime>co||t||n.direction!==e.direction?n.scrolling=!1:n.scrolling=!0,!0===n.scrolling&&!1===e.scrolling&&(n.scrollStartPosition=r,Ro={}),!0===n.scrolling&&void 0!==e.scrollStartPosition&&void 0===n.scrollStartPosition&&(n.scrollStartPosition=e.scrollStartPosition),!1===n.scrolling&&!0===e.scrolling&&(n.scrollStartPosition=e.scrollStartPosition,n.scrollEndPosition=r),n}function Bo(e,t,n){Ho()||n&&n(t)}function zo(e){return{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,scrolling:e.scrolling,lastScrollChangeTime:e.lastScrollChangeTime,scrollStartPosition:e.scrollStartPosition,scrollEndPosition:e.scrollEndPosition,direction:e.direction}}function Ho(){return bo}const Wo=200,$o=(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;new class{loop(e){"number"==typeof this.start&&"number"==typeof this.distance&&(this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=$o(this.timeElapsed,this.start,this.distance,Wo),window.scrollTo(0,this.next),this.timeElapsed<Wo?requestAnimationFrame(e=>{this.loop(e)}):this.end&&this.end())}scrollTo({top:e=0,animate:t=!0,container:n}={}){return new Promise(r=>{const s=Math.max(0,e),o=()=>{if("number"!=typeof this.start||"number"!=typeof this.distance)return;const e={scroll:s,scrollBottomEdge:s+window.innerHeight};n?n.scrollTop=this.start+this.distance:window.scrollTo(0,this.start+this.distance),this.timeStart=0,this.enableScrollEvents(),this.scrollPosition=e,r(s)};this.end=o,this.start=window.pageYOffset,this.distance=s-this.start,this.disableScrollEvents(),t?requestAnimationFrame(e=>{this.loop(e)}):(n?n.scrollTop=s:window.scrollTo(0,s),o())})}disableScrollEvents(){Io()}enableScrollEvents(){setTimeout(()=>xo(),500)}};const qo="undefined"!=typeof window&&void 0!==window.localStorage,Go=qo?{isAvailable:qo,getItem(e){try{return window.localStorage.getItem(e)}catch(e){return null}},setItem(e,t){try{return window.localStorage.setItem(e,t),!0}catch(e){return!1}},removeItem(e){try{return window.localStorage.removeItem(e),!0}catch(e){return!1}}}:{isAvailable:!1,getItem:()=>null,setItem:()=>!1,removeItem:()=>!1},Vo=(e="item")=>`${e}_${Math.random()*Date.now()}`,Ko=(e,t,n)=>({type:"RECEIVE_ITEMS",payload:{items:e,insertOnTop:t,shouldRefreshFeed:n}}),Zo=(((e,t)=>{let n,r;const s=e=>{n=Object.assign({},Ws,e)},o=({args:t,timeouts:s=n.timeouts,withoutAction:o=!1,withoutRetries:a=!1,onTryComplete:i=(e=>{if(e.isRejected)throw e.error;return e.value})}={})=>{const c=(e=>"function"!=typeof e?()=>e:e)(t),l=(e=>Array.isArray(e)?t=>t<e.length?e[t]:null:"function"!=typeof e?()=>e:e)(s);let u,d,p=0,h=!1,f=!1;const m=()=>u===r,g=()=>!h&&!f,b=()=>!a&&g()&&m(),y=()=>{g()&&(d&&d(),f=!0)},v=()=>{const t=c(p);let n;return Array.isArray(t)?n=e(...t):(null!=t&&console.warn("Expected action arguments to be an array or null/undefined."),n=e()),n.then(e=>i({value:e,tryNumber:p,isFulfilled:!0,isRejected:!1,isLastSession:m,abortRetries:y}),e=>i({error:e,tryNumber:p,isFulfilled:!1,isRejected:!0,isLastSession:m,abortRetries:y}))},E=e=>{if(b()){const t=l(p);if("number"==typeof t)return p++,(e=>new Promise((t,n)=>{d=(()=>{d=null,n(new Error("Retries aborted."))}),setTimeout(()=>{d=null,t()},e)}))(t).then(()=>{if(b())return v().catch(E);throw e});null!=t&&console.warn("Expected action timeout to be a number or null/undefined.")}throw e},_=o?Promise.reject(new Error("Generated error by 'withoutAction' call.")):v(),S=((e,t)=>e.then(e=>(t(e),e),e=>{throw t(e),e}))(_.catch(E),()=>{h=!0});return r&&r.abortRetries(),r=u={actionResult:_,retriesResult:S,isLastSession:m,isInProgress:g,abortRetries:y}};s(t);const a=(...e)=>o({args:e});a.startSession=o,a.setOptions=s})(e=>e.getMore()),e=>({type:"SET_DISPLAYED_ROWS_NUMBER",payload:{displayedRowsNumber:e}})),Yo=e=>(t,{isPublic:n=!0}={})=>({type:e,payload:t,meta:{isPublic:n},broadcastable:!0}),Qo=Yo("SOURCE_SUBSCRIBE"),Jo=Yo("SOURCE_UNSUBSCRIBE"),Xo=Yo("SOURCE_BLOCK"),ea=Yo("SOURCE_UNBLOCK"),ta=Yo("SOURCE_DISLIKE"),na=(Object(Z.createSelector)(e=>e,e=>{if(e&&e.id&&e.state.mounted)return{global:{__with_comment_id__:e.id}}}),Object(Z.createSelector)(Wt,Yt,e=>e.params.libType,({commentInCard:e},t,n)=>t||n&&Xe(n)?{enabled:!1,hotBubble:!1,removeSnippet:!1}:e),e=>{let t=null,n=null,r=!1;return(...s)=>!n||r||t&&!er(t,s)?(t=s,r=!1,n=e(...s).then(e=>(r=!0,e),e=>{throw r=!0,e})):n}),ra=sr({reducer:ar,selector:(e,t)=>kr(e,t).profile}),sa=e=>({type:"ADD_USER",payload:{userId:e}}),oa=e=>(t,...n)=>r=>(r(sa(t)),r(e(t,...n))),aa=e=>"SELF_USER_ID_FALLBACK"===e?"":e,ia=na(({zenApi:e},t)=>e.getPreferences(aa(t))),ca=na(({zenApi:e},t)=>e.getSocialProfile(aa(t))),la=na(({zenApi:e},t)=>e.getUserSubscribers(aa(t))),ua=e=>t=>async n=>{const r=(e=>{let t={isFirstCall:!0};return(...n)=>(t.isFirstCall&&(t={isFirstCall:!1,value:e(...n)}),t.value)})(ia),[s,o]=or({type:Wn,request:r,selector:vr}).map(oa),[a,i]=or({type:Hn,request:r,selector:Er}).map(oa);e?await Promise.all([n(o(t)),n(i(t))]):await Promise.all([n(s(t)),n(a(t))])},da=ua(!0),[pa,ha,fa]=(ua(!0),or({type:"USER_PROFILE_REQUEST",request:ca,selector:ra}).map(oa).map(e=>(t,...n)=>async(r,s)=>{const o=s(),a=Cr(o),[i]=await Promise.all([r(e(t,...n)),r(da(a))]);return i})),[ma,ga]=or({type:"USER_FOLLOWERS_REQUEST",request:la,selector:_r}).map(oa),ba=e=>Object.keys(e),ya={links:Vs,params:Ks,shared:Zs,context:Ys,auth:Qs,user:Js},va={banner:"bannerStats",experiments_data:"experimentsData",client_definition:"clientDefinition",ice_start:"isIceStart",complaints:"complaints",bulk:"bulk",group_ids:"groupIds"},Ea=(e,t)=>{const n=e.screens&&e.screens.items;if(!Array.isArray(n))return null;const r=n.filter(({type:e})=>e===t);return 1!==r.length?null:r[0].source},_a=e=>(t,n,{zenApi:r,ttlController:s})=>{s&&s.apiResponseReceived(Us.Export,e),t({type:"CLEAR_FEED",payload:null});const o=K.get(e,"grid_type.name");o&&t((e=>t=>{t((e=>({type:"SET_GRID_TYPE",payload:{gridType:e}}))(e)),t(Zo(Sn[e].initialDisplayedRowsNumber))})(o)),e.items&&t(Ko(e.items,!1,!1));const{channel:a}=e;t((e=>({type:"SOURCE_MERGE",payload:e}))(a)),e.commentsDoc&&t((e=>({type:"RECEIVE_COMMENTS_DOC",payload:{doc:e}}))(e.commentsDoc)),t((e=>{const t={[Us.Onboarding]:K.get(e,"onboarding.link")||null,[Us.More]:K.get(e,"more.link")||null,[Us.Bulk]:K.get(e,"bulk.link")||null,[Us.ClientLogs]:K.get(e,"client_logs.link")||null,[Us.Subs]:Ea(e,"subs")||Ea(e,"switchable_subs"),[Us.Profile]:Ea(e,"profile"),[Us.Category]:Ea(e,"category"),[Us.Categories]:Ea(e,"categories"),[Us.Suggest]:Ea(e,"suggest"),[Us.Blocked]:Ea(e,"blocked"),[Us.Preferences]:Ea(e,"preferences"),[Us.Subscribers]:Ea(e,"subscribers"),[Us.BlockedSuggest]:Ea(e,"blocked_suggest"),[Us.VideoRecommend]:Ea(e,"video_recommend"),[Us.CountryLang]:Ea(e,"language"),[Us.CommentsCounter]:Ea(e,"comments_counter"),[Us.CommentsInfos]:Ea(e,"comments_infos"),[Us.SendAppLinkSms]:Ea(e,"send_app_link_sms"),[Us.SocialProfile]:Ea(e,"social_profile"),[Us.SocialActivityFeed]:Ea(e,"social_activity_feed"),[Us.SocialProfileEdit]:Ea(e,"social_profile_edit"),[Us.SocialInterestsFeedback]:Ea(e,"social_interests_feedback"),[Us.ProfileOnboardingShown]:Ea(e,"profile_onboarding_shown"),[Us.ProfileCompleteOnboarding]:Ea(e,"profile_complete_onboarding"),[Us.ProfileDeactivate]:Ea(e,"profile_deactivate"),[Us.ProfileCancelDeactivate]:Ea(e,"profile_cancel_deactivate"),[Us.AllChannelsLink]:K.get(e,"links.all_channels_link")};return Vs(t)})(e)),t((e=>{const t=ba(va).reduce((t,n)=>(t[va[n]]=e[n],t),{});return Ks(t)})(e)),t(Xs({rid:K.get(e,"rid")})),t({type:"APPLY_EXPORT_DATA",payload:{exportData:e,currentTime:Date.now()}}),e.id&&r.packUsed(e.id)},Sa=e=>(t,n)=>{const{exportData:r,initialDisplayedRowsNumber:s,params:o,comments:a}=e;ba(ya).forEach(n=>{const r=e[n];if(r){t((0,ya[n])(r))}}),t(sa(Cr(n()))),r&&t(_a(r)),a&&t((e=>async t=>{t({type:"INIT_COMMENTS",payload:e})})(a)),s&&t(Zo(s)),o&&o.isChildPage&&t((e=>({type:"SET_IS_CHILD_WINDOW",payload:e}))(!0)),t((e,t)=>{const n=t(),{scrollToID:r}=n.shared;if(!r)return;const{displayedRowsNumber:s}=kn(n),{rows:o}=An(n),a=o.findIndex(e=>e.some(({id:e})=>e===r));e(Zo(a+s))})},wa=(e,t)=>`${e}(${(e=>e.displayName||e.name||"Component")(t)})`,ka=e=>e,Ca=Object(r.createContext)(ka({})),Oa=()=>Object(r.useContext)(Ca),Ra=e=>t=>{const n=n=>{const r=Oa();return s.a.createElement(t,u({},n,e(r,n)))};return n.displayName=wa("WithZenContext",t),n};class Ta{constructor(e){Aa.call(this);const t=e.getState();this.store=e;const n=un(t).zenkitNotificaitons;(async()=>{const{notifications:e,nativeNavBarEnabled:t}=await this.init();n&&(this.updateNotifications(e),this.on("notifications",e=>{this.updateNotifications(e.data)})),t&&this.setNativeNavbar(t)})()}async init(){let e=window.ZENKIT_LAUNCH_OPTIONS;if(!e){let t;(e=window.ZENKIT_LAUNCH_OPTIONS=new Promise(e=>{t=e})).resolve=t}return await e}async close(){return await this.init(),window.ZENKIT.close()}async requestCookieAuthURL(e,t,n){return await this.init(),window.ZENKIT.requestCookieAuthURL(e,t,n)}async channelStatusChanged(e,t,n){return await this.init(),window.ZENKIT.channelStatusChanged(e,t,n)}async navigateBrowser(e){return await this.init(),window.ZENKIT.navigate("BROWSER",e)}async navigateChannel(e){return await this.init(),window.ZENKIT.navigate("CHANNEL",e)}async navigateSubscriptions(){return await this.init(),window.ZENKIT.navigate("SUBSCRIPTIONS")}async navigateSettings(){return await this.init(),window.ZENKIT.navigate("SETTINGS")}async navigateHistory(){return await this.init(),window.ZENKIT.navigate("HISTORY")}async navigateEditor(){return await this.init(),window.ZENKIT.navigate("EDITOR")}async navigateEditorPost(e){return await this.init(),window.ZENKIT.navigate("EDITOR_POST",e)}async navigateNotifications(){return await this.init(),window.ZENKIT.navigate("NOTIFICATIONS")}async navigateProfile(e){return await this.init(),window.ZENKIT.navigate("PROFILE",e)}async onReady(){return await this.init(),window.ZENKIT.onReady()}async onError(){return await this.init(),window.ZENKIT.onError()}async on(e,t){return await this.init(),window.ZENKIT.on(e,t)}async off(e,t){return await this.init(),window.ZENKIT.off(e,t)}}var Aa=function(){this.updateNotifications=(e=>{this.store.dispatch((e=>(t,n)=>{const r=n(),s=Cr(r);t(sa(s)),t({type:"USER_PROFILE_NOTIFICATIONS_CHANGE",payload:{id:s,state:e}})})(e))}),this.setNativeNavbar=(e=>{this.store.dispatch((e=>({type:"SET_NATIVE_NAVBAR",payload:{enabled:e}}))(e))})};const Pa=Object(r.createContext)(null);var Na=n(14);const Ia=Jn.a,xa=Na.b,La="undefined"!=typeof window,ja=(e,t)=>e?s.a.createElement(Ls,{history:e},t):t,Da="ZenLibLoaderError";let Ma,Ua;!function(e){e.Network="network",e.Logic="logic",e.Unknown="unknown"}(Ma||(Ma={})),function(e){e.Front="frontend",e.Backend="backend",e.Unknown="somebody"}(Ua||(Ua={}));class Fa extends Error{constructor({message:e,owner:t,sourceType:n,type:r}){super(e),this.owner=t,this.sourceType=n,this.name=Da,this.type=r}}
/*! onloadCSS. (onload callback for loadCSS) [c]2017 Filament Group, Inc. MIT License */n(22);new class{constructor(){this._starts={},this._results={}}start(e){const t=this._starts[e],n=this._results[e];t||n||(this._starts[e]=Date.now())}finish(e){const t=this._starts[e],n=this._results[e];t&&!n&&(this._results[e]=Date.now()-t)}getResults(){return Object.assign({},this._results)}getInProgress(){return Object.keys(this._starts).filter(e=>"number"!=typeof this._results[e]).sort()}};let Ba;!function(e){e.Chromium="chromium",e.Firefox="firefox",e.Edge="edge",e.Legacy="legacy",e.Node="node"}(Ba||(Ba={}));const za=["Chrome >= 55"],Ha=["Firefox >= 51"],Wa=["Edge >= 13"];Ba.Chromium,Ba.Chromium,Ba.Chromium,Ba.Firefox,Ba.Edge,Ba.Legacy,Ba.Legacy,Ba.Legacy,Ba.Legacy,Ba.Legacy,Ba.Chromium,Ba.Chromium,Ba.Legacy,Ba.Legacy,Ba.Chromium,Ba.Chromium,Ba.Legacy,Ba.Legacy,Ba.Chromium,Ba.Chromium,Ba.Chromium,Ba.Legacy;let $a;!function(e){e[e.Desktop=0]="Desktop",e[e.Tablet=1]="Tablet",e[e.Mobile=2]="Mobile"}($a||($a={}));const qa=(e,t)=>((e,t)=>{const n=[e,t].map(e=>e.split(".").map(e=>parseInt(e,10))),r=n[0],s=n[1],o=Math.min(r.length,s.length);for(let e=0;e<o;e++){const t=r[e],n=s[e];if(t!==n)return t>n?1:-1}return 0})(e,t)>=0,Ga=(Object.is,Object.is,Object.is,Object.is,(e,t)=>!qa(e,t));Object.is,Object.is,Object.is,Object.is;class Va{constructor(){this._events={}}on(e,t){(this._events[e]||(this._events[e]=[])).push(t)}off(e,t){const n=this._events[e];if(!n)return;const r=n.indexOf(t);r>=0&&n.splice(r,1)}once(e,t){const n=()=>{this.off(e,t),this.off(e,n)};this.on(e,t),this.on(e,n)}subscribe(e,t){return this.on(e,t),()=>{this.off(e,t)}}emit(e,...t){const n=this._events[e];n&&n.slice().forEach(e=>{e.apply(void 0,t)})}}const Ka=(e,t=10)=>{if(!e||!e.items)return[];const n=[];for(let r=0;r<e.items.length&&n.length<t;r++){const t=e.items[r];t.type!==fn.DOC&&t.type!==fn.NARRATIVE||n.push(t.cardBackgroundWhiteImage)}return n},Za=e=>"number"==typeof e,Ya=e=>"string"==typeof e,Qa=e=>e&&"object"==typeof e,Ja=e=>"function"==typeof e;function Xa(e){if(!e)return;return Object.keys(e).reduce((t,n)=>{const{bulk_params:r,stat_events:s,links:o}=e[n];return Object.assign({},t,{[n]:{bulkParams:r,statEvents:s,links:o}})},{})}const ei=({strongest_id:e,type:t,status:n,title:r,logo:s,logo_sizes:o,framed_logo:a,logo_background_color:i,title_background_color:c,title_color:l,feed_link:u,feed_api_link:d,subtitle:p,description:h,subscribers:f,audience:m,social_links:g,is_verified:b,is_nirvana:y,link:v,has_new_publications:E})=>({id:e,type:t,status:n,title:r,logo:s,subtitle:p,description:h,subscribers:f,audience:m,isVerified:b,isNirvana:y,framedLogo:a,logoSizes:o,logoBackgroundColor:i,titleBackgroundColor:c,titleColor:l,feedLink:u,feedApiLink:d,socialLinks:si(g),link:v,hasNewPublications:E}),ti=e=>{const t=Xa(e.stat_params);if(t)return Object.assign({},ei(e.source),t.placeholder)},ni=e=>e.items.map(ti),ri=({source:e,bulk_params:t,stat_events:n})=>Object.assign({},ei(e),{bulkParams:e.bulk_params||t,statEvents:e.stat_events||n}),si=e=>Array.isArray(e)?e.map(({link:e,name:t,image:n,social_network:r})=>({link:e,name:t,image:n,network:r})):[],oi=e=>{if(!e||!e.length)return;const[t,n,r]=e;return{url:t,width:Number(n),height:Number(r)}},ai=e=>{if(e&&e.items&&e.items[0]&&("direct"!==e.items[0].provider||!e.items[0].content))return void console.error(`Ad parsing error: ${JSON.stringify(e)}`);const t=e.items[0],{content:n}=t,r=t.stat_events,s=t.bulk_params;return{id:Vo(fn.DIRECT),type:fn.DIRECT,url:n.url,showUrl:n.linkHead+n.linkTail,domain:n.domain,title:n.title||"",text:n.body,age:n.age,warning:n.warning,imageData:oi(n.image),statEvents:r,bulkParams:s}},ii=e=>{if(e)return"direct"===e.type?{type:"direct",domElemId:e.dom_elem_id,blockId:e.block_id,partnerStatId:e.partner_stat_id,isBig:e.is_big}:"adsense"===e.type?{type:"adsense",client:e.client,slot:e.slot,adsenseFormat:e.adsense_format,layoutKey:e.layout_key}:void 0},ci=({items:e})=>{const t={id:Vo(fn.SIMILAR),type:fn.SIMILAR,items:{docs:[],direct:[],sources:[],rtb:[]}},{docs:n,direct:r,sources:s,rtb:o}=t.items;return e.forEach(e=>{switch(e.type){case"channel":case"interest":{const t=ti({source:e,stat_params:e.stat_params});t&&s.push(t);break}case"small_card":n.push((e=>{const t={title:e.title||"",text:e.text||"",link:e.link,domainTitle:e.domain_title,image:e.images&&e.images.horizontal,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:ii(e.ad),rocket:Boolean(e.zen_logo),feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link};return e.card_colors?t.cardColors={card:e.card_colors.card,text:e.card_colors.text}:e.main_color&&(t.mainColor=e.main_color),t})(e));break;case"ad":{const t=ai(e);t&&r.push(t);break}case"rtb":{const t=ii(e.ad);t&&o.push({type:e.type,ad:t});break}}}),t},li=({source_id:e,image:t,background_color:n,text_color:r,name:s,name_background_color:o})=>({id:e,image:t,name:s,textColor:r,textBackgroundColor:o,imageBackgroundColor:n}),ui=e=>Object.keys(e).reduce((t,n)=>{const{text:r,text_color:s,background_color:o}=e[n];return t[n]={text:r,textColor:s,backgroundColor:o},t},{}),di=e=>({id:e.source.strongest_id,type:e.type,source:ri(e),description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,feedbackButtons:ui(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}),pi=({id:e,type:t,text:n,stats:r})=>({id:e,type:t,text:n,isChecked:!1,stats:r&&{statEvents:r.stat_events,bulkParams:r.bulk_params}}),hi=({id:e,type:t,display_type:n,text:r,answers:s})=>({id:e,type:t,display_type:n,text:r,answers:s.map(pi)}),fi=e=>{if(e.custom_user_feedback_data)try{return{questions:e.custom_user_feedback_data.questions.map(hi)}}catch(e){return void console.warn("Error parsing custom_user_feedback_data",e)}},mi=({feedback_info:e})=>e?e.is_liked?"liked":e.is_disliked?"disliked":null:null,gi=e=>({id:e.id,title:e.title||"",text:e.text||"",bulkParams:e.bulk_params,statEvents:e.stat_events,source:ei(e.source),creationTime:e.creation_time,actionTime:e.action_time,requireUserData:e.require_user_data}),bi=e=>Object.assign({ad:ii(e.ad),bidFloor:e.bid_floor,domain:e.domain,domainTitle:e.domain_title,link:e.link,logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar&&e.similar.link,read:e.read,feedback:mi(e),feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,isLowResolutionDevice:e.is_low_resolution_device,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link,badges:e.badges},gi(e)),yi=e=>(e.image&&e.big_card_image,Object.assign({isPromoted:e.is_promoted,isPromoPublication:e.is_promo_publication,cardBackgroundImage:e.card_background_image,cardBackgroundWhiteImage:e.card_background_white_image,customUserFeedbackData:fi(e),rocket:Boolean(e.zen_logo),pixels:e.pixels},bi(e))),vi=({link:e,preview:t,width:n,height:r})=>{const s={link:e,preview:t};return(n||r)&&(s.hasSize=!0,s.width=n,s.height=r),s},Ei=({background:e,background_color:t,text_color:n,link_color:r})=>({background:vi(e),backgroundColor:t,textColor:n,linkColor:r}),_i=({has_sound:e,heartbeat_pos:t,id:n,loop:r,player:s,provider:o,userAgent:a,additional_params:i,replay_count:c=2,autoplay:l})=>({hasSound:e,heartbeatTimes:t,id:n,loop:r,player:s,provider:o,userAgent:a,additionalParams:i,autoplay:l,replayCount:c}),Si=e=>{e.image&&!e.big_card_image&&console.warn("no big_card_image",e);const t=Xa(e.stat_params);if(t)return Object.assign({type:fn.GIF,video:_i(e.video),stats:e.stats,channelOwnerUid:parseInt(e.channel_owner_uid,10),publisherId:e.publisher_id,publicationId:e.publication_id,commentsToken:e.comments_token,statParams:t},bi(e))},wi=e=>({id:e.source.strongest_id,type:e.type,source:ei(e.source),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}),ki=e=>{if(!e.items||!e.items.length)return;const t=e.items.map(wi);return t.filter(e=>"subscribed"!==e.source.status).length<5?void 0:{id:e.id,type:fn.PERSONAL_CAROUSEL,size:e.size,title:e.title,subtitle:e.subtitle,background:e.background,showMoreLink:e.show_more_link,items:t,statEvents:e.stat_events,bulkParams:e.bulk_params,disableItemsClickable:Boolean(e.disable_items_clickable),hidden:!1}},Ci=({bulk_params:e,stat_events:t})=>({bulkParams:e,statEvents:t}),Oi=e=>Object.assign({image:e.image,link:e.link,cardColors:{button:e.card_colors.button,buttonText:e.card_colors.button_text,card:e.card_colors.card,text:e.card_colors.text}},gi(e),{hidden:!1}),Ri=(e,t)=>e[t],Ti=(e,t)=>e.reduce((e,n)=>(e[t(n)]=n,e),{}),Ai={[fn.CARD_PLACEHOLDER]:e=>({id:e.item_id.toString(),type:fn.CARD_PLACEHOLDER,statEvents:e.stat_events,bulkParams:e.bulk_params}),[fn.COMMENT]:e=>Object.assign({type:fn.COMMENT,comment:e.comment,author:e.author},gi(e)),[fn.DIRECT]:ai,[fn.DOC]:e=>Object.assign({},yi(e),{type:fn.DOC}),[fn.FEATURING_PROMO]:e=>({id:e.id,type:fn.FEATURING_PROMO,source:ri(e),header:e.header,description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,menu:e.menu,feedbackButtons:ui(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params}),[fn.GIF]:Si,[fn.HINT_EULA]:e=>e.hint_type&&"eula"!==e.hint_type?(e=>({id:e.id,type:fn.HINT_PERSONAL}))(e):(e=>({id:e.id,type:fn.HINT_EULA,link:e.link,bulkParams:e.bulk_params,statEvents:e.stat_events}))(e),[fn.ICEBOARDING_GRID]:e=>{const t={id:Vo(fn.ICEBOARDING_GRID),type:e.type,sources:e.sources.map(li),stats:e.stats,moreButton:void 0,bulkParams:e.bulk_params,statEvents:e.stat_events};return e.more_button&&(t.moreButton={link:e.more_button.click}),t},[fn.NARRATIVE]:e=>Object.assign({},yi(e),{type:fn.NARRATIVE,isPromoNarrative:"narrative_promo_text"===e.narrative_style}),[fn.PLACEHOLDER]:e=>({id:e.item_id.toString(),type:fn.PLACEHOLDER,statEvents:e.stat_events,bulkParams:e.bulk_params}),[fn.POST]:e=>{const t={type:fn.POST,id:e.id,style:Ei(e.style),link:e.link,similarLink:e.similar_link,source:ei(e.source),pixels:e.pixels,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:ii(e.ad),bidFloor:e.bid_floor,commentsDocumentId:e.comments_document_id,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link,badges:e.badges,requireUserData:e.require_user_data,read:e.was_read,feedback:e.feedback_status,domainTitle:e.source.title};return e.rich_text&&(t.richText=(({json:e,length:t})=>({json:e,length:t}))(e.rich_text)),e.image&&(t.image=vi(e.image)),t},[fn.PROFILE_ACTIVITY_ONBOARDING]:e=>({type:fn.PROFILE_ACTIVITY_ONBOARDING,mode:e.mode,id:e.id}),[fn.SIMILAR_INTERESTS]:e=>{const{id:t,type:n,title:r,items:s}=e;return{id:t,type:n,title:r,items:s.map(e=>ti({source:e,stat_params:e.stat_params}))}},[fn.AUTH]:e=>({id:String(e.id),type:fn.AUTH,title:e.title,text:e.text,authLink:e.auth_link,bulkParams:e.bulk_params,statEvents:e.stat_events}),[fn.FEATURING_CAROUSEL]:e=>({id:e.id,type:fn.FEATURING_CAROUSEL,carouselType:e.carousel_type,title:e.title,subtitle:e.subtitle,menu:e.menu,items:e.items.map(di),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}),[fn.PERSONAL_CAROUSEL]:ki,[fn.CONTENT_CAROUSEL]:e=>({id:e.id,type:fn.CONTENT_CAROUSEL,carouselType:e.carousel_type,title:e.title,titleTemplate:e.title_template,subtitle:e.subtitle,source:e.source?Object.assign({},ei(e.source),Ci(e.source)):void 0,items:e.items.map(Oi),statEvents:e.stat_events,bulkParams:e.bulk_params,hidden:!1}),[fn.DELIMITER]:e=>({id:e.id,type:fn.DELIMITER,text:e.text}),[fn.CARD_FILLER]:e=>({id:e.id,type:fn.CARD_FILLER})},Pi=e=>{const t=Ri(Ai,e.type);return t?t(e):(console.warn(`Unsupported doc type: ${e.type}`),null)};function Ni(e){const t={lastSawFeed:{zenApp:null,zenAppIos:null},serverTime:null};return e&&(e.last_saw_feed&&(t.lastSawFeed.zenApp=e.last_saw_feed.zen_app,t.lastSawFeed.zenAppIos=e.last_saw_feed.zen_app_ios),t.serverTime=e.server_time),t}const Ii=e=>e.map(e=>ri({source:e})),xi=e=>{if(!e)return null;switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:Ii(t)}}case"error":return e;default:return{status:"error"}}},Li=e=>{if(!e)return null;switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:Ii(t).filter(e=>"domain"===e.type||"publisher"===e.type)}}case"error":return e;default:return{status:"error"}}},ji=(e,t)=>{const n=((e,t,n)=>{if(!e)return null;const r=e.reduce((e,r)=>{if(r){const s=Pi(r);s&&e.push(Object.assign({},s,{packId:t,cacheId:n}))}return e},[]);return r.length>0?r:null})(e.items,e.rid,t),r=(e=>e?Object.assign({sources:ni(e)},(Xa(e.stat_params)||{}).interests_onboarding):null)(e.interests_onboarding),s=(e=>e&&ki(e)||null)(e.pinned_carousel),o=(e=>{if(!e)return{status:ze.Feed};switch(e.status){case ze.Banned:case ze.NotFound:return{status:e.status};case ze.Ok:return{status:ze.Ok,source:ri(e)};default:return console.error("Broken channel from backend"),{status:ze.Feed}}})(e.channel);return{id:e.rid,cacheId:t,receivedAt:e.received_at,ttl:1e3*e.ttl,storeTtl:1e3*e.store_ttl,source:e.sf,adFlightId:e.ad_flight_id,adArticleId:e.ad_article_id,publisherId:e.publisher_id,channel:o,items:n,onboardingInterests:r,pinnedCarousel:s,isIceStart:e.ice_start,experimentsData:e.experiments_data||null,groupIds:e.group_ids||"",clientDefinition:e.client_definition||null,user:Ni(e.user),commentsDoc:e.comments_doc?Pi(e.comments_doc):null,currentUserInterests:xi(e.current_user_interests),currentUserSubscriptions:Li(e.current_user_subscriptions),screens:e.screens,banner:e.banner}},Di=(e,t="")=>Object.assign({},e,ji(e,t)),Mi=({email:e,name:t,avatar:n})=>({email:e,name:t,avatar:n}),Ui=({count:e,external_url:t})=>({count:e,externalUrl:t}),Fi=({country:e,external_url:t})=>({country:e,externalUrl:t}),Bi=({external_url:e})=>({externalUrl:e}),zi=({stat_events:e,bulk_params:t,disabled:n})=>({statEvents:e,bulkParams:t,disabled:n}),Hi={"user-info":e=>({userInfo:Mi(e)}),"no-user":e=>({noUser:Bi(e)}),"blocked-count":e=>({blockedCount:Ui(e)}),video:e=>({video:zi(e)}),autoplay:()=>({autoplay:{}}),language:e=>({language:Fi(e)}),feedback:e=>({feedback:Bi(e)}),eula:e=>({eula:Bi(e)}),logout:e=>({logout:Bi(e)})},Wi=e=>{const t=e.items.reduce((e,t)=>Object.assign({},e,Hi[t.type](t)),{});return t.userInfo||t.noUser||console.error("Inconsistent profile data"),t},$i=({link:e,title:t,image:n,name:r,stat_events:s,bulk_params:o})=>({link:e,title:t,image:n,name:r,statEvents:s,bulkParams:o}),qi=e=>({sources:ni(e),category:e.category&&$i(e.category)}),Gi=e=>{const t=e.items.filter(({type:e})=>"carousel"===e).map(({sources:e})=>e);let n=[];0!==t.length&&(n=(e=>e.filter(Boolean))([].concat(...t).map(ti)));const r=e.items.filter(({type:e})=>"list_item"===e).map($i);return{sources:n,list:Ti(r,e=>e.name)}},Vi=({country_id:e,language_ids:t,countries:n,languages:r})=>({countryId:e,languageIds:t.reduce((e,t)=>(e[t]=!0,e),{}),countries:n.map(({code:e,langs:t,name:n})=>({code:e,langs:t,name:n})),languages:r}),Ki=({items:e=[]})=>e.reduce((e,t)=>{if(t.type===fn.GIF){const n=Si(t);n&&e.push(n)}return e},[]),Zi=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]={count:e[n],id:void 0,text:void 0,authorName:void 0,authorAvatar:void 0}}),t},Yi=e=>{const t={};return Object.keys(e).forEach(n=>{const r=e[n];t[n]={count:r.count,id:r.id,text:r.text,authorName:r.authorName,authorAvatar:r.authorAvatar}}),t},Qi=e=>({status:e.status,uid:e.uid,avatarUrl:e.avatarUrl,name:e.name,about:e.about,followerCount:e.followerCount,subscriptionCount:e.subscriptionCount,backgroundColor:e.backgroundColor,textColor:e.textColor,interests:e.interests.map(ei),privacy:e.privacy?{hideInterests:e.privacy.hideInterests,hideActivity:e.privacy.hideActivity,hideSubscriptions:e.privacy.hideSubscriptions}:{hideInterests:!0,hideActivity:!0,hideSubscriptions:!0},isSleeping:e.isSleeping,onboardingRequired:e.onboardingRequired,csrfToken:e.csrfToken,passportRetPathPlaceholder:e.passportRetPathPlaceholder,passportAvatarEditLink:e.passportAvatarEditLink,passportDisplayNameEditLink:e.passportDisplayNameEditLink,source:ti(e.source),isDeactivated:"deleted"===e.status,isNotExist:"not_exist"===e.status});let Ji,Xi;!function(e){e.Default="default",e.Reload="reload",e.NoCache="no-cache",e.NoStore="no-store"}(Ji||(Ji={})),function(e){e.GetBeforeNetwork="GET_BEFORE_NETWORK",e.PutAfterNetwork="PUT_AFTER_NETWORK",e.GetAfterNetwork="GET_AFTER_NETWORK"}(Xi||(Xi={}));const ec={[Ji.Default]:[Xi.GetBeforeNetwork,Xi.PutAfterNetwork,Xi.GetAfterNetwork],[Ji.Reload]:[Xi.PutAfterNetwork,Xi.GetAfterNetwork],[Ji.NoCache]:[Xi.PutAfterNetwork],[Ji.NoStore]:[]},tc=e=>{const t=ec[e];if(!t)throw new Error(`Cache mode '${e}' is not exist.`);return e=>t.includes(e)},nc="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);let rc=null;const sc=(e,t)=>(nc?(rc||(rc=new Promise((e,t)=>{const n=nc.open("zen-db",1);n.onerror=(()=>{t(n.error)}),n.onupgradeneeded=(()=>{n.result.createObjectStore("zen-api-cache")}),n.onsuccess=(()=>{e(n.result),n.result.onclose=(()=>{rc=null})})})),rc):Promise.reject(new Error("indexedDB is not supported."))).then(n=>new Promise((r,s)=>{const o=n.transaction("zen-api-cache",e);o.oncomplete=(()=>{r()}),o.onerror=(()=>{s(o.error)}),t(o.objectStore("zen-api-cache"))})),oc={get(e){let t;return sc("readonly",n=>{t=n.get(e)}).then(()=>t.result)},set:(e,t)=>sc("readwrite",n=>{n.put(t,e)}),delete:e=>sc("readwrite",t=>{t.delete(e)}),clear:()=>sc("readwrite",e=>{e.clear()}),keys(){const e=[];return sc("readonly",t=>{const n=t.openKeyCursor?t.openKeyCursor():t.openCursor();n.onsuccess=(()=>{n.result&&(e.push(n.result.key),n.result.continue())})}).then(()=>e)}},ac={get:e=>oc.get(e),put:(e,t)=>oc.set(e,t),remove:e=>oc.delete(e),isEnabled:()=>Boolean("undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)),keys:()=>oc.keys().then(e=>{const t=[];return e.forEach(e=>{Ya(e)&&t.push(e)}),t})};const ic={},cc={get:e=>Promise.resolve(ic[e]),put:(e,t)=>(ic[e]=t,Promise.resolve()),remove:e=>(delete ic[e],Promise.resolve()),isEnabled:()=>!0,keys:()=>Promise.resolve(Object.keys(ic))};class lc extends Error{constructor(e){super(`ZenApiCache: ${e}`)}}const uc=({type:e=Fs.SessionCache,namespace:t="common"})=>{const n=pc(e),r=e=>`${t}-${e}`;return{get(e){const t=r(e);return n.get(t).then(e=>{if(!dc(e))throw new lc("Invalid record scheme.");return e})},put(e,t){const s=r(e);return n.put(s,t)},remove(e){const t=r(e);return n.remove(t)},keys:()=>n.keys(),isEnabled:()=>n.isEnabled()}},dc=e=>e&&e.type&&e.apiResponse&&e.params,pc=e=>{if(e===Fs.MultiSessionCache&&ac.isEnabled())return ac;if(cc.isEnabled())return cc;throw new lc("Failed to get storage provider")},hc=e=>e.keys().then(t=>t.length<25?[]:fc(e,t)).then(t=>{const n=t.sort(({record:e},{record:t})=>t.apiResponse.received_at-e.apiResponse.received_at).splice(11).map(({key:t})=>e.remove(t));return Promise.all(n)}),fc=(e,t)=>Promise.all(t.map(t=>e.get(t).then(e=>({record:e,key:t})))),mc=/[?&]([^&#]*)/,gc=e=>{const t={},n=e.indexOf("?");if(-1===n)return t;let r=n;for(;;){const n=e.slice(r).match(mc);if(!n)break;r+=n[0].length;const[s,o=""]=n[1].split("=");s&&(t[decodeURIComponent(s)]=decodeURIComponent(o))}return t},bc=e=>{const t=ba(e);return 0===t.length?"":t.reduce((t,n)=>{const r=e[n];return n&&void 0!==r?`${t}${0===t.length?"?":"&"}${encodeURIComponent(n)}=${encodeURIComponent(r)}`:t},"")},yc=(e,t)=>{const n=Object.assign({},gc(e),t),r=e.indexOf("?"),s=e.indexOf("#"),o=-1!==s?s:e.length,a=-1!==r?r:o;return e.slice(0,a)+bc(n)+e.slice(o)},vc=e=>{const{ok:t,url:n,status:r,statusText:s}=e;if(!t)throw new Error(`${n} ${r} (${s})`);return(e=>{const t=e.headers.get("Content-Type");return t&&-1!==t.indexOf("application/json;")?e.json():e.text()})(e)},Ec=(e,t={})=>{const{params:n,timeout:r=6e4,credentials:s="include"}=t,o=ne(t,["params","timeout","credentials"]),a=n?yc(e,n):e;return new Promise((e,t)=>{fetch(a,Object.assign({credentials:s},o)).then(vc).then(e,t),nt(r).then(()=>{t(new Error("Request timeout."))})})},_c=(e,t={})=>Ec(e,Object.assign({},t,{method:"GET",params:Object.assign({},t.params||{},{rnd:String(Date.now())})})),Sc=(e={})=>{const t=Object.assign({Accept:"application/json;"},e.headers),{method:n="POST"}=e;let{body:r}=e;return t["Content-Type"]||(t["Content-Type"]="application/json;",r&&"string"!=typeof r&&(r=JSON.stringify(r))),Object.assign({},e,{method:n,headers:t,body:r})},wc=(e,t={})=>Ec(e,Sc(t)),kc=(e,t={})=>Ec(e,Sc(t)),Cc=({userInfo:e,zenFeatures:t,clientExperiments:n})=>{const r={};return e&&e.oauthToken&&(r.Authorization=`OAuth ${e.oauthToken}`),Object.keys(t||{}).length>0&&(r["Zen-Features"]=JSON.stringify(t)),r["Zen-Client-Experiments"]=["zen-version:2.249.0",...Array.isArray(n)&&n.length>0?n:[]].join(", "),r},Oc=({clid:e,referrerClid:t,referrerPlace:n,countryCode:r})=>{const s={};return Object.assign({},s,{clid:e,country_code:r,referrer_clid:t,referrer_place:n})},Rc=e=>{const t={};return e.partnerId&&(t.partner_user_id=String(e.partnerId)),e.adId&&(t.user_ad_id=String(e.adId)),t},Tc=e=>{const t={};return e&&e.length&&(t.content_langs=e.join(",")),t},Ac={[Us.Export]:"export",[Us.Teasers]:"teasers",[Us.PublisherConfig]:"publisher-config",[Us.CurrentUserSubscriptions]:"current-user-subscriptions"},Pc={[Us.CurrentUserInterests]:"api/social/current-user-interests"};class Nc extends Error{}const Ic=(e,t,n)=>{const r=Ac[e];if(r){const e=jc(t),n=(({clid:e,referrerClid:t,referrerPlace:n,countryCode:r,contentLangs:s=[],channelName:o,channelId:a,interestName:i,feedFilterType:c,userInfo:l={}})=>Object.assign({},Oc({clid:e,referrerClid:t,referrerPlace:n,countryCode:r}),Rc(l),Tc(s),{channel_name:o,channel_id:a,interest_name:i,feed_filter_type:c}))(e);return xc(e.host,r,n)}const s=Pc[e];if(s){const e=jc(t),n=Oc(e);return Lc(e.host,s,n)}const o=n&&n[e];if(!o)throw new Nc(`ZenApi ${e} url is not configured.`);return o},xc=(e,t,n)=>yc(`${e}api/v3/launcher/${t}`,n),Lc=(e,t,n)=>yc(`${e}${t}`,n),jc=e=>{if(!e.clid)throw new Nc("ZenApi clid is not configured.");if(!e.host)throw new Nc("ZenApi host is not configured.");return{host:e.host,clid:e.clid,countryCode:e.countryCode,contentLangs:e.contentLangs,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,userInfo:e.userInfo,channelName:e.channelName,interestName:e.interestName,channelId:e.channelId,feedFilterType:e.feedFilterType}},Dc=(e,t,n)=>{const r=((e,t)=>{const{method:n,params:r,mode:s,headers:o}=e,a={params:r,headers:Object.assign({},t?Cc(t):{},o),mode:s,method:n};return e.body?Object.assign({},a,{body:e.body}):a})(t,n);return Mc(e,r)},Mc=(e,t)=>{const{method:n,body:r}=t,s=Uc(n,r);return Fc(s)(e,t)},Uc=(e,t)=>e?t&&"GET"===e?"POST":e:t?"POST":"GET",Fc=e=>"PUT"===e?kc:"POST"===e?wc:_c;const Bc=e=>Object.entries(e),zc=e=>{if(!e.clid)throw new Error("ZenApi clid is not configured.");const{clid:t,referrerClid:n,referrerPlace:r,countryCode:s,contentLangs:o,clientExperiments:a,zenFeatures:i,userInfo:c,feedFilter:l,isAdblockEnabled:u}=e;return{clid:t,referrerClid:n,referrerPlace:r,countryCode:s,contentLangs:o,clientExperiments:a,zenFeatures:i,feedFilter:l,isAdblockEnabled:u,userId:Hc(c)}},Hc=e=>{const{oauthToken:t,login:n,deviceId:r,profileId:s,yandexuid:o}=e;return t||n||(()=>{const e=`; ${document.cookie}`.match(/; yandex_login=([^;]*)/);return e&&e[1]})()||r||s||o||(()=>{const e=`; ${document.cookie}`.match(/; yandexuid=([^;]*)/);return e&&e[1]})()},Wc=["zenFeatures","clientExperiments","contentLangs"],$c=e=>{return function(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}(Bc(e).filter(([e])=>!Wc.includes(e)).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>`${e}=${t}`).join("")).toString()};var qc=n(35),Gc=n.n(qc);const Vc=(e,t)=>{const n=Object.keys(e),r={};for(let s=0;s<n.length;s++){const o=n[s];t.includes(o)||(r[o]=e[o])}return r},Kc=e=>{if(!e||!e.items)throw new lc("Invalid api response to put in cache.")},Zc=e=>Za(e)||Ya(e),Yc=(e,t)=>{const n=Boolean(e.isAdblockEnabled)===Boolean(t.isAdblockEnabled),r=!Zc(e.clid)||e.clid===t.clid,s=!Zc(e.referrerClid)||e.referrerClid===t.referrerClid,o=!Ya(e.referrerPlace)||e.referrerPlace===t.referrerPlace,a=!Ya(e.countryCode)||e.countryCode===t.countryCode;return n&&r&&s&&o&&a&&Gc()(e.feedFilter,t.feedFilter)},Qc=(e,t)=>e.userId&&t.userId&&e.userId===t.userId,Jc=(e,t,n)=>Gc()(e.zenFeatures&&Vc(e.zenFeatures,n),t.zenFeatures&&Vc(t.zenFeatures,n)),Xc=(e,t,n)=>{if(!Array.isArray(e.clientExperiments))return!0;const r=((e,t)=>{const n=[];e&&Array.isArray(e.clientExperiments)&&n.push(...e.clientExperiments);const r=t.experimentsData;return r&&Object.keys(r).forEach(e=>{const t=r[e];Qa(t)&&t.exp&&n.push(e)}),n})(t,n);return e.clientExperiments.every(e=>r.includes(e))},el=(e,t)=>Array.isArray(e.contentLangs)===Array.isArray(t.contentLangs)&&(!Array.isArray(e.contentLangs)||e.contentLangs.every(e=>t.contentLangs&&t.contentLangs.includes(e))),tl=()=>({getNotShownPack(){throw new lc("Unable to get not shown pack")},getLastShownPack(){throw new lc("Unable to get not shown pack")},getNotShownOrLastShownPack(){throw new lc("Unable to get pack")},putNotShownPack:()=>Promise.resolve(),putLastShownPack:()=>Promise.resolve(),removeNotShownPack:()=>Promise.resolve(),removeLastShownPack:()=>Promise.resolve()}),nl=({storage:e,cacheId:t,apiResponseValidator:n,validationParams:r})=>{const s=`not-shown-pack${t}`,o=`last-shown-pack${t}`,a=(e,{byStoreTtl:t,ignoredZenFeatures:s})=>{(e=>{if(!(e&&e.type&&e.apiResponse&&e.params))throw new lc("Invalid cache record scheme.")})(e);const o=Di(e.apiResponse);return((e,t)=>{const{receivedAt:n,ttl:r,storeTtl:s}=e,o=t?s:r;if(!(Za(n)&&Za(o)&&n+o>Date.now()))throw new lc(`Invalid cache ${t?"store-ttl":"ttl"}.`)})(o,t),((e,t,n,r)=>{if(!e)throw new lc("RequestCacheParams undefined");if(!t)throw new lc("Cache params undefined");if(!Qc(e,t))throw new lc("Invalid UserId");if(!Yc(e,t))throw new lc("Invalid AppParams");if(!Jc(e,t,r))throw new lc("Invalid ZenFeatures");if(!Xc(e,t,n))throw new lc("Invalid ClientExperiments");if(!el(e,t))throw new lc("Invalid ContentLangs")})(r,e.params,o,s),Kc(o),n(o),o},i=(e,t,s)=>(Kc(s),n(s),{type:e,apiResponse:t,params:r});return{getNotShownPack:({byStoreTtl:t=!1,ignoredZenFeatures:n=[]}={})=>e.get(s).then(e=>{const r=a(e,{byStoreTtl:t,ignoredZenFeatures:n});return Object.assign({},e,{parsedApiResponse:r})}),getLastShownPack:({byStoreTtl:t=!1,ignoredZenFeatures:n=[]}={})=>e.get(o).then(e=>{const r=a(e,{byStoreTtl:t,ignoredZenFeatures:n});return Object.assign({},e,{parsedApiResponse:r})}),getNotShownOrLastShownPack(e=!0){return this.getNotShownPack({byStoreTtl:e}).catch(()=>this.getLastShownPack({byStoreTtl:e}))},putNotShownPack(t,n,r){const o=i(t,n,r);return e.put(s,o)},putLastShownPack(t,n,r){const s=i(t,n,r);return e.put(o,s)},removeNotShownPack:()=>e.remove(s),removeLastShownPack:()=>e.remove(o)}};var rl=class{constructor(e){this.config=Hs,this.queue=Promise.resolve(),this.network=Dc,this.cache=tl(),this.eventEmitter=new Va,this.lastUsedPackId=null,this.lastUsedPackShown=!1,this.debouncedUpdateNotShownPack=ao(e=>this.updateNotShownPack(e),zs),this.on=this.eventEmitter.on.bind(this.eventEmitter),this.off=this.eventEmitter.off.bind(this.eventEmitter),this.addListener=this.eventEmitter.on.bind(this.eventEmitter),this.removeListener=this.eventEmitter.off.bind(this.eventEmitter),this.configure(e)}configure(e){const t=Ja(e)?e(this.config):e;this.config=t,this.config.clid&&this.config.cache?this.cache=this.getCacheApi():this.cache=tl()}getCacheId(){if(!this.config.cache||!this.config.cache.useLocalNamespaces)return"";const e=zc(this.config);return`(${$c(e)})`}getCacheStorage(){if(!this.config.cache)throw new lc("Cache options is not defined");return uc(this.config.cache)}getCacheApi(){const e=this.getCacheStorage(),t=this.getCacheId(),n=zc(this.config);return nl({storage:e,cacheId:t,validationParams:n,apiResponseValidator:this.config.apiResponseValidator})}getApiRequestUrl(e){return Ic(e,this.config,this.config.links)}getApiRequestUrlWithUid(e,t){return this.getApiRequestUrl(e).replace("__uid__",t)}async getApiResponseFromNetworkAndMaybePutItToCache(e,{cacheMode:t=Ji.Default,body:n,headers:r,method:s,mode:o,params:a}={}){const i=this.getApiRequestUrl(e),c=tc(t),l=await this.makeApiRequestWithExtraHeaders(i,{body:n,headers:r,method:s,mode:o,params:a}),u=Object.assign({},l,{received_at:Date.now()}),d=Di(u,this.getCacheId());return this.config.apiResponseValidator(d),c(Xi.PutAfterNetwork)&&(this.cache.putNotShownPack(e,u,d).then(()=>{this.eventEmitter.emit(Ms.NotShownPackUpdated,e,u)}).catch(()=>{}),this.eventEmitter.emit(Ms.UpdatePreload,Ka(d))),{apiResponse:d,source:Bs.Network}}async makeApiRequestWithExtraHeaders(e,t={}){return this.network(e,t,this.config)}async getExportApiResponse(e={}){const t=async()=>{if(tc(e.cacheMode||Ji.Default)(Xi.GetAfterNetwork))try{return{apiResponse:(await this.cache.getNotShownOrLastShownPack()).parsedApiResponse,source:Bs.CacheAfterNetwork}}catch(e){e instanceof lc||console.warn(`Failed to get cached pack after bad network request: '${e.message}'.`)}};try{return await this.getMoreApiResponse(Us.Export,e)}catch(e){const n=await t();if(!n)throw e;return n}}async getMoreApiResponse(e,t={}){const n=tc(t.cacheMode||Ji.Default);return await this.tryGetApiResponseBeforeNetwork(e,n)||await this.getApiResponseFromNetworkAndMaybePutItToCache(e,t)}async tryGetApiResponseBeforeNetwork(e,t){if(t(Xi.GetBeforeNetwork))try{return await this.getApiResponseFromCacheBeforeNetwork(e)}catch(e){e instanceof lc||console.warn(`Failed to get cached pack before network request: '${e.message}'.`)}}async getApiResponseFromCacheBeforeNetwork(e){const{parsedApiResponse:t,type:n}=await this.cache.getNotShownPack();if(e===Us.More&&n===Us.Export)throw new lc("Can not apply cache from export to more request.");if(this.lastUsedPackId===t.id)throw new lc(`Pack '${t.id}' has already been used.`);return{apiResponse:t,source:Bs.CacheBeforeNetwork}}async hasValidNotShownPackInCache(e){try{return await this.getApiResponseFromCacheBeforeNetwork(e),!0}catch(e){return!1}}updateNotShownPack({invalidate:e=!1,requestType:t=Us.More}={}){this.config.cache&&this.config.cache.isPrefetchEnabled&&this.addToQueue(async()=>{if(e||!await this.hasValidNotShownPackInCache(t))try{await this.getApiResponseFromNetworkAndMaybePutItToCache(t)}catch(e){}})}addToQueue(e){const t=this.queue=this.queue.then(()=>e(),()=>e());return t.catch(()=>{}),t}getConfig(){return this.config}getExport(e){return this.addToQueue(async()=>{const t=await this.getExportApiResponse(e);return this.updateNotShownPack(),t})}getMore(){return this.addToQueue(async()=>{const e=await this.getMoreApiResponse(Us.More);return this.updateNotShownPack(),e})}getSimilar(e){return this.makeApiRequestWithExtraHeaders(e).then(ci)}sendBannerStats(e){return this.makeApiRequestWithExtraHeaders(e)}sendAppLinkSms(e){const t=this.getApiRequestUrl(Us.SendAppLinkSms);return this.makeApiRequestWithExtraHeaders(t,{params:{phone:e}})}async getPublisherConfig(){const e=this.getApiRequestUrl(Us.PublisherConfig),t=await this.makeApiRequestWithExtraHeaders(e);return Di(t)}async getProfile(){const e=this.getApiRequestUrl(Us.Profile),t=await this.makeApiRequestWithExtraHeaders(e);return Wi(t)}async getSuggest(e){const t=this.getApiRequestUrl(Us.Suggest),n=await this.makeApiRequestWithExtraHeaders(t,{params:{search_text:e}});return ni(n)}async getBlockedSuggest(e){const t=this.getApiRequestUrl(Us.BlockedSuggest),n=await this.makeApiRequestWithExtraHeaders(t,{params:{search_text:e}});return ni(n)}async getCategories(){const e=this.getApiRequestUrl(Us.Categories),t=await this.makeApiRequestWithExtraHeaders(e);return Gi(t)}async getCategory(e){const t=this.getApiRequestUrl(Us.Category).replace("__name__",e),n=await this.makeApiRequestWithExtraHeaders(t);return qi(n)}async getPreferences(e,t){const n=this.getApiRequestUrlWithUid(Us.Preferences,e),r=await this.makeApiRequestWithExtraHeaders(n,t);return ni(r)}async getVideoRecommend(){const e=this.getApiRequestUrl(Us.VideoRecommend),t=await this.makeApiRequestWithExtraHeaders(e);return Ki(t)}async getCountryLang(){const e=this.getApiRequestUrl(Us.CountryLang),t=await this.makeApiRequestWithExtraHeaders(e);return Vi(t)}async getCommentsCounters(e){const t=this.getApiRequestUrl(Us.CommentsCounter),n=await this.network(t,{body:{documentIds:e},mode:"cors",method:"POST"});return Zi(n.counts)}async getCommentsInfos(e){const t=this.getApiRequestUrl(Us.CommentsInfos),n=await this.network(t,{body:{documentIds:e},mode:"cors",method:"POST"});return Yi(n.infos)}async setCountryLang(e,t){const n=this.getApiRequestUrl(Us.CountryLang);await this.makeApiRequestWithExtraHeaders(n,{body:{country_id:e,language_ids:t}}),this.invalidateCache()}async getSocialProfile(e){const t=this.getApiRequestUrlWithUid(Us.SocialProfile,e),n=await this.makeApiRequestWithExtraHeaders(t);return Qi(n)}async getUserSubscribers(e){const t=this.getApiRequestUrlWithUid(Us.Subscribers,e),n=await this.makeApiRequestWithExtraHeaders(t);return ni(n)}async updateSocialProfile(e){const t=this.getApiRequestUrl(Us.SocialProfileEdit);await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":e.token},method:"PUT",body:e})}prefetch(){this.updateNotShownPack()}async invalidateCache(){this.config.cache&&(await this.cache.removeNotShownPack(),this.debouncedUpdateNotShownPack())}async clearCache(){this.config.cache&&(await this.cache.removeNotShownPack(),await this.cache.removeLastShownPack())}packUsed(e){this.lastUsedPackId=e,this.lastUsedPackShown=!1}packShown(e,t){const n=this.lastShownPackId===e&&this.lastShownCacheId===t;if(!this.config.cache||n)return;this.setLastShownPack(e,t);const r=async e=>{try{await Promise.all([this.cache.removeNotShownPack(),this.cache.putLastShownPack(e.type,e.apiResponse,e.parsedApiResponse)]),this.eventEmitter.emit(Ms.LastShownPackUpdated,e.type,e.apiResponse)}catch(e){}};this.addToQueue(async()=>{try{const t=await this.cache.getNotShownPack();t.apiResponse.rid===e&&await r(t)}catch(e){}finally{e===this.lastUsedPackId&&!this.lastUsedPackShown&&(this.lastUsedPackShown=!0,this.updateNotShownPack()),this.eventEmitter.emit(Ms.PackShown,e)}})}setLastShownPack(e,t){this.lastShownPackId=e,this.lastShownCacheId=t}async getNotShownPackFromCache(e){return(await this.cache.getNotShownPack(e)).parsedApiResponse}async getLastShownPackFromCache(e){return(await this.cache.getLastShownPack(e)).parsedApiResponse}setIntervalPackUpdater(e){setInterval(async()=>{this.updateNotShownPack({requestType:Us.Export})},e),this.updateNotShownPack({requestType:Us.Export})}getNetwork(){return this.network}getCache(){return this.cache}getActivityFeed(e){return this.addToQueue(async()=>{const t=await this.getMoreApiResponse(Us.SocialActivityFeed,e);return this.updateNotShownPack(),t})}async sendInterestsFeedback(e){const t=this.getApiRequestUrl(Us.SocialInterestsFeedback);return await this.makeApiRequestWithExtraHeaders(t,{method:"PUT",body:e})}async profileOnboardingShown(e){const t=this.getApiRequestUrl(Us.ProfileOnboardingShown),n=await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":e.token},body:{context:e.context},method:"POST"});if(!n||"ok"!==n.status)throw new Error("onboarding shown failed");return n}async completeProfileOnboarding(e){const t=this.getApiRequestUrl(Us.ProfileCompleteOnboarding),n=await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":e.token},body:{context:e.context,onboardingDocumentId:e.documentId},method:"PUT"});if(!n||"ok"!==n.status)throw new Error("complete onboarding failed");return n}async deactivateProfile(e,t){const n=this.getApiRequestUrl(Us.ProfileDeactivate),{userInfo:r}=this.config,{deviceId:s}=r,{token:o}=t,a=await this.makeApiRequestWithExtraHeaders(n,{headers:{"x-csrf-token":o},body:{reason:e,deviceId:s,clientTs:Date.now()},method:"PUT"});if(!a||"ok"!==a.status)throw new Error("profile deactivate failed");return a}async cancelDeactivateProfile(e){const t=this.getApiRequestUrl(Us.ProfileCancelDeactivate),{userInfo:n}=this.config,{deviceId:r}=n,{token:s}=e,o=await this.makeApiRequestWithExtraHeaders(t,{headers:{"x-csrf-token":s},body:{deviceId:r,clientTs:Date.now()},method:"PUT"});if(!o||"ok"!==o.status)throw new Error("cancel profile deactivate failed");return o}async clearCacheOverflow(){this.config.cache&&this.config.cache.namespace&&this.config.cache.useLocalNamespaces&&await hc(this.getCacheStorage())}getCurrentUserInterests(){return this.makeApiRequestWithExtraHeaders(this.getApiRequestUrl(Us.CurrentUserInterests))}getCurrentUserSubscriptions(){return this.makeApiRequestWithExtraHeaders(this.getApiRequestUrl(Us.CurrentUserSubscriptions))}};const sl=1e3,ol=e=>`${e}_${Date.now()}`,al=e=>({stats:e.map(({event:e,params:t,ts:n,info:r})=>Object.assign({event:e,data:t,ts:n},r?{info:r}:{})),bulk_ts:Date.now()}),il=()=>{let e,t,n=0,r=0,s=!1;const o=new Promise(t=>{e=t}),a=new Promise(e=>{t=e}),i=()=>{s=!0,t()},c=()=>{++r===n&&i()};return{trigger:()=>(e(),r===n&&i(),a),extend:e=>{s||(n++,o.then(e).then(c,c))}}},cl=(e=>{if("undefined"!=typeof document){const t=e?`${e}=1`:atob("Ymx0c3I9MQ==");return Boolean(document.cookie.match(new RegExp(t)))}})();class ll extends rl{constructor(...e){var t;return t=super(...e),this.bulkEvents=[],this.sendingTimeoutId=null,this.bulkEventBatch=null,t}async getApiResponseFromNetworkAndMaybePutItToCache(e,t={}){if(cl&&this.sendBulkEventsWithinQueue(),cl||0===this.bulkEvents.length||t.body)return rl.prototype.getApiResponseFromNetworkAndMaybePutItToCache.call(this,e,t);const{bulkEvents:n}=this,r=al(n),s=Object.assign({},t,{body:r});this.bulkEvents=[];try{return rl.prototype.getApiResponseFromNetworkAndMaybePutItToCache.call(this,e,s)}catch(e){throw this.bulkEvents=this.bulkEvents.concat(n),e}}addToQueue(e,t=!0){return t&&(this.bulkEventBatch=null),super.addToQueue(e)}forceSendBulkEvents(){return this.bulkEventBatch=null,null!==this.sendingTimeoutId&&clearTimeout(this.sendingTimeoutId),this.sendBulkEvents()}async sendBulkEvents(){if(0===this.bulkEvents.length)return;const e=this.getApiRequestUrl(Us.Bulk),{bulkEvents:t}=this,n=al(t);this.bulkEvents=[];try{await this.makeApiRequestWithExtraHeaders(e,{body:n})}catch(e){throw this.bulkEvents=this.bulkEvents.concat(t),e}}planBulkEventsSending(){null===this.sendingTimeoutId&&(this.sendingTimeoutId=setTimeout(()=>{this.sendingTimeoutId=null,this.sendBulkEventsWithinQueue()},sl))}sendBulkEventsWithinQueue(){if(!this.bulkEventBatch){const e=this.bulkEventBatch=il();this.addToQueue(()=>e.trigger().then(()=>{this.bulkEventBatch===e&&(this.bulkEventBatch=null)}),!1)}this.bulkEventBatch&&this.bulkEventBatch.extend(()=>this.sendBulkEvents().catch(e=>{console.warn("Error while sending bulk events",e)}))}oldLogBulkEvent(e){const{event:t,bulkParams:n,statMeta:r,info:s}=e,o={id:ol(t),event:t,params:n,ts:Date.now(),info:s};this.bulkEvents.push(o),this.planBulkEventsSending(),this.eventEmitter.emit(Ms.BulkEventLogged,Object.assign({},o,{statMeta:r}))}logBulkEvents(e,{statEvents:t,bulkParams:n,bulkReplaceMap:r,eventReplaceMap:s,statMeta:o={},info:a}){const i=t[e];if(!i)return void console.warn(`Event '${e}' not found in statEvents object. Request not sent.`);const c={id:ol(i),event:s?xn(i,s):i,params:r?xn(n,r):n,ts:Date.now(),info:a};this.bulkEvents.push(c),this.planBulkEventsSending(),this.eventEmitter.emit(Ms.BulkEventLogged,{event:i,statMeta:o})}async getPreferences(e){if(cl&&this.sendBulkEventsWithinQueue(),cl||0===this.bulkEvents.length)return rl.prototype.getPreferences.call(this,e);const{bulkEvents:t}=this,n={body:al(t)};this.bulkEvents=[];try{return rl.prototype.getPreferences.call(this,e,n)}catch(e){throw this.bulkEvents=this.bulkEvents.concat(t),e}}}var ul=n(36);const dl=()=>window[ul.NAMESPACE]=window[ul.NAMESPACE]||{},pl={SUBS:lt,CHANNELS:ut,BLOCKED:"/profile/blocked",SEARCH:"/search",ABOUT:"/profile"};const hl=()=>new Va,fl=Object(Z.createSelector)(e=>e.params.host,e=>e.params.clid,e=>e.params.countryCode,e=>e.params.contentLangs,e=>e.params.zenFeatures,e=>e.params.clientExperiments,e=>e.links,e=>e.user,e=>e.params.referrerClid,e=>e.params.referrerPlace,(e,t,n,r,s,o,a,i,c,l)=>({host:e,clid:t,countryCode:n,contentLangs:r,zenFeatures:s,clientExperiments:o,links:a,userInfo:i,referrerClid:c,referrerPlace:l})),ml={customUserFeedbackData:void 0,feedback:null,complaints:null,complaintsSendedAt:null,mittensJumpAnimationKey:0};var gl=(e=ml,t)=>{switch(t.type){case"SET_CARD_FEEDBACK":{const{feedback:n}=t.payload;return Object.assign({},e,{feedback:n})}case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{feedback:"liked"});case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{feedback:"disliked"});case"ITEM_FEEDBACK_BLOCK":return Object.assign({},e,{feedback:"blocked"});case"ITEM_FEEDBACK_CANCEL":return Object.assign({},e,{feedback:null,complaints:null});case"ITEM_COMPLAINTS_OPEN":return Object.assign({},e,{complaints:"opened"});case"ITEM_COMPLAINTS_SEND":return Object.assign({},e,{complaints:"sended",complaintsSendedAt:e.feedback});case"ITEM_COMPLAINTS_CANCEL":return Object.assign({},e,{complaints:null,complaintsSendedAt:null});case"ITEM_MITTENS_JUMP":{const t=Number(e.mittensJumpAnimationKey)+1;return Object.assign({},e,{mittensJumpAnimationKey:t})}case"ITEM_FEEDBACK_ANSWER_TOGGLE":{const{targetKey:n,questionType:r}=t.payload;if(!e.customUserFeedbackData)return e;const{questions:s=[]}=e.customUserFeedbackData,o=s.findIndex(({type:e})=>e===r);if(o<0)return e;const a=["customUserFeedbackData","questions",o,"answers",n,"isChecked"],i=K.get(e,a);return K.set(e,a,!i)}case"ITEM_FEEDBACK_ANSWERS_UNCHECK":{if(!e.customUserFeedbackData)return e;const{questions:t=[]}=e.customUserFeedbackData,n=t.findIndex(({type:e})=>"extended_dislike_feedback"===e);if(n<0)return e;const r=["customUserFeedbackData","questions",n,"answers"],s=(K.get(e,r)||[]).map(e=>Object.assign({},e,{isChecked:!1}));return K.set(e,r,s)}default:return e}};const bl={};var yl=Xn(gl,(e=bl,t)=>{switch(t.type){case"DOC_READ":return Object.assign({},e,{read:!0});case"DOC_CLICK":return Object.assign({},e,{subscribeTriggerEvent:"click"});case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{subscribeTriggerEvent:"feedback_more"});case"SET_CARD_FEEDBACK":{const{feedback:n}=t.payload;return"liked"===n?Object.assign({},e,{subscribeTriggerEvent:"feedback_more"}):e}default:return e}});var vl=Xn(gl,(e={},t)=>{switch(t.type){case"VIDEO_READ":return Object.assign({},e,{read:!0,currentTime:t.payload.currentTime});case"VIDEO_START":return Object.assign({},e,{started:!0,paused:!1});case"VIDEO_RESET":case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{started:!1,paused:!0});case"VIDEO_TOGGLE_MODAL":{const{paused:n,isFullScreen:r}=t.payload;return Object.assign({},e,{started:!0,paused:n,isFullScreen:r})}default:return e}});var El=Xn(gl,(e,t)=>{switch(t.type){case"CLOSE_CAROUSEL_ITEM":{const{items:n,hidden:r}=e,{itemId:s}=t.payload,o=n.map(e=>e.id===s?Object.assign({},e,{hidden:!0}):e);return Object.assign({},e,{hidden:r||o.every(e=>e.hidden),items:o})}case"CLOSE_CAROUSEL":return Object.assign({},e,{hidden:!0});default:return e}});var _l=(e,t)=>{switch(e.type){case fn.NARRATIVE:case fn.DOC:case fn.POST:case fn.FEATURING_PROMO:return yl(e,t);case fn.GIF:return vl(e,t);case fn.FEATURING_CAROUSEL:case fn.PERSONAL_CAROUSEL:case fn.CONTENT_CAROUSEL:return El(e,t);default:return e}};var Sl=(e,t)=>t.reduce((e,[t,...n])=>K[t](e,...n),e);const wl={gridType:hn.TWO_COLUMNS,items:{},itemsOrder:[],displayedRowsNumber:0,countRowsBeforeBlock:-1,isChildWindow:!1,isBlocked:!1},kl=(e=wl,t)=>{switch(t.type){case"INSERT_ITEM_AFTER":{const{item:n,afterId:r}=t.payload;return Sl(e,[["set",["items",n.id],n],["set","itemsOrder",e=>Cl(e,n.id,r)]])}case"REMOVE_ITEM":{const{itemId:n}=t.payload,r=e.itemsOrder.indexOf(n);return Sl(e,[["del",["items",n]],["del",["itemsOrder",r]]])}case"RECEIVE_ITEMS":{const{items:n,insertOnTop:r,shouldRefreshFeed:s}=t.payload,o=Object.keys(e.items),a={},i=[];if(n.forEach(e=>{let t;!o.includes(e.id)&&!i.includes(e.id)?t=e.id:(console.warn(`Non unique item: ${e.id}, ${"title"in e?e.title:"no title"}`),t=`${e.id}_${Date.now()}`),a[t]=Object.assign({},e,{id:t}),i.push(t)}),s)return Object.assign({},e,{items:a,itemsOrder:i});const c=Object.assign({},e.items,a),l=r?i.concat(e.itemsOrder):e.itemsOrder.concat(i);return Object.assign({},e,{items:c,itemsOrder:l})}case"REQUEST_SIMILAR":case"RECEIVE_SIMILAR":{const{itemId:n}=t.payload,r=["items",n,"isSimilarRequested"],s="REQUEST_SIMILAR"===t.type;return K.set(e,r,s)}case"LINK_CHILD_ITEM":{const{itemId:n,childItemId:r}=t.payload;return Sl(e,[["set",["items",n,"childItemId"],r],["set",["items",r,"parentId"],n]])}case"UNLINK_CHILD_ITEM":{const{itemId:n}=t.payload,{childItemId:r}=e.items[n];return Sl(e,[["del",["items",n,"childItemId"]],["del",["items",r,"parentId"]]])}case"REPORT_AD_DIDNT_LOAD":{const{itemId:n}=t.payload;return Sl(e,[["set",["items",n,"adDidntLoad"],!0]])}case"ANSWER_USER_QUESTION":{const{id:n,parentId:r}=t.payload;return Sl(e,[["set",["items",n,"isAnswered"],!0],["set",["items",r,"isUserQuestionAnswered"],!0]])}case"SET_GRID_TYPE":{const{gridType:n}=t.payload;return Object.assign({},e,{gridType:n})}case"SET_DISPLAYED_ROWS_NUMBER":{const{displayedRowsNumber:n}=t.payload;return Object.assign({},e,{displayedRowsNumber:n})}case"CLEAR_FEED":return wl;case"SET_COUNT_ROWS_BEFORE_BLOCK":{const{countRowsBeforeBlock:n}=t.payload;return Object.assign({},e,{countRowsBeforeBlock:n})}default:{if(!("payload"in t&&t.payload&&"object"==typeof t.payload))return e;const n="id"in t.payload&&t.payload.id,r="ids"in t.payload&&t.payload.ids;if("string"==typeof n){const r=e.items[n];if(!r)return e;const s=_l(r,t);return r!==s?K.set(e,["items",n],s):e}if(Array.isArray(r)){const n=e.items,s={};let o=!1;for(let e=0;e<r.length;e++){const a=r[e];if("string"!=typeof a)continue;const i=n[a];i&&(i!==(s[a]=_l(i,t))&&(o=!0))}return o?Object.assign({},e,{items:Object.assign({},n,s)}):e}return e}}},Cl=(e,t,n)=>((e,t,n,r=!0)=>{const s=e.indexOf(n),o=Number(r);if(-1===s)throw new Error("Array not contains item.");return e.slice(0,s+o).concat(t,e.slice(s+o))})(e,t,n,!0),Ol=e=>e,Rl=(e,t,n)=>{let r=void 0;const s=`${e=e.toUpperCase()}_REQUEST`,o=`${e}_SUCCEED`,a=`${e}_FAILURE`,i={status:Ee.Pending,data:void 0};return{action:(...e)=>(n,i,c)=>{n({type:s,meta:e});const l=r=t(c,...e).then(t=>{l===r&&n({type:o,payload:t,meta:e})},()=>{l===r&&n({type:a,meta:e})})},reducer:(e=i,t)=>{switch(t.type){case s:return Object.assign({},e,{status:Ee.Pending});case o:{const r=t.payload;return Object.assign({},e,{status:Ee.Success,data:n(r)})}case a:return Object.assign({},e,{status:Ee.Error});default:return e}},request:s,succeed:o,failure:a}},Tl=(e,t=1e3)=>{const n=((e,t)=>{let n=null,r=null,s=null;return(...o)=>(s=o,Promise.resolve(n).then(()=>(s&&(n=nt(t),r=e(...s),s=null),r)))})((t,...n)=>t(e(...n)),t);return(...e)=>t=>n(t,...e)},Al=(e,t,n,r=Ol,s=1e3)=>{const o=Rl(e,t,r),{action:a}=o,i=ne(o,["action"]),c=Tl(a,s),l=((e,t)=>(...n)=>(r,s)=>{const{status:o,data:a}=t(s(),...n);return o!==Ee.Success?r(e(...n)):Promise.resolve(a)})(c,n);return Object.assign({action:l,forceAction:c},i)},Pl=e=>(t,n)=>{const r=Object.keys(e).reduce((t,r)=>(t[r]=((t={})=>e[r](Object.assign({},n,t))),t),{});return Object(Xr.a)(r,t)},Nl=(e,t)=>new Promise((n,r)=>{e.then(n,r),setTimeout(()=>{r(new Error("Request timeout."))},t)}),Il=e=>({type:"suggest-set-filter",payload:e}),xl=((e,t,n=Ol,r=1e3)=>{const s=Rl(e,t,n),{action:o}=s,a=ne(s,["action"]);return Object.assign({action:Tl(o,r)},a)})("suggest",async({zenApi:e},t,n)=>{if(""!==t)return Nl(n?e.getBlockedSuggest(t):e.getSuggest(t),1e4)},e=>e,500),Ll=Object.assign({},xl,{action:(e,t=!1)=>n=>{n(Il(e)),n(xl.action(e,t))},retryAction:e=>(t,n)=>{const r=n(),{filter:s}=r.search;t(xl.action(s,e))}});let jl;const Dl=Tl((e,t=!1)=>async(n,r,{zenApi:s})=>{if(""===e)return void n({type:Ll.succeed,payload:void 0});const o=jl=Nl(t?s.getBlockedSuggest(e):s.getSuggest(e),1e4),a=await o;o===jl&&n({type:Ll.succeed,payload:a})},500),Ml=(e,t=!1)=>n=>(n(Il(e)),n(Dl(e,t))),Ul=Ia({filter:(e="",t)=>{switch(t.type){case"suggest-set-filter":return t.payload;default:return e}},search:Ll.reducer}),Fl=Al("profile",({zenApi:e})=>e.getProfile(),e=>e.profile),Bl=Tl(()=>async(e,t,{zenApi:n})=>{const r=await n.getProfile();e({type:Fl.succeed,payload:r})}),zl=Xn(Fl.reducer,(e,t)=>{if(e.status!==Ee.Success)return e;switch(t.type){case"SOURCE_BLOCK":return K.modify(e,"data.blockedCount.count",e=>e+1);case"SOURCE_UNBLOCK":return K.modify(e,"data.blockedCount.count",e=>e-1);case"VIDEO_DISABLE":return K.set(e,"data.video.disabled",!0);case"VIDEO_ENABLE":return K.set(e,"data.video.disabled",!1);case"SET_COUNTRY":{const{name:n}=t.payload;return K.set(e,"data.language.country",n)}default:return e}}),Hl=Al("categories",({zenApi:e})=>e.getCategories(),e=>e.categories),Wl=Tl(()=>async(e,t,{zenApi:n})=>{e({type:Hl.succeed,payload:await n.getCategories()})}),$l=Al("category",({zenApi:e},t)=>e.getCategory(t),(e,t)=>e.category[t]||{status:Ee.Pending}),ql=Tl(e=>(t,n,{zenApi:r})=>r.getCategory(e).then(n=>{t({type:$l.succeed,payload:n,meta:e})})),Gl=(e,t)=>(n={},r)=>{const s=e(r);if(void 0===s)return n;const o=t(n[s],r);return n[s]!==o?Object.assign({},n,{[s]:o}):n},Vl=(e,t)=>ba(t).reduce((e,n)=>(e[n]=["id","status","subscribers","feedback","isUnsubscribedInCurrentSession","isSubscribedInCurrentSession","isUnblockedInCurrentSession","complaintReasons"].reduce((e,r)=>void 0!==t[n][r]?Object.assign({},e,{[r]:t[n][r]}):e,Object.assign({},e[n])),e),Object.assign({},e)),Kl=Xn((e={},t)=>{switch(t.type){case"SOURCE_MERGE":{const{payload:n}=t;return n.status===ze.Ok?Vl(e,{[n.source.id]:n.source}):e}case Wn:case Hn:case"USER_FOLLOWERS_REQUEST":{if(t.payload.status!==Ee.Success)return e;const n=t.payload.value,r=t.__data__&&t.__data__.selfUserId,s=!([Wn,Hn].includes(t.type)&&t.payload.id===r),o=s?e:((e,t)=>ba(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}))(e,e=>"not_subscribed"===e.status?e:Object.assign({},e,{status:"not_subscribed"}));if(n){const e=n.map(e=>{const t=s?o[e.id]?o[e.id].status:"not_subscribed":e.status;return Object.assign({},e,{status:t})}),t=Ti(e,e=>e.id);return Vl(o,t)}return o}case"USER_PROFILE_REQUEST":{if(t.payload.status!==Ee.Success)return e;const{source:n}=t.payload.value,r=e[n.id]?e[n.id].status:"not_subscribed";return Vl(e,{[n.id]:Object.assign({},n,{status:r})})}case $l.succeed:case Hl.succeed:{const{sources:n}=t.payload;if(n){const t=Ti(n,e=>e.id);return Vl(e,t)}return e}case Ll.succeed:{const n=t.payload;if(n){const t=Ti(n,e=>e.id);return Vl(e,t)}return e}case"APPLY_EXPORT_DATA":{const{exportData:n}=t.payload,{onboardingInterests:r,pinnedCarousel:s}=n,o=[...r?r.sources:[],...s?s.items.map(e=>e.source):[]],a=Ti(o,e=>e.id);return Vl(e,a)}case"VIDEO_MODAL_SET_SOURCES":{const{sources:n=[]}=t.payload;return Vl(e,n)}case"RECEIVE_ITEMS":{const{items:n=[]}=t.payload,r=n.reduce((t,n)=>(n.type!==fn.FEATURING_CAROUSEL&&n.type!==fn.PERSONAL_CAROUSEL||n.items.forEach(({source:n,bulkParams:r,statEvents:s})=>{n&&(e[n.id]?t[n.id]=Object.assign({},e[n.id],n,{statEvents:s,bulkParams:r}):t[n.id]=Object.assign({},n,{statEvents:s,bulkParams:r}))}),n.type===fn.CONTENT_CAROUSEL&&n.items.forEach(({source:n,statEvents:r,bulkParams:s})=>{n&&(e[n.id]?t[n.id]=Object.assign({},e[n.id],n,{statEvents:r,bulkParams:s}):t[n.id]=Object.assign({},n,{statEvents:r,bulkParams:s}))}),"source"in n&&n.source&&!e[n.source.id]&&!t[n.source.id]?(t[n.source.id]=Object.assign({},n.source,{statEvents:"statEvents"in n.source&&n.source.statEvents||n.statEvents,bulkParams:"bulkParams"in n.source&&n.source.bulkParams||n.bulkParams}),t):t),{});return Vl(e,r)}case"RECEIVE_SIMILAR":{const{similar:n={}}=t.payload,{items:r={}}=n,{sources:s=[]}=r,o=s.reduce((e,t)=>(e[t.id]=Object.assign({},t),e),{});return Vl(e,o)}default:return e}},Gl(e=>e.payload&&e.payload.id,(e,t)=>{switch(t.type){case"SOURCE_SUBSCRIBE":return Object.assign({},e,{status:"subscribed",subscribers:(e&&e.subscribers||0)+1,isSubscribedInCurrentSession:!0});case"SOURCE_UNSUBSCRIBE":return Object.assign({},e,{status:"not_subscribed",subscribers:(e&&e.subscribers||0)-1,isUnsubscribedInCurrentSession:!0});case"SOURCE_BLOCK":return Object.assign({},e,{status:"blocked"});case"SOURCE_UNBLOCK":return Object.assign({},e,{status:"not_subscribed",isUnblockedInCurrentSession:!0});case"SOURCE_DISLIKE":return Object.assign({},e,{feedback:"disliked"});case"SOURCE_SET_COMPLAINT_REASONS":return Object.assign({},e,{complaintReasons:t.payload.reasons});default:return e}}));const Zl=Gl(e=>e.meta,$l.reducer),Yl=Hl.reducer,Ql=({location:e,forcedModalRoute:t,modalRoutes:n})=>{if(t&&n[t]&&n[t].forced)return{routeId:t,match:null};for(const t of ba(n)){const r=n[t];if(r.path){const n=fe(e.pathname,r);if(n)return{routeId:t,match:n}}}return null},Jl={closeModalPath:null,forcedModalRoute:null,isModalFailed:!1},Xl=(e=Jl,t)=>{switch(t.type){case"@@router/LOCATION_CHANGE":{const{forcedModalRoute:n}=e,{modalRoutes:r}=t.__data__,s=t.__data__.location,o=t.payload.location,a=Ql({location:o,forcedModalRoute:n,modalRoutes:r});return!e.closeModalPath&&a?Object.assign({},e,{closeModalPath:s.pathname}):e.closeModalPath&&!a?Object.assign({},e,{closeModalPath:null}):e}case"SET_CLOSE_MODAL_PATH":{const{closeModalPath:n}=t.payload;return Object.assign({},e,{closeModalPath:n})}case"FORCE_MODAL_ROUTE":{const n=t.payload;return Object.assign({},e,{forcedModalRoute:n})}case"CLOSE_MODAL":case"ON_MODAL_OPEN":return Object.assign({},e);case"MODAL_FAILED":return Object.assign({},e,{isModalFailed:!0});default:return e}},eu=e=>t=>void 0===t?"function"==typeof e?e():e:t,tu=eu({all_channels_link:null,login_tmpl:null,logout_tmpl:null,registration_tmpl:null,[Us.Onboarding]:null,[Us.Export]:null,[Us.More]:null,[Us.Bulk]:null,[Us.Subs]:null,[Us.Profile]:null,[Us.Blocked]:null,[Us.Preferences]:null,[Us.Subscribers]:null,[Us.Categories]:null,[Us.Category]:null,[Us.Suggest]:null,[Us.BlockedSuggest]:null,[Us.VideoRecommend]:null,[Us.CountryLang]:null,[Us.CommentsCounter]:null,[Us.CommentsInfos]:null,[Us.SocialActivityFeed]:null,[Us.SocialInterestsFeedback]:null,[Us.ClientLogs]:null,[Us.PublisherConfig]:null,[Us.SendAppLinkSms]:null,[Us.SocialProfile]:null,[Us.SocialProfileEdit]:null,[Us.ProfileOnboardingShown]:null,[Us.ProfileCompleteOnboarding]:null,[Us.ProfileDeactivate]:null,[Us.ProfileCancelDeactivate]:null,[Us.CurrentUserInterests]:null,[Us.CurrentUserSubscriptions]:null}),nu=eu({host:"https://zen.yandex.ru/",clid:void 0,countryCode:null,integration:null,product:"",tld:"ru",lang:"ru",isIceStart:!1,zenFeatures:{},clientExperiments:[],experimentsData:{},clientDefinition:{},complaints:[],bannerStats:null,bulk:{},withFloatingLinks:Boolean(!1),isTeethEnabled:void 0,isMobile:void 0,isSpecificCardRequest:void 0,isWebview:void 0,areLinksDisabled:void 0,currentUrl:void 0,adDomain:"",isSpaApp:!1}),ru=eu({scrollToID:void 0}),su=eu({}),ou=eu({}),au=eu({}),iu={lastSawFeed:{zenApp:null,zenAppIos:null},serverTimeDiff:0,serverTime:null},cu=(e=iu,t)=>{switch(t.type){case"APPLY_EXPORT_DATA":{const{exportData:n,currentTime:r}=t.payload,{user:s}=n,{serverTime:o}=s;return Object.assign({},e,{lastSawFeed:Object.assign({},e.lastSawFeed,s.lastSawFeed),serverTime:o,serverTimeDiff:o?o-r:0})}case"INIT_FROM_STATE":{const{currentTime:n}=t.payload,{serverTime:r}=e;return Object.assign({},e,{serverTimeDiff:r?r-n:0})}default:return e}};var lu=e=>(e=>(t,n)=>{switch(n.type){case"MERGE_STATE_BRANCH":{const{branchName:e,branchState:r}=n.payload,s=ba(r).reduce((e,t)=>(void 0!==r[t]&&(e[t]=r[t]),e),{});return Object.assign({},t,{[e]:Object.assign({},t[e],s)})}default:return e(t,n)}})(Ia({feed:kl,category:Zl,categories:Yl,sources:Kl,search:Ul,profile:zl,modal:Xl,params:nu,shared:ru,request:au,links:tu,user:cu,context:su,auth:ou,users:yr,router:js(e)}));n(109);const uu=()=>{let e,t;return(...n)=>{if(t&&er(e,n))return t;const r=e=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r(e):r&&(r.current=e)}};return e=n,t=r,r}};var du=uu,pu=(n(110),n(24)),hu=n.n(pu);const fu=()=>{const e=document.createElement("div");Object.assign(e.style,{position:"absolute",top:"-9999px",left:"-9999px",overflow:"scroll",visibility:"hidden",width:"100px",height:"100px"}),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};const mu={};for(let e=65;e<91;e++){const t=String.fromCharCode(e);mu[t]=`-${t.toLowerCase()}`}const gu=e=>(t,n)=>{const[r,s]="string"==typeof t?[t,n]:[null,t];let o=e;return r&&(o+=`__${r}`),s&&Object.keys(s).forEach(e=>{const t=s[e],n=(e=>{const{length:t}=e;let n="";for(let r=0;r<t;r++){const t=e[r];n+=mu[t]||t}return n})(e);!0===t?o+=` _${n}`:(0===t||t)&&(o+=` _${n}_${t}`)}),o},bu=(...e)=>e.filter(Boolean).join(" ");gu.mix=bu;var yu=gu;const vu=(e,t)=>{const n=Object.keys(t),r=Object.assign({},e);for(let s=0;s<n.length;s++){const o=n[s];switch(o){case"className":r[o]=bu(t.className,e.className);break;case"style":r[o]=Object.assign({},e.style,t.style);break;default:{const n=t[o],s=e[o];"on"===o.slice(0,"on".length)&&(r[o]=(e=>{"function"==typeof n&&n(e),"function"==typeof s&&s(e)}))}}}return r};const Eu=(e=>{return Object(r.forwardRef)((t,n)=>{const[o,a]=Object(r.useState)(null);let i;return Object(r.useEffect)(()=>{a(fu())},[]),i="number"==typeof o&&o>0?vu(t,{style:{width:`calc(100vw - ${o}px)`}}):t,s.a.createElement(e,u({},i,{ref:n}))})})("div");class _u{constructor(){this._subscriptions=[]}add(e,t,n,r){e.addEventListener(t,n,r);const s=()=>{e.removeEventListener(t,n,r),this._subscriptions=this._subscriptions.filter(e=>e!==s)};return this._subscriptions=this._subscriptions.concat(s),s}clear(){this._subscriptions.forEach(e=>{e()})}}var Su=n(60);const wu=e=>gu(`${Su["lib-prefix"]}-${e}`);wu.mix=bu;const ku=27,Cu=150,Ou=wu("modal");class Ru extends s.a.PureComponent{constructor(...e){var t;return t=super(...e),this.state={placeholderElem:null,margin:null,scrollbarWidth:null,isJustOpened:!1},this._composeInputRefs=uu(),this._scrollableContainerElem=null,this._scrollbarFixElem=null,this._whileOpenListenerStorage=new _u,this._scrollableContainerRef=(e=>{this._scrollableContainerElem=e,e?this._modalDidOpen():this._modalDidClose()}),this._scrollbarFixRef=(e=>{this._scrollbarFixElem=e}),t}componentDidUpdate(e){const{isOpen:t,isMobileMenu:n,onOpen:r,onClose:s}=this.props;!e.isOpen&&t&&("function"==typeof r&&r(),n&&this.setState({isJustOpened:!0})),e.isOpen&&!t&&("function"==typeof s&&s(),n&&this.setState({isJustOpened:!1}))}_isNotModalClick(e){return e.target===this._scrollableContainerElem||e.target===this._scrollbarFixElem}_modalDidOpen(){const{scrollbarWidth:e}=this.state,t=this._scrollableContainerElem;if(!t||"number"!=typeof e)return;const{direction:n}=getComputedStyle(t);this.setState({margin:"rtl"===n?`0 0 0 ${-e}px`:`0 ${-e}px 0 0`}),document.body&&(document.body.style.overflow="hidden");const r=e=>{if(this._isNotModalClick(e)){e.preventDefault();const{shouldCloseOnOuterClick:t,close:n}=this.props;t&&"function"==typeof n&&n()}};this._whileOpenListenerStorage.add(document,"mousedown",r,{passive:!1}),this._whileOpenListenerStorage.add(document,"touchstart",r,{passive:!1}),this._whileOpenListenerStorage.add(document,"keydown",e=>{if(e.keyCode===ku){const{shouldCloseOnEscClick:e,close:t}=this.props;e&&"function"==typeof t&&t()}})}_modalDidClose(){this.setState({margin:null}),document.body&&(document.body.style.overflow=""),this._whileOpenListenerStorage.clear()}_renderModal(){const e=this.props,{isOpen:t,isMobileMenu:n,withFixedHeight:o,close:a,containerRef:i,withScrollbarFix:c,withVerticalAlign:l,scrollableContainerRef:d,viewType:p,isClosable:h,children:f}=e,m=ne(e,["isOpen","isMobileMenu","withFixedHeight","close","containerRef","withScrollbarFix","withVerticalAlign","scrollableContainerRef","viewType","isClosable","children"]),{placeholderElem:g,margin:b,scrollbarWidth:y,isJustOpened:v}=this.state,E=c?Eu:"div";if(!t||!g||"number"!=typeof y)return null;const _=vu(Vc(m,["shouldCloseOnEscClick","shouldCloseOnOuterClick","onClose","onOpen"]),{className:Ou("content",{isMobileMenu:n}),style:v?{bottom:0}:void 0}),S=this._composeInputRefs(this._scrollableContainerRef,d),w=Es.a.createPortal(s.a.createElement("div",{ref:S,className:Ou({viewType:p,withVerticalAlign:l,withFixedHeight:o}),style:{margin:b||void 0,visibility:b?void 0:"hidden"}},s.a.createElement(E,{ref:this._scrollbarFixRef,className:Ou("scrollbar-fix")},s.a.createElement("div",u({ref:i},_),f,h?s.a.createElement("div",{className:Ou("close-wrapper")},s.a.createElement("button",{className:Ou("close"),onClick:a})):null))),g);return s.a.createElement(r.Fragment,{key:"modal"},w)}componentDidMount(){this.setState({placeholderElem:document.body,scrollbarWidth:fu()})}componentWillUnmount(){this._whileOpenListenerStorage.clear()}render(){return s.a.createElement(hu.a,{component:r.Fragment,transitionName:"_transition",transitionEnterTimeout:Cu,transitionLeaveTimeout:Cu},this._renderModal())}}Ru.defaultProps={isOpen:!1,isClosable:!0,shouldCloseOnEscClick:!0,shouldCloseOnOuterClick:!0,withScrollbarFix:!1,withVerticalAlign:!1,viewType:"outer-close"};const Tu=(e,t)=>{const{search:n}=e;let r,s;return r=t&&"string"==typeof t.search?bc(Object.assign({},gc(n),gc(t.search))):n,s="string"==typeof t?{pathname:t,search:r}:Object.assign({},t,{search:r})},Au=(e,...t)=>(n,r)=>{const s=r(),o=Tu(s.router.location,e);n(a(o,...t))},Pu="MODAL_CLOSE_REASON_CROSS",Nu=e=>(t,n,{outputBus:r})=>{const s=n(),{closeModalPath:o,forcedModalRoute:a}=s.modal;t(a?Iu(null):Au(o)),t({type:"CLOSE_MODAL",payload:e}),r.emit("popupClose")},Iu=e=>({type:"FORCE_MODAL_ROUTE",payload:e});class xu extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={value:this._getEndValue(),duration:null,withTransition:!1},this._startTime=null,this._containerElem=null,this._containerRef=(e=>{const t=this._containerElem;e?e.addEventListener("transitionend",this._onTransitionEnd):t&&t.removeEventListener("transitionend",this._onTransitionEnd),this._containerElem=e}),this._onTransitionEnd=(e=>{this._isTransitionEvent(e)&&this._endTransition({withEndHandlers:!0})}),t}_isTransitionEvent(e){return e.target===this._containerElem&&"opacity"===e.propertyName}_getRemainingTime(){const{duration:e}=this.state;return"number"==typeof e&&"number"==typeof this._startTime?Math.max(e-(Date.now()-this._startTime),0):0}_getEndValue(){const{type:e,minOpacity:t,maxOpacity:n}=this.props;switch(e){case"in":return n;case"out":return t;default:return 1}}_getContainerStyle(){const{timingFunction:e,delay:t}=this.props,{value:n,duration:r,withTransition:s}=this.state,o={};return null!==n&&(o.opacity=n),s&&(o.transition=`${r}ms opacity ${e} ${t}ms`),o}_forceContainerReflow(){this._containerElem&&this._containerElem.offsetHeight}_endTransition({withEndHandlers:e}){e&&this.props.onBeforeEnd(),this._startTime=null,this.setState({value:this._getEndValue(),duration:null,withTransition:!1},()=>{e&&this.props.onAfterEnd(),this.props.onComplete()})}_startTransition(){const{getDuration:e,onBeforeStart:t}=this.props;if(!this._containerElem)return;const n=parseFloat(getComputedStyle(this._containerElem).opacity),r=this._getEndValue(),s=this._getRemainingTime(),o=r-n;if(0===o)return void this._endTransition({withEndHandlers:!1});const a=e(s,o);0!==a?(t(),this.setState({value:n,duration:a,withTransition:!0},()=>{const{onAfterStart:e}=this.props;this._forceContainerReflow(),this.setState({value:r},()=>{this._startTime=Date.now(),e()})})):this._endTransition({withEndHandlers:!1})}componentDidUpdate(e){this.props.triggerKey!==e.triggerKey&&this._startTransition()}render(){return this.props.children({ref:this._containerRef,style:this._getContainerStyle()})}}xu.defaultProps={minOpacity:0,maxOpacity:1,timingFunction:"ease-out",delay:0,onBeforeStart:()=>{},onAfterStart:()=>{},onBeforeEnd:()=>{},onAfterEnd:()=>{},onComplete:()=>{}};class Lu extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={value:null,endValue:null,duration:null,withTransition:!1},this._startTime=null,this._containerElem=null,this._contentElem=null,this._containerRef=(e=>{const t=this._containerElem;e?e.addEventListener("transitionend",this._onTransitionEnd):t&&t.removeEventListener("transitionend",this._onTransitionEnd),this._containerElem=e}),this._contentRef=(e=>{this._contentElem=e}),this._onTransitionEnd=(e=>{this._isTransitionEvent(e)&&this._endTransition({withEndHandlers:!0})}),t}_isTransitionEvent(e){return e.target===this._containerElem&&"height"===e.propertyName}_getRemainingTime(){const{duration:e}=this.state;return null!==e&&null!==this._startTime?Math.max(e-(Date.now()-this._startTime),0):0}_getRemainingShift(e){const{endValue:t}=this.state;return null!==t?e-t:0}_getContainerStyle(){const{timingFunction:e,delay:t}=this.props,{value:n,duration:r,withTransition:s}=this.state,o={};return null!==n&&(o.height=n),s&&(o.transition=`${r}ms height ${e} ${t}ms`),o}_forceContainerReflow(){this._containerElem&&this._containerElem.offsetHeight}_endTransition({withEndHandlers:e}){e&&this.props.onBeforeEnd(),this._startTime=null,this.setState({value:null,endValue:null,duration:null,withTransition:!1},()=>{e&&this.props.onAfterEnd(),this.props.onComplete()})}_startTransition(e){const{getDuration:t,onBeforeStart:n}=this.props,r=e.containerHeightStyle,s=this._contentElem&&this._contentElem.offsetHeight||0,o=this._getRemainingTime(),a=this._getRemainingShift(r),i=s-e.contentHeight-a,c=r+i;if(0===i)return void this._endTransition({withEndHandlers:!1});const l=t(o,i);0!==l?(n(),this.setState({value:r,endValue:c,duration:l,withTransition:!0},()=>{this._forceContainerReflow(),this.setState({value:c},()=>{this._startTime=Date.now(),this.props.onAfterStart()})})):this._endTransition({withEndHandlers:!1})}getSnapshotBeforeUpdate(e){return this._containerElem&&this.props.triggerKey!==e.triggerKey?{containerHeightStyle:parseFloat(String(getComputedStyle(this._containerElem).height)),contentHeight:this._contentElem&&this._contentElem.offsetHeight||0}:null}componentDidUpdate(e,t,n){n&&this._startTransition(n)}render(){return this.props.children({containerRef:this._containerRef,contentRef:this._contentRef,containerStyle:this._getContainerStyle()})}}Lu.defaultProps={timingFunction:"ease-out",delay:0,onBeforeStart:()=>{},onAfterStart:()=>{},onBeforeEnd:()=>{},onAfterEnd:()=>{},onComplete:()=>{}};class ju extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state=ju.getUpdatedState(this.props),this._composeContainerRefs=uu(),t}static getUpdatedState(e){return{triggerKey:e.triggerKey,children:e.children({ref:e.heightProps.contentRef})}}static getDerivedStateFromProps(e,t){return e.triggerKey!==t.triggerKey?ju.getUpdatedState(e):null}render(){const e=this.props,{component:t,containerRef:n,fadeProps:r,heightProps:o}=e,a=ne(e,["component","containerRef","fadeProps","heightProps"]),{children:i}=this.state,c=r.style,l=o.containerStyle,d=[c.transition,l.transition].filter(Boolean).join(", "),p=vu(Vc(a,["triggerKey"]),{style:{opacity:c.opacity,height:l.height,transition:d}});return s.a.createElement(t,u({ref:this._composeContainerRefs(r.ref,o.containerRef,n)},p),i)}}ju.defaultProps={component:"div"};var Du=Object(r.forwardRef)((e,t)=>s.a.createElement(ju,u({containerRef:t},e)));const Mu="ACTIVE_STATUS_KEY",Uu={Fade:"FADE_TRANSITION",Height:"HEIGHT_TRANSITION",Children:"CHILDREN_TRANSITION"},Fu={Pending:"PENDING",FadeIn:"FADE_IN",Resize:"RESIZE",FadeOut:"FADE_OUT"};const Bu=new class{constructor(e){this._config=e}_getUpdatedAnimationsState(e,t){const n=K.get(this._config,[e,"animationsState"]);if(!n)return{};const r=Object.keys(n),s={};for(let e=0;e<r.length;e++){const o=r[e];n[o]&&(s[o]=!t[o])}return s}_getSpecificState(e,t,n){const r=K.get(this._config,[e,"specificState"]);return r?"function"==typeof r?r(t,n):r:{}}setActiveStatus(e,t,n){const r=this._getUpdatedAnimationsState(e,n),s=this._getSpecificState(e,t,n);return Object.assign({},r,s,{[Mu]:e})}}({[Fu.Pending]:{animationsState:{[Uu.Fade]:!1,[Uu.Height]:!1,[Uu.Children]:!0},specificState:e=>({activeTriggerKey:e.triggerKey})},[Fu.FadeOut]:{animationsState:{[Uu.Fade]:!0,[Uu.Height]:!1,[Uu.Children]:!1},specificState:e=>({fadeType:"out",fadeDelay:e.delay})},[Fu.Resize]:{animationsState:{[Uu.Fade]:!1,[Uu.Height]:!0,[Uu.Children]:!0},specificState:e=>({activeTriggerKey:e.triggerKey})},[Fu.FadeIn]:{animationsState:{[Uu.Fade]:!0,[Uu.Height]:!1,[Uu.Children]:!1},specificState:{fadeType:"in",fadeDelay:0}}});class zu extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state=Object.assign({},Bu.setActiveStatus(Fu.Pending,this.props,{}),{lastTriggerKey:this.props.triggerKey}),this._onFadeComplete=(()=>{const e=this.state[Mu];e===Fu.FadeOut&&this.setState(Bu.setActiveStatus(Fu.Resize,this.props,this.state)),e===Fu.FadeIn&&this.setState(Bu.setActiveStatus(Fu.Pending,this.props,this.state))}),this._onHeightComplete=(()=>{this.setState(Bu.setActiveStatus(Fu.FadeIn,this.props,this.state))}),this._getFadeDuration=((e,t)=>{const{getFadeDuration:n}=this.props,{fadeType:r}=this.state;return n(r,e,t)}),t}static getActiveStatusAfterTriggerKeyChange(e,{isActiveTriggerKey:t,isDisabled:n}){return e===Fu.Pending&&n?Fu.Pending:e===Fu.Resize?Fu.Resize:e===Fu.FadeOut&&t?Fu.FadeIn:e!==Fu.FadeOut?Fu.FadeOut:null}static getDerivedStateFromProps(e,t){const n=t[Mu];if(e.triggerKey!==t.lastTriggerKey){const r=zu.getActiveStatusAfterTriggerKeyChange(n,{isActiveTriggerKey:e.triggerKey===t.activeTriggerKey,isDisabled:e.isDisabled});return r?Object.assign({},Bu.setActiveStatus(r,e,t),{lastTriggerKey:e.triggerKey}):{lastTriggerKey:e.triggerKey}}return n===Fu.Pending?Bu.setActiveStatus(Fu.Pending,e,t):null}render(){const e=this.props,{containerRef:t,getResizeDuration:n,fadeTimingFunction:r,resizeTimingFunction:o}=e,a=ne(e,["containerRef","getResizeDuration","fadeTimingFunction","resizeTimingFunction"]),{fadeType:i,fadeDelay:c}=this.state;return s.a.createElement(xu,{triggerKey:this.state[Uu.Fade],type:i,timingFunction:r,delay:c,getDuration:this._getFadeDuration,onComplete:this._onFadeComplete},e=>s.a.createElement(Lu,{triggerKey:this.state[Uu.Height],timingFunction:o,getDuration:n,onComplete:this._onHeightComplete},n=>s.a.createElement(Du,u({},Vc(a,["triggerKey","isDisabled","getFadeDuration"]),{ref:t,triggerKey:this.state[Uu.Children],fadeProps:e,heightProps:n}))))}}zu.defaultProps={isDisabled:!1};var Hu=Object(r.forwardRef)((e,t)=>s.a.createElement(zu,u({containerRef:t},e)));const Wu=(e,t)=>Object.keys(e).reduce((n,r)=>{const s=e[r];return n[r]=t(s,r,e),n},{}),$u={fetchThreshold:0},qu=e=>({status:Ee.Pending,fetchResult:null,fetchError:null,isFetchThresholdPassed:!e.fetchThreshold}),Gu=e=>t=>{const n=Wu(e,e=>Object.assign({},$u,e));class o extends r.PureComponent{constructor(...e){var t;return t=super(...e),a.call(this),t}componentWillUnmount(){this._isUnmounted=!0}render(){const e=Wu(n,(e,t)=>this._asyncDataPropsSelectors[t](this.state,this._fetchers));return s.a.createElement(t,u({},this.props,e))}}o.displayName=wa("WithAsyncProps",t);var a=function(){this.state=Wu(n,qu),this._isUnmounted=!1,this._fetchers=Wu(n,(e,t)=>{let n;const r=()=>this.state[t],s=e=>new Promise(n=>{this._isUnmounted||this.setState(n=>({[t]:Object.assign({},n[t],e)}),n)});return(...t)=>{let o;const a=e=>(...t)=>{if(o===n)return e(...t)};return s(qu(e)),e.fetchThreshold&&setTimeout(a(()=>{r().status===Ee.Pending&&s({isFetchThresholdPassed:!0})}),e.fetchThreshold),o=n=e.fetch(this.props,...t).then(a(e=>{const t={status:Ee.Success,fetchResult:e,fetchError:null};return s(t),t}),a(e=>{console.warn(e);const t={status:Ee.Error,fetchResult:null,fetchError:e};return s(t),t}))}}),this._asyncDataPropsSelectors=Wu(n,(e,t)=>Object(Z.createSelector)(e=>e[t],(e,n)=>n[t],(e,t)=>Object.assign({},e,{fetch:t})))};return o};n(122),n(123);const Vu=wu("search"),Ku=Object(r.memo)(e=>{const{containerRef:t,inputRef:n,size:o,value:a="",placeholder:i,className:c,style:l,onClear:d,isRedesign:p}=e,h=ne(e,["containerRef","inputRef","size","value","placeholder","className","style","onClear","isRedesign"]),f=Object(r.useRef)(null),m=Object(r.useMemo)(du,[]),g=!a,b=bu(Vu({size:o,isEmpty:g,isRedesign:p}),c),y=Object(r.useCallback)(e=>{d&&d(e),f.current&&f.current.focus()},[d]);return s.a.createElement("div",{ref:t,className:b,style:l},s.a.createElement("div",{className:Vu("magnifier")}),s.a.createElement("input",u({},h,{ref:m(f,n),className:Vu("input"),type:"text",value:a})),g?s.a.createElement("input",{className:Vu("input-placeholder"),type:"text",placeholder:i,disabled:!0}):s.a.createElement("button",{className:Vu("clear"),onClick:y}))});const Zu=wu("search-dropdown"),Yu=({children:e,timeout:t})=>s.a.createElement(hu.a,{transitionName:"_transition",transitionEnterTimeout:t,transitionLeaveTimeout:t},e),Qu=({shouldShowOverlay:e,overlayRef:t})=>s.a.createElement(Yu,{timeout:Cu},e?s.a.createElement("div",{ref:t,className:Zu("overlay")}):null),Ju=({shouldShowDropdown:e,children:t})=>s.a.createElement("div",{className:Zu("dropdown",{shouldShowDropdown:e})},t),Xu=Object(r.memo)(e=>{let{children:t,isUnfolded:n,onClose:o,onFocus:a,onBlur:i}=e,c=ne(e,["children","isUnfolded","onClose","onFocus","onBlur"]);const[l,d]=Object(r.useState)(!1),p=Object(r.useRef)(new _u),h=Object(r.useRef)(null),f=Object(r.useCallback)(e=>e.target===h.current,[h]),m=Object(r.useCallback)(e=>{f(e)&&o()},[f,o]),g=Object(r.useCallback)(e=>{d(!0),a&&a(e)},[a]),b=Object(r.useCallback)(e=>{d(!1),i&&i(e)},[i]);return Object(r.useEffect)(()=>{const e=p.current;return p.current.add(document,"mousedown",m,{passive:!1}),p.current.add(document,"touchstart",m,{passive:!1}),e.add(document,"keydown",e=>{e.keyCode===ku&&o()}),()=>{e.clear()}},[m,o]),s.a.createElement("div",{className:Zu({isUnfolded:n,isSearchFocused:l})},s.a.createElement(Ku,u({},c,{className:Zu("search"),isRedesign:!0,onFocus:g,onBlur:b})),s.a.createElement(Ju,{shouldShowDropdown:n},t),s.a.createElement(Qu,{overlayRef:h,shouldShowOverlay:n||l}))});n(124),n(125),n(128);const ed=e=>"undefined"!=typeof document&&window["abr_native"===e?"yandex.mobileZen":"ZENKIT"],td=e=>(t,n,{zenApi:r,zenkitApi:s})=>{const o=n(),a=Ze(o,e);if(!a)return;const{product:i}=o.params,c=ed(i);c&&c.onPageStatusChanged?c.onPageStatusChanged(!0):s?s.channelStatusChanged({id:a.id,title:a.title,image:a.logo,link:a.feedLink,exportLink:a.feedApiLink,logoBgColor:a.logoBackgroundColor,channelType:a.type},a.type,a.status):r.invalidateCache()},nd=({logger:e})=>()=>{e.log("complain_show")},rd=({source:e,logger:t})=>()=>{Fn({__reasons__:e.complaintReasons||""})(t).log("complain_click")},sd=({source:e,logger:t})=>n=>{t.log("feedback_block"),n(Xo(e)),n(td(e))},od=({source:e,logger:t})=>n=>{t.log("feedback_cancel_block"),n(ea(e)),n(td(e))},ad=({source:e,logger:t})=>n=>{t.log("feedback_favourite"),n(Qo(e)),n(td(e))},id=({source:e,logger:t})=>n=>{t.log("feedback_cancel_favourite"),n(Jo(e)),n(td(e))},cd=({source:e,logger:t})=>n=>{t.log("feedback_less"),n(ta(e)),n(td(e))},ld={subscribed:id,blocked:od,not_subscribed:ad},ud=e=>ld[e.source.status](e),dd={subscribed:id,blocked:od,not_subscribed:sd},pd=e=>dd[e.source.status](e),hd={subscribed:id,blocked:ad,not_subscribed:ad},fd=e=>hd[e.source.status](e),md={subscribed:sd,blocked:od,not_subscribed:sd},gd=e=>md[e.source.status](e),bd=ps(null,Pl({onToggleBlock:pd,onToggleSubscribe:ud,onShortToggleBlock:gd,onShortToggleSubscribe:fd,onBlock:sd,onUnblock:od,onSubscribe:ad,onUnsubscribe:id,onDislike:cd,onComplain:nd,onComplainClick:rd})),yd=(ps(null,Pl({onToggleBlock:pd,onToggleSubscribe:ud,onShortToggleBlock:gd,onShortToggleSubscribe:fd,onBlock:sd,onUnblock:od,onSubscribe:ad,onUnsubscribe:id,onComplain:nd,onComplainClick:rd})),({source:e,logger:t})=>{const n=ms();return Object(r.useMemo)(()=>Wu({onToggleBlock:pd,onToggleSubscribe:ud,onShortToggleBlock:gd,onShortToggleSubscribe:fd,onBlock:sd,onUnblock:od,onSubscribe:ad,onUnsubscribe:id,onDislike:cd,onComplain:nd,onComplainClick:rd},r=>()=>n(r({source:e,logger:t}))),[e,t,n])}),vd=e=>{const t=Object(r.useRef)(e);return Object(r.useEffect)(()=>{t.current=e},[e]),Object(r.useCallback)((...e)=>t.current(...e),[])},Ed={},_d=(e,t={})=>{return(e=>{const t=Object(r.useRef)(null);return Object(r.useCallback)(n=>{t.current&&(t.current(),t.current=null),n&&(e.observe(n),t.current=(()=>{e.unobserve(n)}))},[e])})(((e,t={})=>{const{root:n,rootMargin:s,threshold:o}=t,a=vd((t,n)=>{Object(vs.unstable_batchedUpdates)(()=>{e(t,n)})});return Object(r.useMemo)(()=>"undefined"!=typeof window?new IntersectionObserver(a,{root:n,rootMargin:s,threshold:o}):Ed,[n,s].concat(o))})(t=>{e(t[0])},t))},Sd=({visibilityThreshold:e=.8}={})=>{const[t,n]=Object(r.useState)(null),[s,o]=Object(r.useState)(null),a=(()=>{const[e,t]=Object(r.useState)(vt);return Object(r.useEffect)(()=>Et(t),[]),e})();return[_d(t=>{o(t.intersectionRatio>0),n(t.intersectionRatio>=e)},{threshold:[e]}),t&&a,s]},wd=({isVisible:e,timeout:t=800,onShow:n,onDeepwatch:s})=>{const[o,a]=Object(r.useState)(!1),[i,c]=Object(r.useState)(!1);(({isVisible:e,timeout:t=800,onShow:n,onDeepwatch:s})=>{const o=vd(()=>{Object(vs.unstable_batchedUpdates)(()=>{n()})}),a=vd(e=>{s&&Object(vs.unstable_batchedUpdates)(()=>{s(e)})});Object(r.useEffect)(()=>{if(!e)return;let n=!1;const r=Date.now(),s=setTimeout(()=>{n=!0,o()},t);return()=>{n?a(Date.now()-r):(clearTimeout(s),Date.now()>r+t&&o())}},[e,t,a,o])})({isVisible:!o&&Boolean(e),timeout:t,onShow(){c(!0),n()},onDeepwatch:s}),o||!i||e||a(!0)},kd=e=>{const t=t=>{let{source:n,place:o,pageType:a,rowIndex:i,statEvents:c,bulkParams:l,onClick:d}=t,p=ne(t,["source","place","pageType","rowIndex","statEvents","bulkParams","onClick"]);const{zenApi:h}=Oa(),f=Object(r.useMemo)(ro,[])({pageType:a,source:n,place:o,rowIndex:i,statEvents:c,bulkParams:l},h),[m,g]=Sd();wd({isVisible:g,onShow(){f.log("show")}});const b=ys(e=>e.params.isWebview||rn(e)),y=Object(r.useCallback)(e=>{f.log("click"),d&&d(e)},[f,d]),v=yd({source:n,logger:f});return s.a.createElement(e,u({},p,{source:n,place:o,rowIndex:i,statEvents:c,bulkParams:l,rootRef:m,isVisible:g,logger:f,shouldToggleOnClick:b,onClick:y},v))};return t.displayName=wa("WithChannelActor",e),Object(r.memo)(t)};n(129);const Cd=new Map,Od="undefined"!=typeof document&&"undefined"!=typeof IntersectionObserver;let Rd;function Td(e,t={bubbles:!1,cancelable:!1,detail:void 0}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles||!1,t.cancelable||!1,t.detail),n}Od&&(window&&"function"!=typeof window.CustomEvent&&(Td.prototype=Object.create(window.Event.prototype),window.CustomEvent=Td),Rd=new Td("visible"));const Ad=(e,t,n)=>new Promise((r,s)=>{const o=()=>{const t=new Image;t.onload=r,t.onerror=s,t.src=e};if(Od&&t&&n){const e=Nd(Pd,n),r=()=>{o(),t&&t.removeEventListener("visible",r,!1),e.unobserve(t)};t.addEventListener("visible",r,!1),e.observe(t)}else o()}),Pd=e=>{e.filter(e=>e.isIntersecting).forEach(e=>{e.target.dispatchEvent(Rd)})},Nd=(e,t)=>{const n=JSON.stringify(t);if(Cd.has(n))return Cd.get(n);const r=new IntersectionObserver(Pd,t);return Cd.set(n,r),r};var Id=class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={status:"pending"},t}_loadImage(){this.setState({status:"pending"}),Ad(this.props.src).then(()=>{this.setState({status:"success"})},()=>{this.setState({status:"error"})})}componentDidMount(){this._loadImage()}componentDidUpdate(e){e.src!==this.props.src&&this._loadImage()}render(){const{src:e,children:t}=this.props,{status:n}=this.state;return t(e,n)}};const xd=Object(r.forwardRef)((e,t)=>{let n=Object.assign({},e);const o=(()=>{const e=fs();return Object(r.useMemo)(()=>{const t=e.getState();return t.params&&t.params.host||""},[e])})();return s.a.createElement(Ld,u({},n,{host:o,rootRef:t}))}),Ld=e=>{let{target:t="_blank",href:n,rel:r="",rootRef:o,host:a}=e,i=ne(e,["target","href","rel","rootRef","host"]);const c="_blank"===t&&n&&!n.includes(a)?`${r} noopener`:r;return s.a.createElement("a",u({},i,{href:n,rel:c||void 0,target:t,ref:o}))};n(130);var jd=n(25),Dd=n.n(jd),Md=n(26),Ud=n.n(Md),Fd=new Dd.a({id:"zen-star--inline",use:"zen-star--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="zen-star--inline">\n    <path d="M17 9.24194V8.75806C14.1121 8.58296 12.478 8.20496 11.1214 6.87857C9.79504 5.52203 9.41704 3.88792 9.24194 1H8.75806C8.58296 3.88792 8.20496 5.52203 6.87857 6.87857C5.52203 8.20496 3.88792 8.58296 1 8.75806V9.24194C3.88792 9.41704 5.52203 9.79504 6.87857 11.1214C8.20496 12.478 8.58296 14.1121 8.75806 17H9.24194C9.41704 14.1121 9.79504 12.478 11.1214 11.1214C12.478 9.79504 14.1121 9.41704 17 9.24194Z" />\n</symbol>'}),Bd=(Ud.a.add(Fd),Fd);const{id:zd,viewBox:Hd}=Bd,Wd=gu("star-tag-view"),$d=({label:e,size:t="inline",onClick:n,theme:r="classic",isHoverAnimationEnabled:o,isNoWrap:a})=>s.a.createElement("div",{className:Wd({size:t,theme:r,isHoverAnimationEnabled:o,isNoWrap:a}),onClick:n},s.a.createElement("div",{className:Wd("icon-box")},s.a.createElement("svg",{className:Wd("svg-icon"),viewBox:Hd},s.a.createElement("use",{xlinkHref:`#${zd}`}))),s.a.createElement("h3",{className:Wd("label")},e)),qd=gu("channel-row"),Gd="…";class Vd extends r.Component{constructor(...e){var t;return t=super(...e),this._onClick=(e=>{const{mode:t,onToggleBlock:n,shouldToggleOnClick:r,onClick:s}=this.props;"unblock"===t?(e.preventDefault(),n()):r?(e.preventDefault(),e.stopPropagation(),this._onToggle(e)):s(e)}),this._onToggle=(e=>{const{mode:t,onToggleSubscribe:n,onToggleBlock:r}=this.props;"unblock"!==t&&"no-action"!==t&&(e.preventDefault(),e.stopPropagation(),"block"===t?r():n())}),this._shorten=(e=>{const{isMobile:t,isNotShortenDescription:n}=this.props,r=t?70:220;if(n||e.length<=r)return e;const s=e.substr(0,r),o=s.split("").reverse().join("").match(/ /);return o&&o.index?s.substr(0,s.length-o.index-1)+Gd:s+Gd}),this._renderDescription=(()=>{const{description:e}=this.props.source;return e?s.a.createElement("div",{className:qd("description")},this._shorten(e)):null}),t}render(){const{component:e,className:t,mode:n,target:r,source:o,isMobile:a,rootRef:i,shouldToggleOnClick:c,isRedesign:l}=this.props,{logo:u,logoBackgroundColor:d,title:p,status:h,type:f,feedLink:m}=o,g=gu.mix(qd({mode:n,status:h,type:f,isMobile:a,isRedesign:l}),t);return s.a.createElement(e,{ref:i,className:g},s.a.createElement(xd,{href:m,target:r,className:qd("wrap"),onClick:this._onClick},"interest"===f?s.a.createElement("div",{className:qd("interest-container")},s.a.createElement($d,{label:p,size:"s",theme:"classic",isHoverAnimationEnabled:!a})):s.a.createElement(s.a.Fragment,null,s.a.createElement(Id,{src:u},(e,t)=>"success"===t?s.a.createElement("div",{className:qd("icon"),style:{backgroundImage:`url(${u})`,backgroundColor:d}}):s.a.createElement("div",{className:qd("icon",{isLoading:!0})})),s.a.createElement("div",{className:qd("texts")},s.a.createElement("div",{className:qd("title",{isClickable:!c})},p),this._renderDescription())),s.a.createElement("button",{className:qd("sub"),onClick:this._onToggle})))}}Vd.defaultProps={component:"div",mode:"default",shouldToggleOnClick:!1};const Kd=e=>{return Ra(Yd)(ps(Zd)(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._onOpenSource=(e=>{const{globalBus:t,isSpaLink:n,onClick:r,source:s}=this.props,{id:o,logo:a,type:i,status:c,feedLink:l,logoBackgroundColor:u,title:d}=s;r&&r(e),"user"!==i&&(!n||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),t.emit("requestSourceOpen",{id:o,logo:a,type:i,status:c,feedLink:l,logoBackgroundColor:u,title:d})))}),t}render(){return s.a.createElement(e,u({},this.props,{onClick:this._onOpenSource}))}}))},Zd=e=>{return{isSpaLink:e.params.isSpaApp}},Yd=({globalBus:e})=>({globalBus:e}),Qd=Kd(kd(Vd)),Jd=()=>Object(Z.createSelector)(e=>e,e=>{const t=[],n=[],r=[];return e&&e.forEach(e=>{e&&("interest"===e.type?n.push(e):"user"===e.type?t.push(e):r.push(e))}),{userSources:t,interestSources:n,channelSources:r}}),Xd=()=>{const{zenLogger:e}=Oa(),t=Object(r.useContext)(Pa);if(!t)throw new Error("Translations is not passed");const n=t.__LANG__;return{l10n:Object(r.useCallback)(r=>{const s=((e,t)=>e[t])(t,r);return s||(e&&e.error({message:"Missing translation",details:{lang:n,key:r}}),"")},[e,t,n]),lang:n}},ep=e=>{const t=Object(r.forwardRef)((t,n)=>{const{l10n:r,lang:o}=Xd();return s.a.createElement(e,u({},t,{ref:n,l10n:r,lang:o}))});return t.displayName=wa("WithTranslation",e),t},tp=gu("source-list");const np=ps(e=>({isInterestsEnabled:ln(e)}))(ep(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._sourcesSelector=Jd(),t}_renderSource(e){const{mode:t,place:n,pageType:r,isMobile:o,onSourceRequestOpen:a,isRedesign:i}=this.props,c="numbered"===t?"li":"div";return s.a.createElement(Qd,{key:e.id,className:tp("source-block-item"),component:c,source:e,mode:t,target:o?"_blank":null,place:n,pageType:r,isMobile:o,onClick:a,isRedesign:i})}_renderSources(){const{sources:e}=this.props;return e.map(e=>this._renderSource(e))}_renderSourceBlocks(){const{sources:e,l10n:t}=this.props,{userSources:n,interestSources:r,channelSources:o}=this._sourcesSelector(e);return[{title:t("preferences.users"),sources:n},{title:t("profile.interests-title"),sources:r},{title:t("preferences.channels"),sources:o}].map(({title:e,sources:t},n)=>0===t.length?null:s.a.createElement("div",{key:n,className:tp("source-block")},s.a.createElement("div",{className:tp("source-block-title")},e),t.map(e=>this._renderSource(e))))}render(){const{containerRef:e,className:t,mode:n,isMobile:r,isInterestsEnabled:o,isPlaceholder:a,isRedesign:i}=this.props,c="numbered"===n?"ol":"div",l={mode:n,isMobile:r,isInterestsEnabled:o,isRedesign:i};return s.a.createElement("div",{ref:e,className:gu.mix(tp(l),t)},s.a.createElement(c,{className:tp("sources",{isPlaceholder:a})},o&&"numbered"!==n?this._renderSourceBlocks():this._renderSources()))}}));n(131);var rp=new Dd.a({id:"icon-reload-s--inline",use:"icon-reload-s--inline-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" id="icon-reload-s--inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4a7 7 0 1 0 7 7h-2a5 5 0 1 1-5-5V4z" /><path fill-rule="evenodd" clip-rule="evenodd" d="M11.586.5L16 5l-4.414 4.5-1-1 2-2.5H9V4h3.586l-2-2.5 1-1z" /></symbol>'}),sp=(Ud.a.add(rp),rp);const op=yu("error-reload-button-view"),ap=({title:e,subtitle:t,onClick:n,children:r,size:o="m",link:a})=>{const{l10n:i}=Xd(),c=s.a.createElement(s.a.Fragment,null,s.a.createElement("svg",{className:op("icon"),viewBox:sp.viewBox},s.a.createElement("use",{xlinkHref:`#${sp.id}`})),r||i("onboarding.yabro_interests_retry")),l=a?s.a.createElement("a",{href:a,target:"_self",className:op("button"),onClick:n},c):s.a.createElement("button",{className:op("button"),onClick:n},c);return s.a.createElement("div",{className:op({size:o})},e&&s.a.createElement("div",{className:op("title")},e),t&&"m"===o&&s.a.createElement("div",{className:op("subtitle")},t),l)};n(127);const ip=gu("channel-row-placeholder"),cp=e=>s.a.createElement("div",vu(e,{className:ip()}),s.a.createElement("div",{className:ip("image")}),s.a.createElement("div",{className:ip("content")},s.a.createElement("div",{className:ip("title")}),s.a.createElement("div",{className:ip("text")})));n(126);const lp=wu("animated-placeholder"),up=e=>{return Object(r.forwardRef)((t,n)=>{const r=vu(t,{className:lp("section")});return s.a.createElement(e,u({ref:n},r))})},dp=up("div"),pp=Object(r.forwardRef)((e,t)=>{const{isAnimated:n=!0,children:r}=e,o=ne(e,["isAnimated","children"]),a=vu(o,{className:lp()});return s.a.createElement("div",u({ref:t},a),n?(e=>{const t=s.a.Children.count(e),n=1.6+.15*t,r=.25*n;return s.a.Children.map(e,(e,o)=>s.a.cloneElement(e,{style:Object.assign({},e.props.style,{animationDelay:`${r/(t-1)*o}s`,animationDuration:`${n}s`})}))})(r):r)}),hp=300,fp=100,mp=600,gp=gu("search-container-desktop"),bp=e=>`${e.value}_${e.status}_${e.triggerKey}`,yp=up(cp);const vp=ep(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={height:void 0},this._containerRef=Object(r.createRef)(),this._composeContainerRefs=uu(),this._getFadeDuration=((e,t,n)=>hp*Math.abs(n)),this._getResizeDuration=((e,t)=>{const{height:n}=this.state;let r;if("number"==typeof n){const e=document.documentElement.clientHeight,s=Math.min(n,e);r=Math.min(n+t,e)-s}else r=t;return Math.max(Math.min(Math.abs(r),mp),fp)}),t}_renderSuccessEmpty(e){const{l10n:t}=this.props;return s.a.createElement("div",{ref:e,className:gp("search-result",{type:"success-empty"})},s.a.createElement("h2",{className:gp("title")},t("suggest.headers.empty_list")))}_renderSuccess(e){const{sources:t,mode:n,onSourceRequestOpen:r,isRedesign:o}=this.props;return s.a.createElement(np,{containerRef:e,className:gp("search-result",{type:"success"}),sources:t,mode:n,place:Fe.Suggest,pageType:Ue.Suggest,onSourceRequestOpen:r,isRedesign:o})}_renderError(e){const{onRetry:t,l10n:n}=this.props;return s.a.createElement("div",{ref:e,className:gp("search-result",{type:"error"})},s.a.createElement(ap,{title:n("suggest.failure"),onClick:t}))}_renderPending(e){const{isFetchThresholdPassed:t}=this.props,{height:n}=this.state;return s.a.createElement(pp,{ref:e,className:gp("search-result",{type:"pending"}),style:{minHeight:n},isAnimated:t},s.a.createElement(yp,{className:gp("row-placeholder"),size:"s"}),s.a.createElement(yp,{className:gp("row-placeholder"),size:"s"}),s.a.createElement(yp,{className:gp("row-placeholder"),size:"s"}))}getHeight(){return this._containerRef.current?this._containerRef.current.offsetHeight:null}getSnapshotBeforeUpdate(e){return bp(e)!==bp(this.props)?{height:this._containerRef.current?this._containerRef.current.offsetHeight:void 0}:null}componentDidUpdate(e,t,n){n&&this.setState({height:n.height})}render(){const{inputRef:e,value:t,onChange:n,onClear:r,onFocus:o,onBlur:a,isInterestsEnabled:i,l10n:c,isRedesign:l}=this.props,u=c(i?"suggest.search_placeholder2":"suggest.channel_placeholder");return s.a.createElement("div",{className:gp({isRedesign:l})},!l&&s.a.createElement(Ku,{inputRef:e,className:gp("input"),value:t,size:"l",placeholder:u,onChange:n,onClear:r,onFocus:o,onBlur:a}),s.a.createElement(Hu,{triggerKey:bp(this.props),fadeTimingFunction:"ease-in-out",resizeTimingFunction:"ease-in-out",getFadeDuration:this._getFadeDuration,getResizeDuration:this._getResizeDuration},({ref:e})=>{const{value:t,status:n,sources:r,children:s}=this.props,o=this._composeContainerRefs(e,this._containerRef);if(Boolean(t))switch(n){case Ee.Pending:return this._renderPending(o);case Ee.Error:return this._renderError(o);case Ee.Success:return 0===r.length?this._renderSuccessEmpty(o):this._renderSuccess(o);default:return null}return s({ref:o})}))}});const Ep=gu("desktop-search-view");const _p=ep(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._inputRef=Object(r.createRef)(),this._onSearchChange=(e=>{this.props.onSearchChange(e.target.value.substr(0,Sr))}),t}componentDidMount(){setTimeout(()=>{this._inputRef.current&&this._inputRef.current.focus()},0)}render(){const{containerRef:e,searchValue:t,searchSources:n,searchStatus:r,isSearchFetchThresholdPassed:o,isInterestsEnabled:a,onSearchClear:i,onSearchRetry:c,disableCloseOnEscClick:l,enableCloseOnEscClick:u,l10n:d,isRedesign:p=!1,onSourceRequestOpen:h}=this.props;return s.a.createElement("div",{ref:e,className:Ep({isRedesign:p})},!p&&s.a.createElement("h2",{className:Ep("title")},d("suggest.search")),s.a.createElement(vp,{inputRef:this._inputRef,mode:"default",value:t,status:r,sources:n,isFetchThresholdPassed:o,isInterestsEnabled:a,onChange:this._onSearchChange,onClear:i,onFocus:l,onBlur:u,onRetry:c,isRedesign:p,onSourceRequestOpen:h},({ref:e})=>s.a.createElement("div",{ref:e})))}});const Sp=ep(Object(r.memo)(e=>{const{containerRef:t,onSourceRequestOpen:n}=e,r=ne(e,["containerRef","onSourceRequestOpen"]),{onSearchChange:o,searchValue:a,onSearchClear:i,l10n:c,isInterestsEnabled:l}=r;if(void 0===t||null===t.current)return null;const d=c(l?"suggest.search_placeholder3":"suggest.channel_placeholder");return Es.a.createPortal(s.a.createElement(Xu,{size:"xl",value:a,isUnfolded:Boolean(a),onChange:e=>o(e.target.value),onClear:i,placeholder:d,onClose:i},s.a.createElement(_p,u({},r,{isRedesign:!0,onSourceRequestOpen:n}))),t.current)})),wp=ps(e=>({searchSources:Ge(e)||[],filter:e.search.filter,isInterestsEnabled:ln(e)}),{updateSuggest:Ml})(Gu({searchAsyncProps:{fetch:({updateSuggest:e},t)=>e(t),fetchThreshold:200}})(e=>{let{searchAsyncProps:t,filter:n,containerRef:o,searchSources:a,isInterestsEnabled:i}=e,c=ne(e,["searchAsyncProps","filter","containerRef","searchSources","isInterestsEnabled"]);const[l,d]=Object(r.useState)(!1),p=Object(r.useCallback)(()=>{t.fetch("")},[t]),h=Object(r.useCallback)(()=>{t.fetch(n)},[t,n]);return Object(r.useEffect)(()=>{if(!l)return d(!0),p(),()=>{p()}},[p,l]),s.a.createElement(Sp,u({},c,{mode:"default",containerRef:o,searchValue:n,searchSources:a,searchStatus:t.status,isSearchFetchThresholdPassed:t.isFetchThresholdPassed,onSearchChange:t.fetch,onSearchClear:p,onSearchRetry:h,isInterestsEnabled:i,onSourceRequestOpen:p}))}));Object(Z.createSelector)(Wt,({params:e})=>e.isIceStart,({rezenInterestsOnboardingSiteDesktop:e},t)=>e.isIceForceShow&&t);n(151),n(138);const kp=gu("title-placeholder"),Cp=e=>{let{size:t="2",className:n}=e,r=ne(e,["size","className"]);const o=Object.assign({},r,{className:gu.mix(kp(),n)});switch(t){case"2":return s.a.createElement("h2",o);case"3":return s.a.createElement("h3",o);default:return null}};n(152);const Op=gu("back-button-view"),Rp=({size:e,className:t,onClick:n,href:r})=>s.a.createElement("a",{href:r,onClick:n,className:gu.mix(Op({size:e}),t)},s.a.createElement("div",{className:Op("text")})),Tp=gu("desktop-category-view"),Ap=up(Cp),Pp=up(cp);const Np=ep(class extends r.PureComponent{_renderSources(){const{sources:e}=this.props;return s.a.createElement(np,{sources:e,mode:"numbered",place:Fe.Category,pageType:Ue.Category})}_renderPlaceholder(){const{containerRef:e,height:t,isFetchThresholdPassed:n}=this.props;return s.a.createElement(pp,{ref:e,className:Tp(),style:{minHeight:t},isAnimated:n},s.a.createElement(Ap,{size:"2"}),s.a.createElement(Pp,{className:Tp("row-placeholder")}),s.a.createElement(Pp,{className:Tp("row-placeholder")}),s.a.createElement(Pp,{className:Tp("row-placeholder")}),s.a.createElement(Pp,{className:Tp("row-placeholder")}))}_renderCategory(){const{containerRef:e,title:t,backButtonHref:n,onBackButtonClick:r}=this.props;return s.a.createElement("div",{ref:e,className:Tp()},s.a.createElement("div",{className:Tp("header")},s.a.createElement(Rp,{href:n,onClick:r}),s.a.createElement("h2",{className:Tp("title")},t)),this._renderSources())}_renderError(){const{containerRef:e,title:t,backButtonHref:n,onBackButtonClick:r,onRetry:o,l10n:a}=this.props;return s.a.createElement("div",{ref:e,className:Tp({type:"error"})},s.a.createElement("div",{className:Tp("header")},s.a.createElement(Rp,{href:n,onClick:r}),t&&s.a.createElement("h2",{className:Tp("title")},t)),s.a.createElement(ap,{title:a("suggest.failure"),onClick:o}))}render(){switch(this.props.status){case Ee.Pending:return this._renderPlaceholder();case Ee.Success:return this._renderCategory();case Ee.Error:return this._renderError();default:return null}}});const Ip=(e,t)=>K.get(t.categories,["data","list",e,"title"])||K.get(t.category,[e,"category","title"]);var xp=ps((e,t)=>{const n=(e=>e&&e.params&&e.params.id||null)(t.match),r=K.get(e.category,[n,"data","list"]),s=Ke(e,n)||[];return{categoryId:n,category:Object.assign({},r,{title:Ip(n,e)}),categorySources:s}},{pushWithPreservedSearch:Au,fetchCategories:Wl,fetchCategory:ql})(Gu({categoryAsyncProps:{fetch:({categoryId:e,fetchCategory:t})=>t(e),fetchThreshold:200},categoriesAsyncProps:{fetch:({fetchCategories:e})=>e(),fetchThreshold:200}})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._fetchCategory=this._withAsyncStatus({fetch:()=>this.props.categoryAsyncProps.fetch()}),this._fetchCategories=this._withAsyncStatus({fetch:()=>this.props.categoriesAsyncProps.fetch()}),this._goToChannels=(e=>{e.preventDefault(),this.props.pushWithPreservedSearch(ut)}),t}_withAsyncStatus({fetch:e,withAnimation:t=!0}){return(...n)=>(this.props.setStatus(Ee.Pending,{withAnimation:t}),e(...n).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:t}),e)))}componentDidMount(){this._fetchCategory(),this._fetchCategories()}render(){const{categoryAsyncProps:e,containerRef:t,status:n,height:r,categoryId:o,category:a,categorySources:i}=this.props;return s.a.createElement(Np,u({},a,{id:o,containerRef:t,height:r,sources:i,status:n,isFetchThresholdPassed:e.isFetchThresholdPassed,backButtonHref:ut,onBackButtonClick:this._goToChannels,onRetry:this._fetchCategory}))}}));n(148),n(140);const Lp=gu("channel-card-placeholder"),jp=({className:e,size:t="s"})=>s.a.createElement("div",{className:gu.mix(Lp({size:t}),e)},s.a.createElement("div",{className:Lp("text")}));n(149);const Dp=gu("search-placeholder"),Mp=e=>{let{size:t="l",className:n}=e,r=ne(e,["size","className"]);return s.a.createElement("div",u({},r,{className:gu.mix(Dp({size:t}),n)}))};n(136);const Up=wu("channel-card"),Fp=e=>e.length>=8&&/\s/.test(e),Bp=e=>{const t=Object(r.forwardRef)((t,n)=>{const{theme:o="white",size:a,status:i,image:c,imageBackgroundColor:l,text:d,textColor:p,textBackgroundColor:h,onIconClick:f,isMobile:m}=t,g=ne(t,["theme","size","status","image","imageBackgroundColor","text","textColor","textBackgroundColor","onIconClick","isMobile"]),[b,y]=Object(r.useState)(!1);Object(r.useEffect)(()=>{y("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},[]);const v={backgroundColor:l,backgroundImage:`url('${c}')`},E={color:p,backgroundColor:h},_=vu(g,{className:Up({size:a,status:i,theme:o,isMobile:m,isTouch:b,isButton:"a"===e||"button"===e})});return s.a.createElement(e,u({ref:n},_),s.a.createElement("div",{className:Up("image"),style:v}),s.a.createElement("div",{className:Up("text",{isLong:Fp(d)}),style:E},s.a.createElement("div",{className:Up("text-wrapper")},(e=>{if(!Fp(e))return e;const t=(e.length-1)/2;let n=0;for(let r=0;r<e.length;r++)/\s/.test(e[r])&&Math.abs(t-r)<Math.abs(t-n)&&(n=r);return s.a.createElement(s.a.Fragment,null,e.slice(0,n),s.a.createElement("br",null),e.slice(n))})(d))),s.a.createElement("div",{className:Up("gradient")}),s.a.createElement("div",{className:Up("icon"),onClick:e=>{f&&(e.preventDefault(),e.stopPropagation(),f(e))}}))});return Object(r.memo)(t)};Bp("div");const zp=Bp("a"),Hp=({rootRef:e,className:t,size:n,target:r,isMobile:s,source:{logo:o,logoBackgroundColor:a,title:i,titleColor:c,titleBackgroundColor:l,feedLink:u},onClick:d,onIconClick:p})=>({ref:e,className:t,size:n,target:r,image:o,imageBackgroundColor:a,text:i,textColor:c,textBackgroundColor:l,href:u,theme:"black",isMobile:s,onClick:d,onIconClick:p}),Wp=Kd(kd(e=>s.a.createElement(zp,Hp(e)))),$p=Kd(kd(e=>s.a.createElement(zp,u({},Hp(e),{status:"subscribed"===e.source.status?"subscribed":"add",onIconClick:e.onToggleSubscribe})))),qp=(e=>{const t=t=>{let{source:n,place:o,rowIndex:a,statEvents:i,bulkParams:c,pageType:l}=t,d=ne(t,["source","place","rowIndex","statEvents","bulkParams","pageType"]);const{zenApi:p}=Oa(),h=Object(r.useMemo)(ro,[])({source:n,place:o,pageType:l,rowIndex:a,statEvents:i,bulkParams:c},p),[f,m]=Sd();wd({isVisible:m,onShow(){h.log("show")}});const g=yd({source:n,logger:h});return s.a.createElement(e,u({},d,{source:n,place:o,rowIndex:a,statEvents:i,bulkParams:c,rootRef:f,isVisible:m,logger:h},g))};return t.displayName=wa("WithOnboardingChannelActor",e),Object(r.memo)(t)})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._onClick=(e=>{const{onToggleSubscribe:t,onClick:n}=this.props;e.preventDefault(),e.stopPropagation(),t(),n&&n(e)}),t}render(){const{source:e}=this.props;return s.a.createElement(zp,u({},Hp(this.props),{status:"subscribed"===e.status?"subscribed":"add",onIconClick:this._onClick,onClick:this._onClick}))}}),Gp="0px 0px 0px 0px";n(150),n(143),s.a.Component;s.a.Component;var Vp=function(e){function t(){return e.apply(this,arguments)||this}J(t,e);var n=t.prototype;return n.handleClick=function(e,t){(this.props.onClick&&this.props.onClick(e),e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},n.render=function(){var e=this,t=this.props,n=t.innerRef,r=(t.replace,t.to),o=ne(t,["innerRef","replace","to"]);return s.a.createElement(oe.Consumer,null,function(t){t||y(!1);var a="string"==typeof r?k(r,null,null,t.location):r,i=a?t.history.createHref(a):"";return s.a.createElement("a",u({},o,{onClick:function(n){return e.handleClick(n,t.history)},href:i,ref:n}))})},t}(s.a.Component);const Kp=ps(e=>({location:e.router.location}))(e=>{let{location:t,to:n}=e,r=ne(e,["location","to","dispatch"]);const o=Tu(t,n);return s.a.createElement(Vp,u({to:o},r))}),Zp=gu("category-item-view"),Yp=()=>s.a.createElement("div",{className:Zp("icon",{isLoading:!0})}),Qp=(e=>{const t=t=>{const n=Object(r.useMemo)(no,[]),{zenApi:o}=Oa(),a=Object.assign({},t,{zenApi:o});return s.a.createElement(e,u({},t,{logger:n(a)}))};return t.displayName=wa("WithBulkStatLogger",e),Object(r.memo)(t)})(((e,{isVerticalIntersectionOnly:t}={isVerticalIntersectionOnly:!1})=>{var n,o;return o=n=class extends r.PureComponent{constructor(...e){var n;return n=super(...e),this.state={isVisible:!1,isIntersecting:!1,isObserving:!1},this._node=null,this._intersectionObserver=null,this._rootRef=(e=>{this._unobserve(),e&&this._observe(e),this.props.rootRef&&this.props.rootRef(e)}),this._onIntersectionChange=(e=>{const n=e[e.length-1],{visibilityThreshold:r}=this.props,s=t?(({boundingClientRect:e,intersectionRect:t})=>t.height/e.height||0)(n)>=r:n.intersectionRatio>=r;this.setState({isIntersecting:n.isIntersecting,isVisible:s,isObserving:!0})}),n}_ensureIntersectionObserverInstance(){if(this._intersectionObserver)return;const{visibilityThreshold:e}=this.props,{root:n,rootMargin:r=Gp}=this.props,s=[0,1-e,e,1];t&&s.push(.3,.5,.7);const o={root:n,rootMargin:r,threshold:s.sort((e,t)=>e-t)};this._intersectionObserver=new IntersectionObserver(this._onIntersectionChange,o)}_observe(e){this._ensureIntersectionObserverInstance(),this._node=e,this._intersectionObserver&&this._intersectionObserver.observe(this._node)}_unobserve(){this._intersectionObserver&&this._intersectionObserver.disconnect(),this._node=null}componentWillUnmount(){this._unobserve()}render(){const{isVisible:t,isIntersecting:n,isObserving:r}=this.state;return s.a.createElement(e,u({},this.props,{rootRef:this._rootRef,isVisible:t,isIntersecting:n,isObserving:r}))}},n.defaultProps={visibilityThreshold:.8},o})((e=>{const t=t=>{const{isVisible:n,logger:r,onShow:o,sendShow:a,sendDeepwatch:i,loggerParams:c}=t;return s.a.createElement(St,{logger:r,onShow:o,isVisible:n,sendShow:a,sendDeepwatch:i,loggerParams:c},s.a.createElement(e,t))};return t.displayName=wa("WithShowLogger",e),t})((e=>{return class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._onClick=(e=>{const{logger:t,onClick:n}=this.props;t.log("click"),n&&n(e)}),t}render(){return s.a.createElement(e,u({},this.props,{onClick:this._onClick}))}}})(({image:e,title:t,name:n,rootRef:r,className:o,onClick:a})=>s.a.createElement(Kp,{className:gu.mix(Zp(),o),onClick:a,innerRef:r,to:`${ut}/${n}`},e?s.a.createElement(Id,{src:e},(t,n)=>"success"===n?(e=>s.a.createElement("div",{className:Zp("icon"),style:{backgroundImage:`url('${e}')`}}))(e):Yp()):Yp(),s.a.createElement("div",{className:Zp("title")},t))))));n(135);const Jp=gu("channel-card-grid"),Xp=({component:e,cards:t,cardsInRow:n})=>{const o=Math.ceil(t.length/n),a=new Array(o);for(let i=0;i<o*n;i++){const o=Math.floor(i/n),c=i%n;a[o]||(a[o]=new Array(n)),a[o][c]=i<t.length?s.a.createElement(r.Fragment,{key:i},s.a.createElement(e,t[i])):s.a.createElement("div",{key:i,className:Jp("placeholder")})}return s.a.createElement("div",{className:Jp()},a.map((e,t)=>s.a.createElement("div",{key:t,className:Jp("row")},e)))},eh={1:3,2:5,3:7},th=gu("desktop-channels-view"),nh=up(Cp),rh=up(Mp);const sh=ep(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._onSearchChange=(e=>{this.props.onSearchChange(e.currentTarget.value.substr(0,Sr))}),t}_renderSuggest(){const{columnCount:e,suggestSources:t,l10n:n}=this.props,r=eh[e];if(0===t.length)return null;const o=t.slice(0,r).map(e=>({key:e.id,size:"s",source:e,place:Fe.Carousel,pageType:Ue.Carousel}));return s.a.createElement("div",{className:th("suggest")},s.a.createElement("h3",{className:th("suggest-title")},n("suggest.headers.recommeded_channels")),s.a.createElement(Xp,{component:$p,cards:o,cardsInRow:r}))}_renderCategories(){const{categories:e,l10n:t}=this.props;return s.a.createElement("div",{className:th("categories")},s.a.createElement("h3",{className:th("categories-title")},t("channels.top-title")),s.a.createElement("div",{className:th("category-list")},Object.keys(e).map(t=>s.a.createElement(Qp,u({key:t},e[t],{className:th("category-item")})))))}_renderPlaceholder(){const{containerRef:e,height:t,columnCount:n,isCategoriesFetchThresholdPassed:r}=this.props,o=eh[n],a=new Array(o).fill(null).map(()=>({size:"s"}));return s.a.createElement(pp,{ref:e,className:th(),style:{minHeight:t},isAnimated:r},s.a.createElement(nh,{size:"2"}),s.a.createElement(rh,{className:th("search"),size:"l"}),s.a.createElement(nh,{size:"3"}),s.a.createElement(dp,null,s.a.createElement(Xp,{component:jp,cards:a,cardsInRow:o})))}_renderSuccess(){const{containerRef:e,searchValue:t,searchStatus:n,searchResultSources:r,onSearchClear:o,onSearchRetry:a,enableCloseOnEscClick:i,disableCloseOnEscClick:c,isSearchFetchThresholdPassed:l,isInterestsEnabled:u,l10n:d}=this.props;return s.a.createElement("div",{ref:e,className:th()},s.a.createElement("h2",{className:th("title")},d("navigate_bar.channels")),s.a.createElement(vp,{mode:"default",value:t,status:n,sources:r,isFetchThresholdPassed:l,isInterestsEnabled:u,onChange:this._onSearchChange,onClear:o,onFocus:c,onBlur:i,onRetry:a},({ref:e})=>s.a.createElement("div",{ref:e,className:th("content")},this._renderSuggest(),this._renderCategories())))}_renderError(){const{containerRef:e,onRetry:t,l10n:n}=this.props;return s.a.createElement("div",{ref:e,className:th({type:"error"})},s.a.createElement("h2",{className:th("title")},n("navigate_bar.channels")),s.a.createElement(ap,{title:n("blocked.desktop.failure"),onClick:t}))}render(){switch(this.props.categoriesStatus){case Ee.Pending:return this._renderPlaceholder();case Ee.Success:return this._renderSuccess();case Ee.Error:return this._renderError();default:return null}}}),oh=e=>{if(!e)return!0;for(const t in e)if(e.hasOwnProperty(t))return!1;return!0};var ah=ps(e=>{const{data:t}=e.categories;return{columnCount:Tn(e),categories:t&&t.list||{},searchResultSources:Ge(e)||[],suggestSources:qe(e)||[],filter:e.search.filter,isInterestsEnabled:ln(e)}},{fetchCategories:Wl,updateSuggest:Ml})(Gu({categoriesAsyncProps:{fetch:({fetchCategories:e})=>e(),fetchThreshold:200},searchAsyncProps:{fetch:({updateSuggest:e},t)=>e(t),fetchThreshold:200}})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={},this._fetchCategories=this._withAsyncStatus({fetch:()=>this.props.categoriesAsyncProps.fetch()}),this._clearSearch=(()=>{this.props.searchAsyncProps.fetch("")}),this._onSearchRetry=(()=>{const{filter:e,searchAsyncProps:t}=this.props;t.fetch(e)}),t}_withAsyncStatus({fetch:e,withAnimation:t=!0}){return(...n)=>(this.props.setStatus(Ee.Pending,{withAnimation:t}),e(...n).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:t}),e)))}componentDidMount(){const{categories:e,suggestSources:t}=this.props;(oh(e)||oh(t))&&(this._clearSearch(),this._fetchCategories())}static getDerivedStateFromProps(e){const{categories:t,suggestSources:n,setStatus:r}=e;return oh(t)||oh(n)||r(Ee.Success),null}componentWillUnmount(){this._clearSearch()}render(){const e=this.props,{categoriesAsyncProps:t,status:n,searchAsyncProps:r,filter:o,searchResultSources:a}=e,i=ne(e,["categoriesAsyncProps","status","searchAsyncProps","filter","searchResultSources"]);return s.a.createElement(sh,u({},i,{categoriesStatus:n,isCategoriesFetchThresholdPassed:t.isFetchThresholdPassed,searchValue:o,searchResultSources:a,onSearchChange:r.fetch,onSearchClear:this._clearSearch,onSearchRetry:this._onSearchRetry,searchStatus:r.status,isSearchFetchThresholdPassed:r.isFetchThresholdPassed,onRetry:this._fetchCategories}))}}));const ih=e=>({columnCount:Tn(e),sources:Ve(e),subbedWhileOnboarding:e.onboarding.subbedWhileOnboarding,statEvents:e.onboarding.statEvents,bulkParams:e.onboarding.bulkParams,isReady:Object.keys(e.onboarding.subbedWhileOnboarding).length>0});n(132),n(133),n(134);const ch=wu("avatar"),lh=(...e)=>e.filter(Boolean).map(e=>`url('${e}')`).join(","),uh=e=>{return Object(r.forwardRef)((t,n)=>{const{src:r}=t,o=ne(t,["src"]),a=vu(o,{className:ch({isButton:"a"===e||"button"===e}),style:{backgroundImage:lh(r,"https://avatars.mds.yandex.net/get-yapic/0/0-0/islands-middle")}});return s.a.createElement(e,u({ref:n},a))})};uh("div");const dh=gu("onboarding-profile-view"),ph=uh("span"),hh=ps(e=>{const t=e.auth.info;return{loginLink:e.links.login,isAuthorized:t.isAuthorized,name:t.displayName,avatar:t.avatar}})(e=>{const{l10n:t}=Xd();if(e.isAuthorized){const{name:t,avatar:n}=e;return s.a.createElement("div",{className:dh()},s.a.createElement(ph,{className:dh("avatar"),src:n}),s.a.createElement("div",{className:dh("name")},t))}{const{loginLink:n}=e;return s.a.createElement("a",{className:dh(),href:n,rel:"noopener"},s.a.createElement("div",{className:dh("log-in")},t("navigate_bar.enter_profile")))}}),fh={1:3,2:5,3:7},mh=gu("desktop-onboarding-view"),gh=(e=>{const t=t=>{const{columnCount:n,sources:o,subbedWhileOnboarding:a,statEvents:i,bulkParams:c,isReady:l}=ys(ih,Jr),d=ms(),p=Object(r.useMemo)(ro,[]),{zenApi:h}=Oa(),f=p({statEvents:i,bulkParams:c},h),m=vd(()=>0!==Object.keys(a).length);Object(r.useEffect)(()=>(d({type:"START_ONBOARDING",payload:null}),f.log("onboarding:show"),()=>{m()&&d({type:"START_ONBOARDING_ANIMATION",payload:null})}),[]);const g=Object(r.useCallback)(()=>{m()&&d(e=>{e(Nu("MODAL_CLOSE_REASON_ACCEPT"))})},[m,d]);return s.a.createElement(e,u({},t,{columnCount:n,sources:o,isReady:l,onReady:g}))};return t.displayName=wa("WithOnboardingLogic",e),Object(r.memo)(t)})(Object(r.memo)(e=>{const{containerRef:t,sources:n,columnCount:r,isReady:o,onReady:a}=e,{l10n:i}=Xd(),c=fh[r],l=n.map(e=>({key:e.id,size:"s",source:e,place:Fe.Onboarding,pageType:Ue.Onboarding}));return s.a.createElement("div",{ref:t,className:mh({columnCount:r})},s.a.createElement("div",{className:mh("header")},s.a.createElement("h2",{className:mh("title")},i("onboarding.new.title")),s.a.createElement(hh,null)),s.a.createElement("p",{className:mh("subtitle")},i("onboarding.new.subtitle")),s.a.createElement("div",{className:mh("sources")},s.a.createElement(Xp,{component:qp,cards:l,cardsInRow:c})),s.a.createElement("div",{className:mh("ready-outer")},s.a.createElement("button",{className:mh("ready",{isReady:o}),onClick:a},i("onboarding.new.ready"))))}));var bh=ps(e=>({searchSources:Ge(e)||[],filter:e.search.filter,isInterestsEnabled:ln(e)}),{updateSuggest:Ml})(Gu({searchAsyncProps:{fetch:({updateSuggest:e},t)=>e(t),fetchThreshold:200}})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._clearSearch=(()=>{this.props.searchAsyncProps.fetch("")}),this._onSearchRetry=(()=>{const{filter:e,searchAsyncProps:t}=this.props;t.fetch(e)}),t}componentDidMount(){this._clearSearch()}componentWillUnmount(){this._clearSearch()}render(){const e=this.props,{searchAsyncProps:t,filter:n,searchSources:r}=e,o=ne(e,["searchAsyncProps","filter","searchSources"]);return s.a.createElement(_p,u({},o,{searchValue:n,searchSources:r,searchStatus:t.status,isSearchFetchThresholdPassed:t.isFetchThresholdPassed,onSearchChange:t.fetch,onSearchClear:this._clearSearch,onSearchRetry:this._onSearchRetry}))}}));n(137),n(141);const yh=e=>new Promise(t=>{setTimeout(t,e)}),vh=wu("button"),Eh=(e=>{class t extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isHovered:!1,isActive:!1,isTransitionEnabled:!0},this._containerRef=Object(r.createRef)(),this._composeContainerRefs=uu(),this._listenerStorage=new _u,this._isMounted=!1,t}_setState(e){return new Promise(t=>{this._isMounted&&this.setState(e,t)})}_setStateOnNextTick(e){return yh(0).then(()=>this._setState(e))}_addHoverHandlers(){const e=this._containerRef.current;e&&(this._listenerStorage.add(e,"mouseenter",()=>{this.setState({isHovered:!0})}),this._listenerStorage.add(e,"mouseleave",()=>{this.setState({isHovered:!1})}))}_addActiveHandlers(){const e=this._containerRef.current;if(!e)return;const[t,n]="ontouchstart"in window?["touchstart","touchend"]:["mousedown","mouseup"];this._listenerStorage.add(e,t,()=>{this._setState({isTransitionEnabled:!1}).then(()=>this._setStateOnNextTick({isActive:!0})).then(()=>{const e=this._listenerStorage.add(document,n,()=>{e(),this._setState({isActive:!1}).then(()=>this._setStateOnNextTick({isTransitionEnabled:!0}))})})}),this._listenerStorage.add(window,"blur",()=>{this._setState({isActive:!1,isHovered:!1,isTransitionEnabled:!0})})}componentDidMount(){this._isMounted=!0,"ontouchstart"in window||this._addHoverHandlers(),this._addActiveHandlers()}componentWillUnmount(){this._isMounted=!1,this._listenerStorage.clear()}render(){const t=this.props,{containerRef:n,size:r,viewType:o,icon:a,iconClass:i,renderIcon:c,children:l,widthType:d}=t,p=ne(t,["containerRef","size","viewType","icon","iconClass","renderIcon","children","widthType"]),{isHovered:h,isActive:f,isTransitionEnabled:m}=this.state,g=Boolean(a||c),b=a?{backgroundImage:`url(${a})`}:void 0,y=vh({size:r,viewType:o,isHovered:h,isActive:f,isTransitionEnabled:m,hasIcon:g,widthType:d}),v=vu(p,{className:y});return s.a.createElement(e,u({ref:this._composeContainerRefs(this._containerRef,n)},v),s.a.createElement("div",{className:vh("content-wrapper")},g&&s.a.createElement("span",{className:bu(vh("icon",{size:r}),i),style:b},c&&c()),l))}}return t.defaultProps={widthType:"regular"},Object(r.forwardRef)((e,n)=>s.a.createElement(t,u({},e,{containerRef:n})))})("button");n(139);const _h=gu("add-channel-card"),Sh=e=>{let{size:t="s",className:n}=e,r=ne(e,["size","className"]);const{l10n:o}=Xd(),a=bu(_h({size:t}),n);return s.a.createElement("button",u({},r,{className:a}),s.a.createElement("div",{className:_h("wrapper")},s.a.createElement("div",{className:_h("image")}),s.a.createElement("div",{className:_h("text")},o("subs.add-channel"))))},wh="s",kh={2:5,3:7},Ch=gu("desktop-subs-view"),Oh=up(Cp);const Rh=ep(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._sourcesSelector=Jd(),t}_renderChannelCardRows(e){const{columnCount:t}=this.props,n=kh[t],o=Math.ceil(e.length/n),a=new Array(o);for(let t=0;t<o*n;t++){const o=Math.floor(t/n),i=t%n;a[o]||(a[o]=new Array(n)),a[o][i]=t<e.length?s.a.createElement(r.Fragment,{key:t},e[t]):s.a.createElement("div",{key:t,className:Ch("channel-card-placeholder")})}return s.a.createElement("div",{className:Ch("channel-cards")},a.map((e,t)=>s.a.createElement("div",{key:t,className:Ch("channel-cards-row")},e)))}_renderSubsChannelCardsPlain(){const{subsSources:e,onAddChannelCardClick:t}=this.props,n=e.map(e=>s.a.createElement(Wp,{key:e.id,size:wh,source:e,target:"_blank",place:Fe.Subs,pageType:Ue.Subs}));return n.push(s.a.createElement(Sh,{key:"add-channel-card",size:wh,onClick:t})),this._renderChannelCardRows(n)}_renderSubsChannelCardsBlocks(){const{subsSources:e,onAddChannelCardClick:t,selfSubscriptions:n,l10n:r}=this.props,{userSources:o,interestSources:a,channelSources:i}=this._sourcesSelector(e);return[{key:"users",title:r("preferences.users"),sources:o,withAddCard:!1},{key:"interests",title:r("profile.interests-title"),sources:a,withAddCard:!1},{key:"channels",title:r("preferences.channels"),sources:i,withAddCard:Boolean(n)}].map(({key:e,title:n,sources:r,withAddCard:o})=>{if(0===r.length&&!o)return null;const a=r.map(e=>s.a.createElement(Wp,{key:e.id,size:wh,source:e,target:"_blank",place:Fe.Subs,pageType:Ue.Subs}));return o&&a.push(s.a.createElement(Sh,{key:"add-channel-card",size:wh,onClick:t})),s.a.createElement("div",{key:e,className:Ch("channel-group")},s.a.createElement("div",{className:Ch("channel-group-title")},n),this._renderChannelCardRows(a))})}_renderSubsChannelCards(){const{isInterestsEnabled:e}=this.props;return e?this._renderSubsChannelCardsBlocks():this._renderSubsChannelCardsPlain()}_renderSuggestChannelCards(){const{columnCount:e,carouselSources:t}=this.props,n=kh[e],r=t.slice(0,n).map(e=>s.a.createElement(Wp,{key:e.id,type:"subscribe",size:wh,source:e,target:"_blank",place:Fe.Carousel,pageType:Ue.Carousel}));return this._renderChannelCardRows(r)}_renderChannelCardPlaceholderRow(){const{columnCount:e}=this.props,t=kh[e],n=[];for(let e=0;e<t;e++)n.push(s.a.createElement(jp,{key:e,size:wh}));return this._renderChannelCardRows(n)}_renderSubs(){const{containerRef:e,isInterestsEnabled:t,selfSubscriptions:n,displayName:r,subsSources:o,isSocialProfileEnabled:a,l10n:i}=this.props,c=t?{marginBottom:7}:void 0;return s.a.createElement("div",{ref:e,className:Ch({type:"subs"})},a?s.a.createElement("h3",{className:Ch("owner-title")},n?i("subs.my"):r):null,s.a.createElement("div",{className:Ch("header")},s.a.createElement("h2",{className:Ch("title"),style:c},i("navigate_bar.subs")),s.a.createElement("span",{className:Ch("sources-count")},o.length)),this._renderSubsChannelCards())}_renderEmptySubs(){const{containerRef:e,carouselSources:t,onFindChannelsClick:n,selfSubscriptions:r,l10n:o}=this.props,a=t.length>0;return s.a.createElement("div",{ref:e,className:Ch({type:"empty"})},s.a.createElement("h2",{className:Ch("title")},o(r?"subs.empty":"subs.other-empty")),r?s.a.createElement(s.a.Fragment,null,s.a.createElement(Eh,{size:"m",viewType:"blue",onClick:n},o("subs.find-channels")),a&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:Ch("sub-title")},o("suggest.headers.recommeded_channels")),this._renderSuggestChannelCards())):null)}_renderPlaceholder(){const{containerRef:e,height:t,isFetchThresholdPassed:n}=this.props;return s.a.createElement(pp,{ref:e,className:Ch({type:"placeholder"}),style:{minHeight:t},isAnimated:n},s.a.createElement(Oh,{size:"2"}),s.a.createElement(dp,{style:{marginBottom:20}},this._renderChannelCardPlaceholderRow()),s.a.createElement(dp,null,this._renderChannelCardPlaceholderRow()))}_renderError(){const{containerRef:e,onRetry:t,selfSubscriptions:n,displayName:r,isSocialProfileEnabled:o,l10n:a}=this.props;return s.a.createElement("div",{ref:e,className:Ch({type:"error"})},o?s.a.createElement("h3",{className:Ch("owner-title")},n?a("subs.my"):r):null,s.a.createElement("div",{className:Ch("header")},s.a.createElement("h2",{className:Ch("title")},a("navigate_bar.subs"))),s.a.createElement(ap,{title:a("blocked.desktop.failure"),onClick:t}))}render(){const{status:e,wasNoSubs:t}=this.props;switch(e){case Ee.Pending:return this._renderPlaceholder();case Ee.Success:return t?this._renderEmptySubs():this._renderSubs();case Ee.Error:return this._renderError()}}});const Th=Tl(e=>(t,n)=>t(da(e)).then(()=>{const r=n(),s=vr(r,e).data,o=Rr(r,e);if(s&&0===s.length&&o)return t(Wl())}));var Ah=ps(()=>{const e=Object(Z.createSelector)(e=>e.sources,vr,(e,{data:t})=>t.ids.map(n=>Object.assign({},t.sources[n],e[n]))),t=[];return n=>{const r=Or(n),s=Rr(n,r),o=s?qe(n):t,a=dn(n),i=ra(n,r);return{isSocialProfileEnabled:a,userId:r,displayName:i.data&&i.data.name||void 0,selfSubscriptions:s,subsSources:e(n,r),carouselSources:o,columnCount:Tn(n),isInterestsEnabled:ln(n)}}},{pushWithPreservedSearch:Au,fetchPreferencesWithSuggest:Th,getUserProfile:pa})(Gu({preferencesAsyncProps:{fetch:({isSocialProfileEnabled:e,selfSubscriptions:t,userId:n,fetchPreferencesWithSuggest:r,getUserProfile:s})=>{let o=Promise.resolve();return e&&!t&&(o=s(n)),Promise.all([r(n),o])},fetchThreshold:200}})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isCompleteStatus:!1,carouselSourceIds:null,wasNoSubs:!1},this._filteredSuggestChannelsSelector=Object(Z.createSelector)(e=>e.carouselSources,(e,t)=>t.carouselSourceIds,(e,t)=>t?(e||[]).filter(e=>t.includes(e.id)):[]),this._fetchSubs=this._withAsyncStatus({fetch:()=>this.props.preferencesAsyncProps.fetch()}),this._goToChannels=(()=>{this.props.pushWithPreservedSearch(ut)}),t}_withAsyncStatus({fetch:e,withAnimation:t=!0}){return(...n)=>(this.props.setStatus(Ee.Pending,{withAnimation:t}),e(...n).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:t}),e)))}static getDerivedStateFromProps(e,t){const n=e.preferencesAsyncProps.status===Ee.Success;return t.isCompleteStatus===n?null:n?{isCompleteStatus:n,carouselSourceIds:(e.carouselSources||[]).reduce((e,t)=>("subscribed"!==t.status&&e.push(t.id),e),[])}:{isCompleteStatus:!1,carouselSourceIds:null}}componentDidMount(){this._fetchSubs()}componentDidUpdate({status:e}){const{subsSources:t,status:n}=this.props;n===Ee.Success&&e===Ee.Pending&&0===t.length&&this.setState({wasNoSubs:!0})}render(){const e=this.props,{preferencesAsyncProps:t}=e,n=ne(e,["preferencesAsyncProps"]),{wasNoSubs:r}=this.state;return s.a.createElement(Rh,u({},n,{wasNoSubs:r,carouselSources:this._filteredSuggestChannelsSelector(this.props,this.state),onAddChannelCardClick:this._goToChannels,onFindChannelsClick:this._goToChannels,onRetry:this._fetchSubs,isFetchThresholdPassed:t.isFetchThresholdPassed}))}}));n(154);const Ph=gu("blocked-view"),Nh=up(Cp),Ih=up(Mp),xh=up(cp);const Lh=ep(class extends r.Component{constructor(...e){var t;return t=super(...e),this._onSearchQueryChange=(e=>{this.props.suggest(e.currentTarget.value.substr(0,Sr))}),this._onSearchClear=(()=>{this.props.suggest("")}),t}_renderNormalList(e){const{blockedSources:t,l10n:n}=this.props;return s.a.createElement("div",{ref:e,className:Ph("blocked")},0===t.length?s.a.createElement("div",{className:Ph("sub-title")},n("blocked.empty")):s.a.createElement(np,{sources:t,mode:"block",place:Fe.Blocked,pageType:Ue.Blocked}))}_renderNormal(){const{containerRef:e,filter:t,searchStatus:n,searchSources:r,onSearchRetry:o,enableCloseOnEscClick:a,disableCloseOnEscClick:i,isSearchFetchThresholdPassed:c,isInterestsEnabled:l,l10n:u}=this.props;return s.a.createElement("div",{ref:e,className:Ph()},s.a.createElement("h2",{className:Ph("title")},u(l?"preferences.blocked":"blocked.desktop.title")),s.a.createElement(vp,{mode:"block",value:t,status:n,sources:r,isFetchThresholdPassed:c,isInterestsEnabled:l,onChange:this._onSearchQueryChange,onClear:this._onSearchClear,onFocus:i,onBlur:a,onRetry:o},({ref:e})=>this._renderNormalList(e)))}_renderLoading(){const{containerRef:e,height:t,isBlockedFetchThresholdPassed:n}=this.props;return s.a.createElement(pp,{ref:e,className:Ph(),style:{minHeight:null!==t?t:void 0},isAnimated:n},s.a.createElement(Nh,{size:"2"}),s.a.createElement(Ih,{className:Ph("search-placeholder"),size:"l"}),s.a.createElement(xh,{className:Ph("row-placeholder"),size:"s"}),s.a.createElement(xh,{className:Ph("row-placeholder"),size:"s"}),s.a.createElement(xh,{className:Ph("row-placeholder"),size:"s"}))}_renderFailed(){const{containerRef:e,isInterestsEnabled:t,onRetry:n,l10n:r}=this.props;return s.a.createElement("div",{ref:e,className:Ph({type:"error"})},s.a.createElement("h2",{className:Ph("title")},r(t?"preferences.blocked":"blocked.desktop.title")),s.a.createElement(ap,{title:r("blocked.desktop.failure"),onClick:n}))}render(){const{blockedStatus:e}=this.props;switch(e){case Ee.Pending:return this._renderLoading();case Ee.Error:return this._renderFailed();case Ee.Success:return this._renderNormal();default:return null}}});var jh=ps(()=>{const e=Object(Z.createSelector)(e=>e.sources,Er,(e,{data:t})=>t.ids.map(n=>Object.assign({},t.sources[n],e[n])));return t=>{const n=Or(t),{filter:r}=t.search;return{userId:n,filter:r,searchSources:Ge(t)||[],blockedSources:e(t,n),isInterestsEnabled:ln(t)}}},{updateSuggest:Ml,getUserPreferences:da},null,{pure:!1})(Gu({blocked:{fetch:({userId:e,getUserPreferences:t})=>t(e),fetchThreshold:200},search:{fetch:({updateSuggest:e},t)=>e(t,!0),fetchThreshold:200}})(class extends r.Component{constructor(...e){var t;return t=super(...e),this._fetchBlocked=this._withAsyncStatus({fetch:()=>this.props.blocked.fetch()}),this._clearSearch=(()=>{this.props.search.fetch("")}),this._onSearchRetry=(()=>{const{filter:e,search:t}=this.props;t.fetch(e)}),t}_withAsyncStatus({fetch:e,withAnimation:t=!0}){return(...n)=>(this.props.setStatus(Ee.Pending,{withAnimation:t}),e(...n).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:t}),e)))}componentDidMount(){this._clearSearch(),this._fetchBlocked()}componentWillUnmount(){this._clearSearch()}render(){const{containerRef:e,status:t,height:n,blocked:r,search:o,blockedSources:a,filter:i,searchSources:c,enableCloseOnEscClick:l,disableCloseOnEscClick:u,isInterestsEnabled:d}=this.props;return s.a.createElement(Lh,{containerRef:e,height:n,onRetry:this._fetchBlocked,blockedStatus:t,isBlockedFetchThresholdPassed:r.isFetchThresholdPassed,blockedSources:a,filter:i,suggest:o.fetch,searchStatus:o.status,isSearchFetchThresholdPassed:o.isFetchThresholdPassed,searchSources:c,onSearchRetry:this._onSearchRetry,enableCloseOnEscClick:l,disableCloseOnEscClick:u,isInterestsEnabled:d})}}));n(142),n(146);const Dh=gu("users-modal-item-placeholder-view");n(147);const Mh="https://avatars.mds.yandex.net/get-yapic/0/islands-retina-middle";const Uh=Object(r.createContext)(null),Fh=Object(r.createContext)(null),Bh=e=>{const{zenApi:t}=Oa(),n=Object(r.useContext)(Uh),s=Object(r.useMemo)(()=>null===n?{}:{rowIndex:n},[n]),o=Object(r.useContext)(Fh),a=Object(r.useMemo)(()=>{if(null!==o)return{__place_param__:o.place,__page_type__:o.pageType}},[o]);return vd((n,{bulkReplaceMap:r,eventReplaceMap:o,info:i})=>{if(!e)return;const{bulkParams:c,statEvents:l}=e;t.logBulkEvents(n,{statEvents:l,eventReplaceMap:o,bulkParams:c,bulkReplaceMap:Object.assign({},a,r),statMeta:s,info:i})})},zh=gu("users-modal-item-view"),Hh=(e=>{const t=t=>{const{bulkParams:n,statEvents:o}=t,a=ne(t,["bulkParams","statEvents"]),i={bulkParams:n,statEvents:o},c=(e=>{const t=Bh(e);return Object(r.useCallback)(()=>t("click",{}),[t])})(i),l=(e=>{const t=Bh(e);return Object(r.useCallback)(()=>t("show",{}),[t])})(i),d=Object.assign({},a,{onElemClick:c}),[p,h]=Sd();return wd({isVisible:h,onShow:l}),s.a.createElement(e,u({},d,{ref:p}))};return t.displayName=wa("WithShowClick",e),t})(s.a.forwardRef((e,t)=>{const{className:n,size:o,name:a,avatar:i,href:c,isDeleted:l,LinkComponent:u="a",onClick:d,onElemClick:p,rootRef:h}=e,{l10n:f}=Xd(),m=l?"div":u,g=l?f("comments.removed-user"):a,b={backgroundImage:`url(${i&&!l?i:Mh})`};let y,v;const E=h?((...e)=>Object(r.useCallback)(t=>{for(let n=0;n<e.length;n++){const r=e[n];"function"==typeof r?r(t):r&&(r.current=t)}},[e]))(t,h):t;return"div"!==m&&c?(y=s.a.createElement(m,{className:zh("avatar"),style:b,href:c,onClick:d}),v=s.a.createElement("div",{className:zh("name")},s.a.createElement(m,{className:zh("name-link"),href:c,onClick:d},g))):(y=s.a.createElement(m,{className:zh("avatar"),style:b,onClick:d}),v=s.a.createElement(m,{className:zh("name"),onClick:d},g)),s.a.createElement("div",{ref:E,className:gu.mix(zh({size:o}),n),onClick:p},y,s.a.createElement("div",{className:zh("bio")},v,!l&&(e=>{const{interests:t}=e;let n=0,r=0;if(!(Array.isArray(t)&&t.length>0))return null;for(const e in t){if((n+=t[e].length)+2*r>50)break;r+=1}return s.a.createElement("div",{className:zh("interests")},t.slice(0,r).join(", "))})(e)),!l&&((e,t)=>{const{viewType:n,onButtonClick:r}=e;if("default"===n)return null;const o="unsubscribe"===n;return s.a.createElement(Eh,{size:"s",viewType:o?"border":"yellow",onClick:r},t(o?"feedback.subscribed":"profile.subscribe"))})(e,f))})),Wh=gu("user-followers-desktop-view"),$h={place:Fe.Subscribers,pageType:Ue.Feed},qh=({className:e,style:t,href:n,children:r})=>s.a.createElement(Kp,{className:e,style:t,to:n,target:"_blank"},r),Gh=up(Cp),Vh=up(e=>{const{size:t}=e,n=ne(e,["size"]),r=vu(n,{className:Dh({size:t})});return s.a.createElement("div",r,s.a.createElement("div",{className:Dh("avatar")}),s.a.createElement("div",{className:Dh("bio")},s.a.createElement("div",{className:Dh("name")}),s.a.createElement("div",{className:Dh("interests")})))});const Kh=ep(class extends s.a.PureComponent{_getUserViewType(e){return"default"}_getSourceCount(){const{status:e,sources:t,sourceCount:n}=this.props;return n>=0?n:e===Ee.Success&&Array.isArray(t)?t.length:null}_renderPending(){const{containerRef:e,height:t,isFetchThresholdPassed:n}=this.props,r=this._getSourceCount(),o="number"==typeof r&&r>0?Math.min(r,5):5;return s.a.createElement(pp,{ref:e,className:Wh({type:"placeholder"}),style:{minHeight:`${t||0}px`},isAnimated:n},s.a.createElement(Gh,{className:Wh("owner-title-placeholder"),size:"3"}),s.a.createElement(Gh,{className:Wh("title-placeholder"),size:"2"}),new Array(o).fill(null).map((e,t)=>s.a.createElement(Vh,{key:t,className:Wh("user-placeholder"),size:"h"})))}_renderComplete(){const{containerRef:e,isSelfFollowers:t,displayName:n,sources:r,onToggleSubscribe:o,l10n:a}=this.props,i=this._getSourceCount();return s.a.createElement("div",{ref:e,className:Wh()},s.a.createElement("h3",{className:Wh("owner-title")},t?a("subs.my"):n),s.a.createElement("div",{className:Wh("header")},s.a.createElement("h2",{className:Wh("title")},a("profile.followers.title")),s.a.createElement("span",{className:Wh("sources-count")},i)),s.a.createElement("div",{className:Wh("users")},r.map(e=>s.a.createElement(Fh.Provider,{key:e.id,value:$h},s.a.createElement(Hh,u({},e,{viewType:this._getUserViewType(e),className:Wh("user"),size:"h",name:e.title,avatar:e.logo,href:ue(pt,{uid:e.id}),LinkComponent:qh,onButtonClick:()=>o(e)}))))))}_renderCompleteEmpty(){const{containerRef:e,isSelfFollowers:t,l10n:n}=this.props;return s.a.createElement("div",{ref:e,className:Wh({type:"empty"})},s.a.createElement("h2",{className:Wh("title")},n(t?"profile.followers-empty":"profile.followers-other-empty")))}_renderError(){const{containerRef:e,onRetry:t,l10n:n}=this.props;return s.a.createElement("div",{ref:e,className:Wh({type:"error"})},s.a.createElement("h2",{className:Wh("title")},n("profile.followers.title")),s.a.createElement(ap,{title:n("blocked.desktop.failure"),onClick:t}))}render(){const{status:e,sources:t}=this.props;switch(e){case Ee.Pending:return this._renderPending();case Ee.Success:return Array.isArray(t)&&t.length>0?this._renderComplete():this._renderCompleteEmpty();case Ee.Error:return this._renderError()}}}),Zh={fetch:async({userId:e,getUserProfile:t,getUserFollowers:n})=>{await Promise.all([t(e),n(e)])},fetchThreshold:200};const Yh={getUserProfile:pa,getUserFollowers:ma},Qh=Ra(({zenApi:e})=>({zenApi:e}))(ps(()=>{const e=(e,t)=>{const n=_r(e,t).data;return n.ids.map(e=>n.sources[e])};return t=>{const n=Or(t),r=Cr(t),s=ra(t,n),o=e(t,n);return{userId:n,selfUserId:r,displayName:s.data&&s.data.name,sources:o,sourceCount:s.data&&s.data.followerCount,isSelfFollowers:Rr(t,n)}}},Yh)(bd(Gu({followersAsyncProps:Zh})(class extends s.a.PureComponent{constructor(...e){var t;return t=super(...e),this._getUserFollowers=this._withAsyncStatus({fetch:()=>this.props.followersAsyncProps.fetch()}),this._onToggleSubscribe=(e=>{const{onToggleSubscribe:t,zenApi:n}=this.props;t({source:e,logger:ro()({source:e,place:Fe.Feed,pageType:Ue.Feed},n)})}),t}_withAsyncStatus(e){let{fetch:t,withAnimation:n=!0}=e;return(...e)=>(this.props.setStatus(Ee.Pending,{withAnimation:n}),t(...e).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:n}),e)))}componentDidMount(){this._getUserFollowers()}render(){const{containerRef:e,selfUserId:t,status:n,height:r,sources:o,followersAsyncProps:a,isSelfFollowers:i,displayName:c,sourceCount:l}=this.props;return s.a.createElement(Kh,{containerRef:e,selfUserId:t,status:n,height:r,sources:o,isFetchThresholdPassed:a.isFetchThresholdPassed,isSelfFollowers:i,displayName:c,sourceCount:l,onRetry:this._getUserFollowers,onToggleSubscribe:this._onToggleSubscribe})}})))),Jh="https://forms-ext-api.yandex.ru/v1/surveys/3968/form/",Xh={Accept:"*/*","Content-Type":"application/x-www-form-urlencoded; charset=utf-8","X-FRONTEND-AUTHORIZATION":"Ib5geeJ#lae]x3ChEyi1thi"},ef=(e=3e4)=>new Promise((t,n)=>{setTimeout(()=>n(new Error("Request timeout")),e)}),tf=["clid","product","partner","clidName"],nf=["deviceId","email","login","uid","yandexuid"],rf=[...tf,...nf],sf=["requestId","displayName","clid",...nf],of=[...sf,...tf];n(155),n(158);const af=({value:e=""})=>{const t=e.split(/\r?\n/g);return s.a.createElement(s.a.Fragment,null,t.map((e,t)=>s.a.createElement(r.Fragment,{key:t},e,s.a.createElement("br",null))))},cf=wu("textarea");class lf extends s.a.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isHovered:!1,isFocused:!1},this.handleEnter=(()=>this.setState({isHovered:!0})),this.handleLeave=(()=>this.setState({isHovered:!1})),this.handleFocus=(()=>this.setState({isFocused:!0})),this.handleBlur=(e=>{this.setState({isFocused:!1}),"function"==typeof this.props.onBlur&&this.props.onBlur(e)}),t}render(){const e=this.props,{size:t,isReadOnly:n,isDisabled:r,isAutoComplete:o,isError:a,label:i,caption:c,className:l,name:d,value:p,withMinHeightAuto:h}=e,f=ne(e,["size","isReadOnly","isDisabled","isAutoComplete","isError","label","caption","className","name","value","withMinHeightAuto"]),{isHovered:m,isFocused:g}=this.state,b={size:t,isHovered:m,isFocused:g,isError:a,isDisabled:r,withMinHeightAuto:h};return s.a.createElement(s.a.Fragment,null,i,s.a.createElement("div",{className:wu.mix(cf(b),l),onMouseEnter:this.handleEnter,onMouseLeave:this.handleLeave},s.a.createElement("div",{className:cf("control",{hiddenSourceSize:!0})},s.a.createElement(af,{value:p})),s.a.createElement("textarea",u({},f,{className:cf("control"),value:p,name:d,readOnly:n,disabled:r,autoComplete:o?"on":"off",onFocus:this.handleFocus,onBlur:this.handleBlur})),s.a.createElement("div",{className:cf("box")})),c)}}lf.defaultProps={size:"m",value:"",isReadOnly:!1,isDisabled:!1,isAutoComplete:!1,isError:!1,withMinHeightAuto:!1};n(159);const uf=wu("input"),df=Object(r.memo)(e=>{const{size:t="m",value:n="",isReadOnly:o=!1,isDisabled:a=!1,isPointer:i=!1,isError:c=!1,isAutoComplete:l=!1,label:d,caption:p,className:h,style:f,inputRef:m,icon:g,renderPlaceholder:b,onBlur:y}=e,v=ne(e,["size","value","isReadOnly","isDisabled","isPointer","isError","isAutoComplete","label","caption","className","style","inputRef","icon","renderPlaceholder","onBlur"]),[E,_]=Object(r.useState)(!1),[S,w]=Object(r.useState)(!1),k={size:t,isHovered:E,isFocused:S,isError:c,isDisabled:a,isPointer:i},C=Object(r.useCallback)(()=>_(!0),[]),O=Object(r.useCallback)(()=>_(!1),[]),R=Object(r.useCallback)(()=>w(!0),[]),T=Object(r.useCallback)(e=>{w(!1),"function"==typeof y&&y(e)},[y]);return s.a.createElement(s.a.Fragment,null,d,s.a.createElement("div",{className:wu.mix(uf(k),h),style:f,onMouseEnter:C,onMouseLeave:O},s.a.createElement("input",u({},v,{type:"text",ref:m,value:n,className:uf("control"),readOnly:o,disabled:a,autoComplete:l?"on":"off",onFocus:R,onBlur:T})),(({Placeholder:e,value:t,isFocused:n})=>""!==t||n||!e?null:s.a.createElement("div",{className:uf("placeholder-container")},s.a.createElement(e,null)))({Placeholder:b,value:n,isFocused:S}),s.a.createElement("div",{className:uf("box")}),g&&s.a.createElement("div",{className:uf("icon")},g)),p)});let pf;!function(e){e.Angry="angry",e.Soso="soso",e.Happy="happy"}(pf||(pf={}));const hf=[pf.Angry,pf.Soso,pf.Happy];n(157);const ff=gu("input-view"),mf=({onChange:e,title:t,value:n,error:o,errorText:a,inputComponent:i})=>{const c=Object(r.useCallback)(t=>{e(t.target.value)},[e]);return s.a.createElement("label",{className:ff({error:o})},s.a.createElement("div",{className:ff("label")},t),s.a.createElement(i,{isError:o,value:n,onChange:c}),o&&a?s.a.createElement("div",{className:ff("error-label")},a):null)};n(156);const gf=gu("face-view");class bf extends r.Component{constructor(...e){var t;return t=super(...e),this._setActive=(()=>{const{onClick:e,id:t}=this.props;e(t)}),t}render(){const{id:e,active:t}=this.props;return s.a.createElement("div",{className:gf({active:t}),onClick:this._setActive},s.a.createElement("button",{className:gf("button",{id:e})}))}}const yf=gu("feedback-view"),vf=ep(({onChangeCaptcha:e,didRequireCaptcha:t,captcha:n,captchaImage:r,l10n:o,containerRef:a,onChangeReaction:i,onChangeResponse:c,onChangeEmail:l,onSubmit:u,activeReaction:d,response:p,email:h,isAllowedEmail:f,isValidForm:m})=>s.a.createElement("div",{ref:a,className:yf()},s.a.createElement("h2",{className:yf("title")},o("site.feedback.rate")),s.a.createElement("div",{className:yf("item",{content:"reactions"})},hf.map(e=>s.a.createElement(bf,{key:e,id:e,active:e===d,onClick:i}))),s.a.createElement("div",{className:yf("item",{content:"response"})},s.a.createElement(mf,{title:o("site.feedback.response"),value:p,inputComponent:lf,onChange:c})),s.a.createElement("div",{className:yf("item",{content:"email"})},s.a.createElement(mf,{title:o("site.feedback.email"),error:!f,errorText:o("site.feedback.error.email"),value:h,inputComponent:df,onChange:l})),t?s.a.createElement(s.a.Fragment,null,s.a.createElement(mf,{title:o("site.feedback.captcha"),value:n,inputComponent:df,onChange:e}),s.a.createElement("div",{className:yf("captcha"),style:{backgroundImage:`url(${r})`}})):null,s.a.createElement(Eh,{viewType:"blue",size:"l",disabled:!m,onClick:u},o("site.feedback.send"))));n(160);const Ef=gu("feedback-done");var _f=({containerRef:e})=>{const{l10n:t}=Xd();return s.a.createElement("div",{ref:e,className:Ef()},s.a.createElement("div",{className:Ef("image")}),s.a.createElement("h2",{className:Ef("title")},t("site.feedback.sent.title")),s.a.createElement("div",{className:Ef("subtitle")},t("site.feedback.sent.subtitle")))};const Sf="INPUT_STATUS",wf="DONE_STATUS";var kf=(e=>{return t=>{const n=ys(e=>rf.reduce((t,n)=>{const{info:r}=e.auth;if(!r)return t;const s=r[n];return(e=>void 0===e)(s)||(t[n]=s),t},{requestId:e.request.rid})),[o,a]=Object(r.useState)(!1),[i,c]=Object(r.useState)("NA"),[l,d]=Object(r.useState)(""),[p,h]=Object(r.useState)(n.email||""),[f,m]=Object(r.useState)(!1),[g,b]=Object(r.useState)(!1),[y,v]=Object(r.useState)(""),[E,_]=Object(r.useState)(""),[S,w]=Object(r.useState)(""),k=Object(r.useCallback)(e=>c(e),[c]),C=Object(r.useCallback)(e=>d(e),[d]),O=Object(r.useCallback)(e=>w(e),[w]),R=Object(r.useCallback)(e=>{h(e),m(!1)},[h,m]),T=Object(r.useCallback)(async()=>{const e=sf.filter(e=>Boolean(n[e])).map(e=>`${e}=${n[e]}`).join(", "),{clid:t,product:r,clidName:s,partner:o}=n,c=Bc({clid:t,prod:r,partn:o,clidn:s,prod_ver:"NA"}).map(([e,t])=>`[${e}: ${t}]`).join(" "),u={answer_emoji:`${i} ${c}`,answer_comment:l,answer_email:p,answer_ua:navigator.userAgent.replace(/;/g,", "),answer_uid:e};g&&(u.captcha_0=E,u.captcha_1=S);const d=ba(u).map(e=>`${e}=${encodeURIComponent(u[e]||"undefined")}`).join("&");try{var h;const e=await Promise.race([fetch(Jh,{method:"POST",headers:Xh,body:d}),ef()]),{status:t,statusText:n}=e;if(200!==t&&400!==t)throw new Error(`Failed to send feedback: ${Jh} ${t} (${n})`);const r=await e.json();let s=!0;if(400===t){var f,y;const e=null==r?void 0:null===(f=r.fields)||void 0===f?void 0:null===(y=f.answer_email)||void 0===y?void 0:y.errors;(null==e?void 0:e.length)>0&&(m(!0),s=!1)}const o=null==r?void 0:null===(h=r.fields)||void 0===h?void 0:h.captcha;if(o){const{attrs:{"data-captcha-image-url":e,value:t}}=o.tags[0];b(!0),v(e),_(t),w(""),s=!1}s&&a(!0)}catch(e){console.error(e),a(!0)}},[i,S,E,g,p,n,l]),A=p.match(/.@.+\..{2,}/),P=A&&(!g||""!==S)&&("NA"!==i||""!==l),N=(A||""===p)&&!f;return s.a.createElement(e,u({},t,Vc(n,of),{isFinished:o,activeReaction:i,response:l,email:p,isValidForm:P,isAllowedEmail:N,captchaImage:y,onChangeEmail:R,onChangeReaction:k,onChangeResponse:C,onChangeCaptcha:O,onSubmit:T}))}})(class extends r.PureComponent{componentDidUpdate(e){const{isFinished:t,setStatus:n}=this.props;!e.isFinished&&t&&n(wf)}render(){const{status:e}=this.props;switch(e){case Sf:return s.a.createElement(vf,this.props);case wf:return s.a.createElement(_f,this.props);default:return null}}});n(153);const Cf=gu("menu");const Of=ps(null,{pushWithPreservedSearch:Au})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._onLinkClick=(e=>{const{link:t,samePage:n,pushWithPreservedSearch:r}=this.props;t&&n&&(e.preventDefault(),r(t))}),t}render(){const{link:e,text:t,samePage:n,children:r}=this.props,o=Boolean(e&&t);return s.a.createElement("div",{className:Cf("item",{isLink:o})},o?s.a.createElement("a",{className:Cf("item-label"),href:e,target:n?void 0:"_blank",onClick:this._onLinkClick},t):s.a.createElement("div",{className:Cf("item-inner")},r))}});const Rf="/about",Tf=gu("menu"),Af=up("h2");const Pf=ep(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._renderLoading=(()=>{const{containerRef:e,height:t,isProfileFetchThresholdPassed:n}=this.props;return s.a.createElement(pp,{ref:e,className:Tf({isLoading:!0}),style:{minHeight:t},isAnimated:n},s.a.createElement(Af,{className:Tf("title")}),Array(5).fill(!0).map((e,t)=>s.a.createElement(dp,{key:t},s.a.createElement(Of,null))))}),this._renderFailed=(()=>{const{containerRef:e,onRetry:t,l10n:n}=this.props;return s.a.createElement("div",{ref:e,className:Tf({type:"error"})},s.a.createElement("h2",{className:Tf("title")},n("preferences.zen_about")),s.a.createElement(ap,{title:n("preferences.failure"),onClick:t}))}),t}_renderNormal(){const{containerRef:e,eulaLink:t,l10n:n}=this.props;return s.a.createElement("div",{ref:e,className:Tf()},s.a.createElement("h2",{className:Tf("title")},n("preferences.zen_about")),s.a.createElement(Of,{text:n("preferences.what_is_zen"),link:Rf}),s.a.createElement(Of,{text:n("preferences.eula"),link:t}),s.a.createElement(Of,{text:n("preferences.feedback_title"),link:dt,samePage:!0}))}render(){const{profileStatus:e}=this.props;switch(e){case Ee.Pending:return this._renderLoading();case Ee.Error:return this._renderFailed();case Ee.Success:return this._renderNormal();default:return null}}});var Nf=ps(e=>({eulaLink:K.get(e.profile,["data","eula","externalUrl"])}),{fetchProfile:Bl})(Gu({profileAsyncProps:{fetch:({fetchProfile:e})=>e(),fetchThreshold:200}})(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this._fetchProfile=this._withAsyncStatus({fetch:()=>this.props.profileAsyncProps.fetch()}),t}_withAsyncStatus({fetch:e,withAnimation:t=!0}){return(...n)=>(this.props.setStatus(Ee.Pending,{withAnimation:t}),e(...n).then(e=>(e&&this.props.setStatus(e.status,{withAnimation:t}),e)))}componentDidMount(){this._fetchProfile()}render(){const{profileAsyncProps:e,status:t,containerRef:n,height:r,eulaLink:o}=this.props;return s.a.createElement(Pf,{containerRef:n,height:r,eulaLink:o,onRetry:this._fetchProfile,profileStatus:t,isProfileFetchThresholdPassed:e.isFetchThresholdPassed})}}));n(161),n(162);const If=wu("spinner"),xf=100,Lf=16,jf=xf/2,Df=2e3,Mf=2*Math.PI*(jf-Lf/2),Uf=[.8,.2],Ff=.8*(e=>2*Math.PI*e)(jf-Lf/2),Bf=e=>-.5*(Math.cos(Math.PI*e)-1);class zf extends s.a.Component{constructor(...e){var t;return t=super(...e),this._circleRef=Object(r.createRef)(),this.animateDashOffsetFallback=(()=>{const e=this._circleRef.current;e&&function e(t,n){const r=performance.now();requestAnimationFrame(function s(o){let a=o-r;a>n&&(a=n),t(a),a<n?requestAnimationFrame(s):requestAnimationFrame(()=>e(t,n))})}(t=>{const n=Df/Uf.length,r=t%n,s=Math.floor(t/n),o=(s-1+Uf.length)%Uf.length,a=Uf[s]-Uf[o];e.style.strokeDashoffset=String(Mf*(Uf[o]+a*Bf(r/n)))},Df)}),t}componentDidMount(){(document.documentMode||navigator.userAgent.includes("Edge"))&&this.animateDashOffsetFallback()}render(){const e=this.props,{size:t}=e,n=ne(e,["size"]),r=`0 0 ${xf} ${xf}`,o=(xf-Lf)/2,a={width:t,height:t},i=vu(n,{className:If(),style:a}),c={strokeWidth:Lf};return s.a.createElement("svg",u({},i,{viewBox:r}),s.a.createElement("circle",{ref:this._circleRef,style:c,className:If("circle"),strokeDashoffset:Ff,cx:"50",cy:"50",r:o}))}}zf.defaultProps={size:20,className:""};n(171);const Hf=gu("sticky");const Wf=ps(e=>({isWebview:Boolean(e.params.isWebview)}))(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={hasShadow:!1},t}componentDidMount(){No({scroll:1,precise:!0},({state:e})=>{this.setState({hasShadow:0!==e})})}render(){const{children:e,isWebview:t}=this.props;if(!t)return s.a.createElement(s.a.Fragment,null,e);const{hasShadow:n}=this.state;return s.a.createElement("div",{className:Hf({hasShadow:n})},e)}});n(172);const $f=gu("back-button"),qf=({path:e,onClick:t,shouldWorkInWebview:n=!0})=>{const{isWebview:r,product:o}=ys(e=>e.params),a=ms(),{zenkitApi:c}=Oa();return s.a.createElement("button",{className:$f(),onClick:s=>{const l=ed(o);t&&t(s),r&&n?l.onPageComplete():e?a(Au(e)):null===history.state||"webviewstart"===history.state?c?c.close():window.close():a(i())}})};n(163),n(165);const Gf=gu("profile-card-avatar"),Vf=88;class Kf extends r.Component{constructor(...e){var t;return t=super(...e),this._maybeRenderSleepingState=(()=>{const{isSleeping:e}=this.props;return e?s.a.createElement("div",{className:Gf("zzz-wrap")},s.a.createElement("span",{className:Gf("zzz")}),s.a.createElement("span",{className:Gf("zzz",{second:!0})}),s.a.createElement("span",{className:Gf("zzz",{third:!0})}),s.a.createElement("span",{className:Gf("zzz",{fourth:!0})})):null}),t}render(){const{className:e,size:t=Vf,avatarUrl:n,isSleeping:r}=this.props,o=n?`url(${n})`:"";return s.a.createElement("div",{className:Gf()},s.a.createElement("div",{className:gu.mix(Gf("image",{isSleeping:r}),e),style:{backgroundImage:o,width:t,height:t}}),this._maybeRenderSleepingState())}}n(166);const Zf=gu("profile-editor-section");function Yf({className:e,title:t,children:n,viewType:r}){return s.a.createElement("div",{className:gu.mix(Zf({viewType:r}),e)},s.a.createElement("div",{className:Zf("header")},s.a.createElement("span",{className:Zf("title")},t)),s.a.createElement("div",{className:Zf("body")},n))}n(164);const Qf=gu("profile-editor-avatar-section"),Jf=({children:e})=>s.a.createElement("div",{className:Qf("body")},e);n(167),n(168);const Xf=wu("switch"),em=Object(r.memo)(e=>{const{size:t="m",isChecked:n=!1,isDisabled:r=!1,isMobile:o=!1,style:a,labelStyle:i,label:c,caption:l,onChange:u}=e,d={size:t,active:n,disabled:r,mobile:o};return s.a.createElement("div",{className:Xf("outer-container")},s.a.createElement("label",{className:Xf("container",{mobile:o}),style:a,onClick:()=>{!r&&u&&u(!n)}},s.a.createElement("div",{className:Xf(d)},s.a.createElement("div",{className:Xf("control",d)},s.a.createElement("div",{className:Xf("circle",d)}))),c&&s.a.createElement("span",{style:i,className:Xf("label",d)},c)),l&&s.a.createElement("div",{className:Xf("caption",d)},l))});n(169);const tm=wu("checkbox"),nm=({viewType:e})=>{switch(e){case"dash":return s.a.createElement("svg",{width:"10",height:"2",viewBox:"0 0 10 2",fill:"none"},s.a.createElement("rect",{width:"10",height:"2",fill:"currentColor"}));case"check":return s.a.createElement("svg",{width:"10",height:"8",viewBox:"0 0 10 8"},s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("path",{d:"M-3-4h16v16H-3z"}),s.a.createElement("path",{fill:"currentColor",d:"M4.111 7.59L.261 3.74l1.256-1.257 2.594 2.594L8.483.705 9.74 1.962z"})));default:return null}},rm=e=>{const{viewType:t="check",size:n="m",name:r,label:o,isChecked:a=!1,isDisabled:i=!1,onChange:c}=e,l=ne(e,["viewType","size","name","label","isChecked","isDisabled","onChange"]),u={size:n,isDisabled:i,isChecked:a,withLabel:Boolean(o)},d=vu(l,{className:tm(u)});return s.a.createElement("label",d,s.a.createElement("div",{className:tm("box")},s.a.createElement("input",{type:"checkbox",className:tm("control"),disabled:i,name:r,checked:a,onChange:c}),s.a.createElement("div",{className:tm("tick")},s.a.createElement(nm,{viewType:t}))),o&&s.a.createElement("span",{className:tm("label")},o))};const sm=gu("profile-editor-privacy-setting");function om({className:e,viewType:t,value:n,onChange:r,label:o}){return s.a.createElement("div",{className:gu.mix(sm(),e)},"mobile"===t?s.a.createElement(em,{size:"l",label:o,isChecked:n,onChange:r}):s.a.createElement(rm,{size:"l",label:o,isChecked:n,onChange:r}))}n(170);const am=gu("profile-buttons"),im=e=>s.a.createElement(Eh,u({size:"l",viewType:"regular"},e),""),cm=e=>{let{wide:t=!1}=e,n=ne(e,["wide"]);const{l10n:r}=Xd();return s.a.createElement(Kp,{className:am("link",{widthType:n.widthType}),to:ft},s.a.createElement(Eh,u({size:"l",viewType:"regular"},n),r(t?"profile.button-edit-long":"profile.button-edit")))},lm=e=>{let{isSubscribed:t}=e,n=ne(e,["isSubscribed"]);const{l10n:r}=Xd();return s.a.createElement(Eh,u({size:"l",viewType:t?"regular":"yellow"},n),r(t?"feedback.subscribed":"profile.subscribe"))},um=e=>{const{l10n:t}=Xd();return s.a.createElement(Eh,u({size:"l",viewType:"regular"},e),t("profile.button-history"))},dm=e=>{let{notifications:t}=e,n=ne(e,["notifications"]);const{l10n:r}=Xd();return s.a.createElement(Eh,u({size:"l",viewType:"regular"},n),r("profile.button-notifications"),t&&s.a.createElement("i",{className:am("notifications-indicator")}))},pm=e=>{let{selfProfileLink:t}=e,n=ne(e,["selfProfileLink"]);const{l10n:r}=Xd();return s.a.createElement(Kp,{className:am("link",{widthType:n.widthType}),to:t},s.a.createElement(Eh,u({viewType:"yellow",size:"l"},n),r("profile.interests-info-success-button-text")))},hm=e=>{const{l10n:t}=Xd();return s.a.createElement(Kp,u({to:"/user/deactivate"},e),t("profile.editor-deactivate-profile"))},fm=((e=>t=>{class n extends r.Component{constructor(...e){var t;return t=super(...e),this.state={prevProps:this.props,cachedProps:null},t}static getDerivedStateFromProps(t,n){if(n.cachedProps)return null;const r=e(n.prevProps,t);return r?{cachedProps:r}:{prevProps:t}}render(){const{cachedProps:e}=this.state;return e?s.a.createElement(t,u({},this.props,e)):s.a.createElement(t,this.props)}}return n.displayName=wa("WithCachedProps",t),n})((e,t)=>e.subscriptionsStatus&&e.subscriptionsStatus!==Ee.Pending||!t.subscriptionsStatus||t.subscriptionsStatus===Ee.Pending?null:{subscriptionsStatus:t.subscriptionsStatus})(({className:e="",selfProfile:t,isAuthorized:n,status:r,subscriptionsStatus:o,isWebview:a,notifications:i,profileSource:c,onHistoryClick:l,onNotificationsClick:u,onSubscribeToggle:d})=>{const p=r===Ee.Success,h=o===Ee.Pending;return s.a.createElement("div",{className:gu.mix(am("group"),e)},s.a.createElement("div",{className:am("group-line")},p?t?s.a.createElement(cm,{widthType:"wide",wide:!0}):h&&n?s.a.createElement(im,null):c&&n?s.a.createElement(lm,{isSubscribed:"subscribed"===c.status,onClick:d,widthType:"wide"}):null:s.a.createElement(im,null)),t&&a?s.a.createElement("div",{className:am("group-line")},p?s.a.createElement(s.a.Fragment,null,s.a.createElement(um,{onClick:l,widthType:"wide"}),s.a.createElement(dm,{notifications:i,onClick:u,widthType:"wide"})):s.a.createElement(s.a.Fragment,null,s.a.createElement(im,null),s.a.createElement(im,null))):null)}),gu("profile-editor")),mm=140,gm=({profile:{about:e,privacy:{hideInterests:t,hideActivity:n,hideSubscriptions:r},passportAvatarEditLink:s,passportDisplayNameEditLink:o}})=>({about:e,warnAboutLength:!1,hideInterests:t,hideActivity:n,hideSubscriptions:r,status:"initial",passportAvatarEditLink:s,passportDisplayNameEditLink:o,silentUpdate:!0});class bm extends s.a.PureComponent{constructor(...e){var t;return t=super(...e),this.state=gm(this.props),this._onVisibilityChange=(()=>{const{isWebview:e,forcedGetUserProfile:t,silentGetUserProfile:n,userId:r}=this.props,{silentUpdate:s}=this.state;e&&(document.hidden||(s?n(r):t(r),this.setState({silentUpdate:!0})))}),this.onPassportClick=(e=>{const{zenkitApi:t}=this.context;if(t){const{href:n}=e.currentTarget;e.preventDefault(),t.navigateBrowser({url:n,requireUserData:!1}),this.setState({silentUpdate:!1})}}),this._maybeWrapPassportLinks=(()=>{const{zenkitApi:e}=this.context;if(e){const{tld:t,lang:n}=this.props,{passportAvatarEditLink:r,passportDisplayNameEditLink:s}=this.state;e.requestCookieAuthURL(r,n,t).then(e=>{this.setState({passportAvatarEditLink:e})}),e.requestCookieAuthURL(s,n,t).then(e=>{this.setState({passportDisplayNameEditLink:e})})}}),this.onAboutChange=(e=>{const{value:t}=e.currentTarget;this.setState({about:t.slice(0,mm),warnAboutLength:t.length>mm})}),this.onInterstsToggle=(()=>{this.setState(e=>({hideInterests:!e.hideInterests}))}),this.onSubscriptionsToggle=(()=>{this.setState(e=>({hideSubscriptions:!e.hideSubscriptions}))}),this.onActivityToggle=(()=>{this.setState(e=>({hideActivity:!e.hideActivity}))}),this.onSaveClick=(()=>{const{profile:e,saveProfile:t,pushWithPreservedSearch:n,selfProfileLink:r}=this.props,{about:s,hideInterests:o,hideActivity:a,hideSubscriptions:i}=this.state;this.setState({status:"pending"});const c=t({token:e.csrfToken,about:s,hideInterests:o,hideActivity:a,hideSubscriptions:i}),l=new Promise(e=>setTimeout(e,1e3));Promise.all([c,l]).then(()=>{n(r)},()=>{this.setState({status:"failure"})})}),t}componentDidMount(){const{profile:{passportRetPathPlaceholder:e,isDeactivated:t},location:n,selfProfileLink:r,pushWithPreservedSearch:s,isWebview:o}=this.props,{passportAvatarEditLink:a,passportDisplayNameEditLink:i}=this.state,c=Tu(n,r),l=`${window.location.origin}${c.pathname}${c.search}`,u=encodeURIComponent(l);if(t)return s(r);this.setState({passportAvatarEditLink:a.replace(e,o?"":u),passportDisplayNameEditLink:i.replace(e,o?"":u)},this._maybeWrapPassportLinks),document.addEventListener("visibilitychange",this._onVisibilityChange,!1)}componentWillUnmount(){document.removeEventListener("visibilitychange",this._onVisibilityChange)}render(){const{about:e,warnAboutLength:t,hideInterests:n,hideActivity:r,hideSubscriptions:o,status:a}=this.state,{viewType:i,profile:c,l10n:l}=this.props,{name:u,avatarUrl:d}=c,{passportAvatarEditLink:p,passportDisplayNameEditLink:h}=this.state;return s.a.createElement("div",{className:fm({viewType:i})},s.a.createElement("span",{className:fm("title")},l("profile.editor-title")),s.a.createElement(Jf,null,s.a.createElement(Kf,{size:"mobile"===i?80:88,className:fm("avatar"),avatarUrl:d}),s.a.createElement("a",{href:p,onClick:this.onPassportClick,className:fm("link")},l("profile.editor-avatar-edit-action"))),s.a.createElement(Yf,{title:l("profile.editor-caption-name"),viewType:i},s.a.createElement("div",{className:fm("display-name-container")},s.a.createElement("span",{className:fm("display-name")},u),s.a.createElement("a",{href:h,onClick:this.onPassportClick,className:fm("link")},l("profile.editor-edit-action")))),s.a.createElement(Yf,{title:s.a.createElement("span",null,l("profile.editor-caption-about"),s.a.createElement("span",{className:fm("about-condition",{warn:t})},` (${l("profile.editor-about-condition")})`)),viewType:i},s.a.createElement(lf,{className:fm("about-input"),size:"l",onChange:this.onAboutChange,value:e,placeholder:l("profile.editor-about-placeholder")})),s.a.createElement(Yf,{title:l("profile.editor-caption-privacy"),className:fm("last-section"),viewType:i},s.a.createElement(om,{viewType:"mobile"===i?"mobile":"desktop",label:l("profile.editor-privacy-interests"),value:!n,onChange:this.onInterstsToggle}),s.a.createElement(om,{viewType:"mobile"===i?"mobile":"desktop",label:l("profile.editor-privacy-activity"),value:!r,onChange:this.onActivityToggle}),s.a.createElement(om,{viewType:"mobile"===i?"mobile":"desktop",label:l("profile.editor-privacy-subscriptions"),value:!o,onChange:this.onSubscriptionsToggle}),s.a.createElement("div",{className:fm("deactivate-profile")},s.a.createElement(hm,{className:fm("deactivate-profile-link")}))),s.a.createElement("div",{className:fm("footer")},s.a.createElement(Eh,{viewType:"pending"===a?"regular":"yellow",widthType:"mobile"===i?"wide":void 0,size:"l",onClick:this.onSaveClick,disabled:"pending"===a},"pending"===a?s.a.createElement("div",{className:fm("pending")},s.a.createElement(zf,{className:fm("button-spinner")}),s.a.createElement("span",{className:fm("pending-message")},l("profile.editor-update-pending"))):l("profile.editor-update-action-long")),s.a.createElement("div",{className:fm("failure-message",{visible:"failure"===a})},l("profile.editor-update-failure"))))}}bm.contextType=Ca;const ym=ep(bm),vm=gu("profile-editor-screen");const Em=ps(e=>{const t=Or(e),n=ra(e,t),{nativeNavBarEnabled:r}=e.iface;return{userId:t,profileScope:n,isWebview:Boolean(e.params.isWebview),tld:e.params.tld,appLang:e.params.lang,location:e.router.location,selfProfileLink:pn(e),nativeNavBarEnabled:r}},{getUserProfile:pa,forcedGetUserProfile:ha,silentGetUserProfile:fa,pushWithPreservedSearch:Au,saveProfile:e=>async(t,n,{zenApi:r})=>{const s=n(),o=Cr(s);return await r.updateSocialProfile(e),t(fa(o))}})(ep(class extends s.a.PureComponent{constructor(...e){var t;return t=super(...e),this._getUserProfile=(()=>{const{userId:e,getUserProfile:t}=this.props;t(e)}),t}componentDidMount(){this._getUserProfile()}_renderPending(){return s.a.createElement("div",{className:vm("pending")},s.a.createElement(zf,null))}_renderFailure(){const{l10n:e}=this.props;return s.a.createElement("div",{className:vm("failure")},s.a.createElement(ap,{onClick:this._getUserProfile,title:e("common.data-not-loaded")},e("common.request-retry")))}_renderSuccess(){const{isWebview:e,viewType:t,profileScope:n,saveProfile:r,pushWithPreservedSearch:o,tld:a,location:i,selfProfileLink:c,userId:l,forcedGetUserProfile:u,silentGetUserProfile:d}=this.props;if(!n.data)return;const{data:p}=n;return s.a.createElement(ym,{viewType:t,profile:p,saveProfile:r,pushWithPreservedSearch:o,isWebview:e,tld:a,location:i,selfProfileLink:c,userId:l,forcedGetUserProfile:u,silentGetUserProfile:d})}_renderMobileHeader(){return s.a.createElement(Wf,null,s.a.createElement("div",{className:vm("mobile-header")},s.a.createElement(qf,{shouldWorkInWebview:!1})))}_renderBody(){const{profileScope:e}=this.props,{status:t}=e;switch(t){case Ee.Pending:return this._renderPending();case Ee.Error:return this._renderFailure();case Ee.Success:return this._renderSuccess()}}render(){const{viewType:e,nativeNavBarEnabled:t}=this.props;return s.a.createElement("div",{className:vm()},"mobile"!==e||t?null:this._renderMobileHeader(),s.a.createElement("div",{className:vm("body")},this._renderBody()))}}));n(173);const _m=gu("profile-topics-feedback");const Sm=ps(e=>({isMobile:Boolean(e.context.isMobile),selfProfileLink:pn(e)}))(Ra(({zenApi:e})=>({zenApi:e}))(ep(class extends s.a.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isButtonDisabled:!0,more:"",less:"",status:"initial"},this._sendFeedback=(async()=>{const{zenApi:e}=this.props,{more:t,less:n}=this.state;this.setState({status:"pending"}),e.sendInterestsFeedback({more:t,less:n}).then(()=>this.setState({status:"success"})).catch(()=>this.setState({status:"failure"}))}),this._renderSuccess=(()=>{const{isMobile:e,selfProfileLink:t,l10n:n}=this.props;return s.a.createElement("div",{className:_m("success-message",{isMobile:e})},s.a.createElement("div",{className:_m("title")},n("profile.interests-info-success-title")),s.a.createElement("div",{className:_m("subtitle")},n("profile.interests-info-success-subtitle")),s.a.createElement(pm,{widthType:e?"wide":void 0,selfProfileLink:t}))}),this._renderForm=(()=>{const{isButtonDisabled:e,more:t,less:n,status:r}=this.state,{isMobile:o,l10n:a}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:_m("title")},a("profile.interests-info-title")),s.a.createElement("p",{className:_m("paragraph")},a("profile.interests-info-message-1")),s.a.createElement("p",{className:_m("paragraph")},a("profile.interests-info-message-2")),s.a.createElement("div",{className:_m("input-wrap")},s.a.createElement("span",{className:_m("input-label"),dangerouslySetInnerHTML:{__html:a("profile.interests-info-want")}}),s.a.createElement(lf,{onChange:this._onChange,className:_m("input"),value:t,name:"more",size:o?"m":"l",placeholder:a("profile.interests-info-want-placeholder")})),s.a.createElement("div",{className:_m("input-wrap")},s.a.createElement("span",{className:_m("input-label"),dangerouslySetInnerHTML:{__html:a("profile.interests-info-do-not-want")}}),s.a.createElement(lf,{onChange:this._onChange,className:_m("input"),value:n,name:"less",size:o?"m":"l",placeholder:a("profile.interests-info-do-not-want-placeholder")})),s.a.createElement("div",{className:_m("footer")},s.a.createElement("div",{className:_m("failure-message",{visible:"failure"===r})},a("profile.editor-update-failure")),"pending"===r?s.a.createElement("div",{className:_m("pending")},s.a.createElement(zf,null),s.a.createElement("span",{className:_m("pending-message")},a("profile.editor-update-pending"))):s.a.createElement(Eh,{disabled:e,viewType:"yellow",widthType:o?"wide":void 0,size:"l",onClick:this._sendFeedback},a("profile.interests-info-button-text"))))}),this._onChangeInputsState=(()=>{const{more:e,less:t}=this.state;this.setState({isButtonDisabled:!(e||t)})}),this._onChange=(e=>{const{name:t,value:n}=e.currentTarget;t&&Ri(this.state,t)!==n&&this.setState({[t]:n},this._onChangeInputsState)}),this._maybeRenderMobileHeader=(()=>{const{isMobile:e}=this.props;return e?s.a.createElement(Wf,null,s.a.createElement("div",{className:_m("header")},s.a.createElement(qf,{shouldWorkInWebview:!1}))):null}),t}render(){const{status:e}=this.state,{isMobile:t}=this.props;return s.a.createElement(s.a.Fragment,null,this._maybeRenderMobileHeader(),s.a.createElement("div",{className:_m({isMobile:t})},"success"===e?this._renderSuccess():this._renderForm()))}})));n(174),n(175);const wm=wu("radio"),km=e=>{const{size:t="m",name:n,label:r,isChecked:o=!1,isDisabled:a=!1,onChange:i}=e,c=ne(e,["size","name","label","isChecked","isDisabled","onChange"]),l=vu(c,{className:wm({size:t,isDisabled:a,isChecked:o,withLabel:Boolean(r)})});return s.a.createElement("label",l,s.a.createElement("div",{className:wm("box")},s.a.createElement("input",{type:"radio",className:wm("control"),disabled:a,name:n,checked:o,onChange:i}),s.a.createElement("div",{className:wm("tick")})),r?s.a.createElement("span",{className:wm("label")},r):null)},Cm=(e=>{const t=(e,n)=>Object.keys(n).reduce((r,s)=>{const o=[...e,s];if(Qa(n[s]))r[s]=t(o,n[s]);else{const e=o.join(".");r[s]=e}return r},{});return t([],e)})({social_profile:{show:{self:!0,foreign:!0},onboarding:{show:{like:!0,comment:!0,subscribe:!0,profile:!0},click:{like:!0,comment:!0,subscribe:!0,profile:!0},closeClick:{like:!0,comment:!0,subscribe:!0,profile:!0}},subscriptions:{self:!0,foreign:!0},followers:{self:!0,foreign:!0},interests:{self:!0,foreign:!0},deactivate:{interests:!0,likes:!0,other:!0,show:!0,cancel:!0}}}),Om=gu("profile-deactivate"),Rm="deactivate",Tm="initial",Am=500,Pm="other",Nm=["interests","likes",Pm],Im={interests:{text:e=>e("profile.deactivate-reason-interests-text"),hint:e=>e("profile.deactivate-reason-interests-hint"),stat:Cm.social_profile.deactivate.interests},likes:{text:e=>e("profile.deactivate-reason-likes-text"),hint:e=>e("profile.deactivate-reason-likes-hint"),stat:Cm.social_profile.deactivate.likes},[Pm]:{text:e=>e("profile.deactivate-reason-other-text"),stat:Cm.social_profile.deactivate.other}};const xm=ep(class extends s.a.PureComponent{constructor(...e){var t;return t=super(...e),this.state={reason:"",isButtonDisabled:!0,otherReason:"",step:Tm,status:"",warnOtherLength:!1},this._getUserProfile=(()=>{const{userId:e,getUserProfile:t}=this.props;t(e)}),this._onReasonChange=(e=>{this.setState({reason:e,isButtonDisabled:!1})}),this._onOtherReasonChange=(e=>{const{value:t}=e.currentTarget;this.setState({otherReason:t&&t.slice(0,Am),warnOtherLength:Boolean(t&&t.length>Am)})}),this._onContinueClick=(()=>{const{step:e,reason:t,otherReason:n}=this.state,{profileScope:r,deactivateProfile:s,pushWithPreservedSearch:o,selfProfileLink:a,clientLogger:i}=this.props,{data:c}=r,{csrfToken:l}=c;if(e===Rm)return this.setState({status:"pending"}),s(t!==Pm?t:n,{token:l}).then(()=>{this.setState({status:""}),i.logClick(Im[t].stat),o(a)},()=>{this.setState({status:"failure"})});this.setState({step:Rm})}),this._onBackButtonClick=(()=>{this.setState({step:Tm})}),this._renderReason=(e=>{const{reason:t}=this.state,{l10n:n}=this.props;return s.a.createElement("div",{key:e},s.a.createElement(km,{size:"l",name:"reason",value:e,label:Im[e].text(n),isChecked:t===e,onChange:()=>this._onReasonChange(e)}))}),this._maybeRenderHint=(()=>{const{reason:e}=this.state,{l10n:t}=this.props;if(Im[e]&&Im[e].hint)return s.a.createElement(Kp,{to:ft,className:Om("hint"),dangerouslySetInnerHTML:{__html:Im[e].hint(t)}})}),this._maybeRenderCustomReasonForm=(()=>{const{viewType:e}=this.props,{reason:t,otherReason:n,warnOtherLength:r}=this.state,{l10n:o}=this.props;if(t===Pm)return s.a.createElement("div",{className:Om("other")},s.a.createElement(lf,{value:n,onChange:this._onOtherReasonChange,placeholder:o("profile.deactivate-reason-other-placeholder"),size:"mobile"===e?"m":"l"}),s.a.createElement("div",{className:Om("other-hint",{warn:r})},o("profile.deactivate-reason-other-hint")))}),this._renderReasons=(()=>s.a.createElement("div",{className:Om("reasons")},Nm.map(e=>this._renderReason(e)))),this._maybeRenderInitialStep=(()=>{const{step:e}=this.state,{l10n:t}=this.props;return e!==Tm?null:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:Om("title")},t("profile.deactivate-init-title")),this._renderReasons(),this._maybeRenderHint(),this._maybeRenderCustomReasonForm())}),this._maybeRenderDeactivateStep=(()=>{const{step:e}=this.state,{viewType:t,l10n:n}=this.props;return e!==Rm?null:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:Om("title")},"mobile"===t?null:s.a.createElement(Rp,{onClick:this._onBackButtonClick}),n("profile.deactivate-confirm-title")),s.a.createElement("p",null,n("profile.deactivate-confirm-message")),s.a.createElement("ul",{className:Om("points")},s.a.createElement("li",null,s.a.createElement("span",{className:Om("point-dot")}),n("profile.deactivate-confirm-message-point-1")),s.a.createElement("li",null,s.a.createElement("span",{className:Om("point-dot")}),n("profile.deactivate-confirm-message-point-2"))))}),t}componentDidMount(){const{clientLogger:e}=this.props;e.logShow(Cm.social_profile.deactivate.show),this._getUserProfile()}_maybeRenderMobileHeader(){const{viewType:e}=this.props;return"mobile"!==e?null:s.a.createElement(Wf,null,s.a.createElement("div",{className:Om("mobile-header")},s.a.createElement(qf,{shouldWorkInWebview:!1})))}render(){const{isButtonDisabled:e,step:t,status:n}=this.state,{viewType:r,l10n:o}=this.props;return s.a.createElement("div",{className:Om({viewType:r})},this._maybeRenderMobileHeader(),s.a.createElement("div",{className:Om("body")},this._maybeRenderInitialStep(),this._maybeRenderDeactivateStep()),s.a.createElement("div",{className:Om("footer")},s.a.createElement("div",{className:Om("failure-message",{visible:"failure"===n})},o("profile.deactivate-failure")),"pending"===n?s.a.createElement("div",{className:Om("pending")},s.a.createElement(zf,null)):s.a.createElement(Eh,{viewType:"yellow",widthType:"mobile"===r?"wide":void 0,size:"l",disabled:e&&t===Tm,onClick:this._onContinueClick},o(t===Tm?"profile.deactivate-continue":"profile.deactivate"))))}}),Lm=Object(Z.createSelector)(oo,e=>({logClick(t){Bn(t)(e).log("client_click")},logShow(t){Bn(t)(e).log("client_show")},logRender(t){Bn(t)(e).log("client_render")}})),jm={getUserProfile:pa,deactivateProfile:(e,t)=>async(n,r,{zenApi:s})=>{const o=r(),a=Cr(o);return await s.deactivateProfile(e,t),n(fa(a))},pushWithPreservedSearch:Au},Dm=Ra(({zenApi:e})=>({zenApi:e}))(ps((e,{zenApi:t})=>{const n=Or(e),r=ra(e,n),s=Lm(e,t);return{userId:n,profileScope:r,selfProfileLink:pn(e),clientLogger:s}},jm)(xm)),Mm={ONBOARDING_MODAL_ROUTE_KEY:{component:gh,initialStatus:Ee.Pending},[lt]:{component:Ah,initialStatus:Ee.Pending},[ht]:{component:Ah,initialStatus:Ee.Pending},"/user/:uid(\\d*)/followers":{component:Qh,initialStatus:Ee.Pending},[ut]:{component:ah,initialStatus:Ee.Pending},"/top/:id":{component:xp,initialStatus:Ee.Pending},"/profile":{component:Nf,initialStatus:Ee.Pending},"/profile/blocked":{component:jh,initialStatus:Ee.Pending},[dt]:{component:kf,initialStatus:Sf},"/search":{component:bh},[ft]:{component:e=>s.a.createElement(Em,u({},e,{viewType:"desktop"})),viewType:"inner-close-fixed-thin"},"/user/interests-feedback":{component:Sm},"/user/deactivate":{component:e=>s.a.createElement(Dm,u({},e,{viewType:"desktop"})),viewType:"inner-close-fixed-thin"}},Um=10,Fm=100,Bm=100,zm=600,Hm=(e,t)=>`${t||null}_${e}`;const Wm={closeModal:Nu};var $m=Ra(({outputBus:e,modalRoutes:t})=>({outputBus:e,modalRoutes:t}))(ps((e,{modalRoutes:t})=>{const{location:n}=e.router,{forcedModalRoute:r}=e.modal,s=Ql({location:n,forcedModalRoute:r,modalRoutes:t}),o=s&&Mm[s.routeId]||null;return{columnCount:Tn(e),route:o,location:n,path:s&&s.routeId,match:s&&s.match}},Wm)(class extends r.PureComponent{constructor(...e){var t;return t=super(...e),this.state={route:null,match:null,status:null,height:0,shouldCloseOnEscClick:!0,isAnimationDisabled:!1},this._containerRef=Object(r.createRef)(),this._composeContainerRefs=uu(),this._modalScrollableContainerRef=Object(r.createRef)(),this._close=(()=>{const{closeModal:e}=this.props;e(Pu)}),this._setStatus=((e,t)=>{t=t||{};const{withAnimation:n=!0}=t;this.setState({status:e,isAnimationDisabled:!n})}),this._enableCloseOnEscClick=(()=>{this.setState({shouldCloseOnEscClick:!0})}),this._disableCloseOnEscClick=(()=>{this.setState({shouldCloseOnEscClick:!1})}),this._getFadeDuration=((e,t,n)=>Fm*Math.abs(n)),this._getResizeDuration=((e,t)=>{const{height:n}=this.state;let r;if("number"==typeof n){const e=document.documentElement.clientHeight,s=Math.min(n,e);r=Math.min(n+t,e)-s}else r=t;return Math.max(Math.min(Math.abs(r),zm),Bm)}),t}static getDerivedStateFromProps(e,t){const{route:n,match:r}=e;return t.route!==n?{route:n,match:r,status:n?n.initialStatus:null,height:null,shouldCloseOnEscClick:!0,isAnimationDisabled:!1}:null}getSnapshotBeforeUpdate(e,t){return Hm(t.status,e.path)!==Hm(this.state.status,this.props.path)?{height:this._containerRef.current?this._containerRef.current.offsetHeight:null}:null}componentDidUpdate(e,t,n){if(n&&this.setState({height:n.height}),!t.route&&this.state.route){const{outputBus:e}=this.props;e.emit("popupOpen")}}render(){const{columnCount:e,location:t,searchDropdownContainerRef:n}=this.props,{route:r,match:o,status:a,height:i,isAnimationDisabled:c,shouldCloseOnEscClick:l}=this.state,u=wr[e]-2*Um;if(!r)return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ru,{isOpen:!1}),s.a.createElement(wp,{containerRef:n}));const d={isOpen:!0,close:this._close,style:{width:u,margin:"-4px auto 0"},shouldCloseOnEscClick:l,scrollableContainerRef:this._modalScrollableContainerRef,withScrollbarFix:!0,viewType:r.viewType};return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ru,d,s.a.createElement(Hu,{triggerKey:Hm(this.state.status,this.props.path),isDisabled:c,fadeTimingFunction:"ease-in-out",resizeTimingFunction:"ease-in-out",getFadeDuration:this._getFadeDuration,getResizeDuration:this._getResizeDuration},({ref:e})=>s.a.createElement(r.component,{location:t,match:o,containerRef:this._composeContainerRefs(this._containerRef,e),modalScrollableContainerRef:this._modalScrollableContainerRef,height:i,status:a,setStatus:this._setStatus,enableCloseOnEscClick:this._enableCloseOnEscClick,disableCloseOnEscClick:this._disableCloseOnEscClick}))),s.a.createElement(wp,{containerRef:n}))}}));const qm=({refs:e})=>s.a.createElement("div",{className:"zen-popup"},s.a.createElement($m,{searchDropdownContainerRef:e.searchDropdownContainerRef}));const Gm=e=>{const t=`Invalid response from ZenApi${e.message?`: '${e.message}'`:""}.`,n=new Error(t);throw e.errorType&&(n.type=e.errorType),e.ttl&&(n.ttl=e.ttl),n},Vm=e=>{Array.isArray(e.items)&&e.items.length>0&&e.more&&e.more.link&&e.bulk&&e.bulk.link||Gm(e)};class Km{setHandler(){}setContext(){}error(){}warn(){}log(){}}const Zm={ONBOARDING_MODAL_ROUTE_KEY:{forced:!0},[lt]:{path:lt,exact:!0},[ht]:{path:ht,exact:!0},"/user/:uid(\\d*)/followers":{path:"/user/:uid(\\d*)/followers",exact:!0},[ut]:{path:ut,exact:!0},"/top/:id":{path:"/top/:id",exact:!0},"/profile":{path:"/profile",exact:!0},"/profile/blocked":{path:"/profile/blocked",exact:!0},[dt]:{path:dt,exact:!0},"/search":{path:"/search",exact:!0},[ft]:{path:ft},"/user/interests-feedback":{path:"/user/interests-feedback"},"/user/deactivate":{path:"/user/deactivate"}},Ym=e=>()=>t=>n=>{if(n.broadcastable){const t=Object.assign({},n);delete t.statEvent,delete t.bulkStat,delete t.broadcastable,t.tabId=e,Go.setItem("BROADCAST_ACTION",JSON.stringify(t))}return t(n)};if(!window||!window.Promise)throw new Fa({message:"window and promise must exist for zenlib-loader",owner:Ua.Front,sourceType:Ma.Logic});const Qm={"__LANG__":"ru","preferences.users":"Пользователи","profile.interests-title":"Интересы","preferences.channels":"Каналы","onboarding.yabro_interests_retry":"Обновить","suggest.headers.empty_list":"Ничего не найдено","suggest.failure":"Результаты поиска не загрузились","suggest.search_placeholder2":"каналы и интересы","suggest.channel_placeholder":"Поиск каналов","suggest.search":"Поиск","suggest.search_placeholder3":"Найти каналы и интересы","suggest.headers.recommeded_channels":"Вам могут быть интересны","channels.top-title":"Топ каналов","navigate_bar.channels":"Каналы","blocked.desktop.failure":"Данные не загрузились","navigate_bar.enter_profile":"Войти в профиль","onboarding.new.title":"Чем вы интересуетесь?","onboarding.new.subtitle":"Выберите, какие темы вам нравятся, чтобы получать больше интересных материалов в ленту","onboarding.new.ready":"Готово","subs.add-channel":"Добавить канал","subs.my":"Мои","navigate_bar.subs":"Подписки","subs.empty":"У вас пока нет подписок","subs.other-empty":"Подписок пока нет или пользователь предпочёл скрыть их","subs.find-channels":"Найти интересные каналы","blocked.empty":"У вас пока нет заблокированных каналов","preferences.blocked":"Заблокированное","blocked.desktop.title":"Заблокированные каналы","comments.removed-user":"Удалённый пользователь","feedback.subscribed":"Вы подписаны","profile.subscribe":"Подписаться","profile.followers.title":"Подписчики","profile.followers-empty":"У вас пока нет подписчиков","profile.followers-other-empty":"Подписчиков пока нет","site.feedback.rate":"Оцените Яндекс.Дзен","site.feedback.response":"Как вам Яндекс.Дзен?","site.feedback.email":"Электронная почта","site.feedback.error.email":"Некорректный адрес электронной почты","site.feedback.captcha":"Символы на картинке","site.feedback.send":"Отправить","site.feedback.sent.title":"Cпасибо!","site.feedback.sent.subtitle":"Ваш отзыв отправлен","preferences.zen_about":"О сервисе","preferences.failure":"Профиль не загрузился","preferences.what_is_zen":"Что такое Дзен?","preferences.eula":"Пользовательское соглашение","preferences.feedback_title":"Обратная связь","profile.button-edit-long":"Настройки профиля","profile.button-edit":"Настройки","profile.button-history":"История","profile.button-notifications":"Уведомления","profile.interests-info-success-button-text":"Хорошо","profile.editor-deactivate-profile":"Деактивировать профиль","profile.editor-title":"Настройки профиля","profile.editor-avatar-edit-action":"Изменить фото профиля","profile.editor-caption-name":"Имя на сервисах Яндекса","profile.editor-edit-action":"Изменить","profile.editor-caption-about":"О себе","profile.editor-about-condition":"максимум 140 символов","profile.editor-about-placeholder":"Расскажите о себе","profile.editor-caption-privacy":"Настройки приватности","profile.editor-privacy-interests":"Мои интересы видны всем","profile.editor-privacy-activity":"Мои лайки видны всем","profile.editor-privacy-subscriptions":"Мои подписки видны всем","profile.editor-update-pending":"Сохранение","profile.editor-update-action-long":"Сохранить изменения","profile.editor-update-failure":"Не удалось сохранить","common.data-not-loaded":"Данные не загрузились","common.request-retry":"Попробовать снова","profile.interests-info-success-title":"Отлично!","profile.interests-info-success-subtitle":"Спасибо, что уточнили ваши интересы. В финальной версии алгоритма они будут учтены.","profile.interests-info-title":"Уточнить интересы","profile.interests-info-message-1":"Дзен автоматически определяет интересы, но вы можете их уточнить.","profile.interests-info-message-2":"Пожалуйста перечислите:","profile.interests-info-want":"О чем вы <i>хотите</i> читать","profile.interests-info-want-placeholder":"Например: путешествия, история","profile.interests-info-do-not-want":"О чем вы <i>не хотите</i> читать","profile.interests-info-do-not-want-placeholder":"Что бы это могло быть?","profile.interests-info-button-text":"Отправить","profile.deactivate-reason-interests-text":"Не хочу, чтобы кто-то видел мои интересы","profile.deactivate-reason-interests-hint":"Вы можете <b>скрыть свои интересы</b> на экране редактирования профиля","profile.deactivate-reason-likes-text":"Не хочу, чтобы кто-то видел мои лайки","profile.deactivate-reason-likes-hint":"Вы можете <b>скрыть свою активность</b> на экране редактирования профиля","profile.deactivate-reason-other-text":"Другое","profile.deactivate-reason-other-placeholder":"Если вам не сложно, расскажите о причине — это поможет нам сделать Дзен лучше","profile.deactivate-reason-other-hint":"максимум 500 символов","profile.deactivate-init-title":"Почему вы хотите деактивировать профиль?","profile.deactivate-confirm-title":"Вы уверены?","profile.deactivate-confirm-message":"Деактивируя свой профиль, вы теряете:","profile.deactivate-confirm-message-point-1":"Список понравившихся вам публикаций","profile.deactivate-confirm-message-point-2":"Возможность комментировать происходящее","profile.deactivate-failure":"Что-то пошло не так","profile.deactivate-continue":"Продолжить","profile.deactivate":"Деактивировать"},Jm=new ll(e=>Object.assign({},e,{apiResponseValidator:Vm}));let Xm=null,eg=null;const tg=()=>{if(!Xm)throw new Error("Get store before init");return Xm},ng=(()=>{const e=(()=>{const e=Date.now();return(t,n=2592e6)=>{const{user:r}=t,s=e+t.user.serverTimeDiff,{zenApp:o,zenAppIos:a}=r.lastSawFeed;return s-Math.max(o||0,a||0)<Math.max(1728e5,n)}})();return t=>{const{rezenSmsPopup:n}=Wt(t),{pastTimeAfterLastSawFeed:r}=n;return e(t,r)}})(),rg=({app:e,outputBus:t})=>{var n,s;return s=n=class extends r.Component{constructor(...e){var t;return t=super(...e),this.changeListener=(e=>{const{onChange:t}=this.props;t&&t(e)}),this.closeListener=(()=>{const{onClose:e}=this.props;e&&e()}),this.openSubs=(()=>{this.setRoute(pl.SUBS)}),this.openChannels=(()=>{this.setRoute(pl.CHANNELS)}),this.openBlocked=(()=>{this.setRoute(pl.BLOCKED)}),this.openSearch=(()=>{this.setRoute(pl.SEARCH)}),this.openAbout=(()=>{this.setRoute(pl.ABOUT)}),this.close=(()=>{this.setRoute("/")}),this.setRoute=(e=>{tg().dispatch(a(e))}),this.getRoute=(()=>tg().getState().location.path),t}componentDidMount(){t.on("popupClose",this.closeListener),t.on("sourceChange",this.changeListener)}componentWillUnmount(){t.off("popupClose",this.closeListener),t.off("sourceChange",this.changeListener)}render(){return e}},n.sendAppLinkSms=(e=>Jm.sendAppLinkSms(e)),n.checkZenAppUser=(()=>ng(tg().getState())),s},sg={create:(e,t)=>{if(eg)throw new Fa({message:"Lib has been loaded already",owner:Ua.Front,sourceType:Ma.Logic});return(eg=(async()=>{const{host:n,clid:r,countryCode:o,lang:a,teethType:i,zenFeatures:c,clientExperiments:u,libType:d,notifiersPosition:p,styles:h,isMobile:f,initialDisplayedRowsNumber:m,refs:g}=e,b={product:ct.MODAL_LIB,host:n,clid:r,countryCode:o,lang:a,teethType:i,zenFeatures:Object.assign({},void 0,c),clientExperiments:u,libType:d,notifiersPosition:p,styles:h,isMobile:f};let y;e.userInfo&&(y={oauthToken:e.userInfo.oauthToken,login:e.userInfo.login,deviceId:e.userInfo.deviceId,profileId:e.userInfo.profileId,yandexuid:e.userInfo.yandexuid});const v=e=>{if(!e.bulk||!e.bulk.link){const t=`Invalid response from ZenApi${e.message?`: '${e.message}'`:""}.`,n=new Error(t);throw e.ttl&&(n.ttl=e.ttl),n}};Jm.configure(t=>Object.assign({},t,b,{cache:e.cache,apiResponseValidator:v})),t||(t=await Jm.getPublisherConfig());const{auth:E}=t,_=F({initialEntries:["/"]}),S=hl(),w=Math.round(1e8*Math.random()),k={zenApi:Jm,zenLogger:new Km,inputBus:new Va,outputBus:S,privateBus:new Va,modalRoutes:Zm},C=(e=>[Tr(e),zn(e),Gn(e)])(k).concat([l(_),Ym(w)]),{app:O,store:R}=(({settings:e,App:t,reducer:n,history:r,translations:o,middlewares:a=[],zenContext:i,nativeZenApiMethods:c={},onBeforeInit:l,feedId:u,refs:d})=>{const p=xa(n,Ar(a,i,u));l&&l(),p.dispatch(Sa(e));const h=p.getState(),{isWebview:f}=h.params;return f&&La&&(i.zenkitApi=new Ta(p)),{app:s.a.createElement(Ca.Provider,{value:ka(i)},s.a.createElement(Pa.Provider,{value:o},s.a.createElement(Fr,{store:p},ja(r,s.a.createElement(t,{nativeZenApiMethods:c,exportData:e,refs:d}))))),store:p}})({settings:{exportData:t,params:b,auth:E,user:y,initialDisplayedRowsNumber:m},App:qm,reducer:lu(_),middlewares:C,history:_,translations:Qm,zenContext:k,refs:g});return Xm=R,((e,t)=>{let n;const r=()=>{const r=t.getState(),s=fl(r);void 0!==n&&n===s||(n=s,e.configure(e=>Object.assign({},e,s)))};r(),t.subscribe(r)})(Jm,R),rg({app:O,outputBus:S})})()).catch(()=>{eg=null}),eg}};dl().modalLib=sg},function(e,t,n){"use strict";n.r(t);n(2);var r=n(28),s=n.n(r);const o=new s.a("regular-ysans"),a=new s.a("bold-ysans"),i=new s.a("medium-ysans");window._fontsLoadPromise=Promise.all([o.load(),a.load(),i.load()]).then(()=>{window._isFontsLoaded=!0,document.documentElement.className+=" fonts-loaded"}).catch(e=>{console.warn(`Error on font face observer: ${JSON.stringify(e,null,2)}`)})}]);